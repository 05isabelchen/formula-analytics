<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2015 | Formula Analytics</title>
    <link rel="stylesheet" href = "2015/WDC2015.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Poetsen+One&family=Racing+Sans+One&family=Rubik+Glitch&family=Sansation:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=Satisfy&family=Squada+One&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="Home/Images/F1Icon.png">
</head>
<body>

    <!-- Navigation -->
    <nav>
    <div class="nav-container">
        <div class="logo">FORMULA ANALYTICS</div>
        <ul class="nav-links">
            <li><a href="Home.html">Home</a></li>
            <li class="dropdown">
                <a href="#races">Championship</a>
                <ul class="dropdown-menu">
                    <li><a href="WDC2015.html">2015</a></li>
                    <li><a href="WDC2016.html">2016</a></li>
                    <li><a href="Projects/mobile-apps.html">2018</a></li>
                    <li><a href="Projects/mobile-apps.html">2021</a></li>
                    <li><a href="Projects/mobile-apps.html">2023</a></li>
                    <li><a href="Projects/mobile-apps.html">2024</a></li>
                </ul>
            </li>
            <li><a href="#drivers">Drivers</a></li>
            <li><a href="#teams">Teams</a></li>
            <li><a href="#news">Circuits</a></li>
            <li><a href="#standings">2025 Championship</a></li>
        </ul>
    </div>
</nav>



    <!-- Hero Section -->
    <section id="overview" class="hero">
        <div class="hero-content">
            <h1 class="hero-title">2015 SEASON OVERVIEW</h1>
        </div>
    </section>
<div class="container">

    <!-- Highlight Box -->
        <div class="highlight-box">
            <h3>Lewis Hamilton's Dominant Championship Victory</h3>
            <p>The 2015 Formula 1 season was Mercedes' second year of dominance, with Lewis Hamilton winning his third World Championship with three races to spare. Hamilton secured 10 victories from 19 races, while teammate Nico Rosberg won 6 times, giving Mercedes 16 wins out of 19 races. Ferrari provided the season's main storyline beyond Mercedes, with Sebastian Vettel's move from Red Bull sparking a return to competitiveness. Vettel won 3 races including his Ferrari debut in Malaysia, marking the team's first victories since 2013. This created the grid's most compelling battles as Hamilton and Vettel renewed their rivalry from previous seasons. Mercedes won both championships convincingly through superior hybrid power unit technology and consistent execution. Red Bull struggled with their Renault engines, while McLaren's new Honda partnership proved problematic, dropping them to the back of the field.</p>
            </div>

<!--Table of Contents-->

<div class="toc-container">

    
    <!-- Document-style TOC -->
    <div class="document-toc">
        <div class="document-toc-title">Contents</div>
        <div class="toc-entry main-entry">
            <span class="entry-number">1</span>
            <span class="entry-title">Season Overview</span>
            <span class="entry-section" data-section="overview">Start</span>
        </div>
        
        <div class="toc-entry">
            <span class="entry-number">2</span>
            <span class="entry-title">2015 F1 Drivers</span>
            <span class="entry-section" data-section="driver">Drivers</span>
        </div>
        
        <div class="toc-entry">
            <span class="entry-number">3</span>
            <span class="entry-title">Constructor Teams</span>
            <span class="entry-section" data-section="teams">Teams</span>
        </div>
        
        <div class="toc-entry">
            <span class="entry-number">4</span>
            <span class="entry-title">Championship Standings</span>
            <span class="entry-section" data-section="championship">Standings</span>
        </div>
        
        <div class="toc-entry">
            <span class="entry-number">5</span>
            <span class="entry-title">Qualifying vs Race Performance</span>
            <span class="entry-section" data-section="quali">Qualifying</span>
        </div>
        
        <div class="toc-entry">
            <span class="entry-number">6</span>
            <span class="entry-title">Race-by-Race Analysis</span>
            <span class="entry-section" data-section="race-slideshow">All Races</span>
        </div>
        
        <div class="toc-entry">
            <span class="entry-number">7</span>
            <span class="entry-title">Statistical Analysis & Insights</span>
            <span class="entry-section" data-section="analysis">Analysis</span>
        </div>
        
        <div class="toc-entry">
            <span class="entry-number">8</span>
            <span class="entry-title">Driver Performance Analysis</span>
            <span class="entry-section" data-section="driver-analysis">Driver Data</span>
        </div>

        <div class="toc-entry">
            <span class="entry-number">9</span>
            <span class="entry-title">Constructor Performance Analysis</span>
            <span class="entry-section" data-section="team-analysis">Team Data</span>
        </div>
        
        <div class="toc-entry">
            <span class="entry-number">10</span>
            <span class="entry-title">Verstappen Rookie Performance</span>
            <span class="entry-section" data-section="verstappen">Verstappen</span>
        </div>
        
        </div>
    </div>
</div>

        <!-- Stats Section -->
        <section class="stats">
            <div class="stat-grid">
                <div class="stat-card">
                    <span class="stat-number">19</span>
                    <span>Total Races</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">16</span>
                    <span>Mercedes Wins</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">10</span>
                    <span>Hamilton Wins</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">6</span>
                    <span>Rosberg Wins</span>
                </div>
            </div>

            <h3>Key Season Facts</h3>
            <ul>
                <li><strong>Champion:</strong> Lewis Hamilton won after defending his championship at the USA GP</li>
                <li><strong>Constructors' Champion:</strong> Mercedes won second consecutive championship</li>
                <li><strong>Rookie of the Year:</strong> Max Verstappen (youngest F1 driver at 17)</li>
                <li><strong>Most Dominant Team:</strong> Mercedes won 16 out of 19 races</li>
                <li><strong>New Circuits:</strong> Return of Mexico after 23 years</li>
            </ul>
        </section>

        <section id = "driver" class="section">
        <h2 class="drivers-section-title">2015 F1 DRIVERS</h2>
        <div class="drivers-container">
            <div class="scroll-indicator scroll-left" onclick="scrollDrivers('left')"></div>
            <div class="drivers-scroll" id="driversScroll">
                
                <!-- Lewis Hamilton -->
                <div class="driver-card">
                    <div class="driver-header">
                        <div class="team-color-bar mercedes"></div>
                        <div class="driver-number">44</div>
                        <div class="driver-image">
                            <img src="2015/Images/LewisHamilton.jpg" alt="Lewis Hamilton">
                        </div>
                    </div>
                    <div class="driver-info">
                        <div class="driver-name">Lewis Hamilton</div>
                    </div>
                    <div class="driver-overlay">
                        <div class="overlay-name">Lewis Hamilton</div>
                        <div class="overlay-team">Mercedes</div>
                        <div class="overlay-stats">
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">7</div>
                                <div class="overlay-stat-label">Championships</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">105</div>
                                <div class="overlay-stat-label">Wins</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">202</div>
                                <div class="overlay-stat-label">Podiums</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">40</div>
                                <div class="overlay-stat-label">Age</div>
                            </div>
                        </div>
                        <div class="overlay-country">United Kingdom</div>
                    </div>
                </div>

                <!-- Nico Rosberg -->
                <div class="driver-card">
                    <div class="driver-header">
                        <div class="team-color-bar mercedes"></div>
                        <div class="driver-number">63</div>
                        <div class="driver-image">
                            <img src="2015/Images/NicoRosberg.jpg" alt="George Russell">
                        </div>
                    </div>
                    <div class="driver-info">
                        <div class="driver-name">Nico Rosberg</div>
                    </div>
                    <div class="driver-overlay">
                        <div class="overlay-name">Nico Rosberg</div>
                        <div class="overlay-team">Mercedes</div>
                        <div class="overlay-stats">
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">0</div>
                                <div class="overlay-stat-label">Championships</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">4</div>
                                <div class="overlay-stat-label">Wins</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">20</div>
                                <div class="overlay-stat-label">Podiums</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">27</div>
                                <div class="overlay-stat-label">Age</div>
                            </div>
                        </div>
                        <div class="overlay-country">Germany</div>
                    </div>
                </div>

                

                <!-- Sebastian Vettel -->
                <div class="driver-card">
                    <div class="driver-header">
                        <div class="team-color-bar ferrari"></div>
                        <div class="driver-number">4</div>
                        <div class="driver-image">
                            <img src="2015/Images/SebastianVettel.jpg" alt="Lando Norris">
                        </div>
                    </div>
                    <div class="driver-info">
                        <div class="driver-name">Sebastian Vettel</div>
                    </div>
                    <div class="driver-overlay">
                        <div class="overlay-name">Sebastian Vettel</div>
                        <div class="overlay-team">Ferrari</div>
                        <div class="overlay-stats">
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">0</div>
                                <div class="overlay-stat-label">Championships</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">8</div>
                                <div class="overlay-stat-label">Wins</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">36</div>
                                <div class="overlay-stat-label">Podiums</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">25</div>
                                <div class="overlay-stat-label">Age</div>
                            </div>
                        </div>
                        <div class="overlay-country">Germany</div>
                    </div>
                </div>

                <!-- Kimi Räikkönen -->
                <div class="driver-card">
                    <div class="driver-header">
                        <div class="team-color-bar ferrari"></div>
                        <div class="driver-number">81</div>
                        <div class="driver-image">
                            <img src="2015/Images/KimiRaikkonen.jpg" alt="Oscar Piastri">
                        </div>
                        
                    </div>
                    <div class="driver-info">
                        <div class="driver-name">Kimi Räikkönen</div>
                    </div>
                    <div class="driver-overlay">
                        <div class="overlay-name">Kimi Räikkönen</div>
                        <div class="overlay-team">Ferrari</div>
                        <div class="overlay-stats">
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">0</div>
                                <div class="overlay-stat-label">Championships</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">7</div>
                                <div class="overlay-stat-label">Wins</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">20</div>
                                <div class="overlay-stat-label">Podiums</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">23</div>
                                <div class="overlay-stat-label">Age</div>
                            </div>
                        </div>
                        <div class="overlay-country">Australia</div>
                    </div>
                </div>


                
                <!-- Felipe Massa -->
                <div class="driver-card">
                    <div class="driver-header">
                        <div class="team-color-bar williams"></div>
                        <div class="driver-number">16</div>
                        <div class="driver-image">
                            <img src="2015/Images/FelipeMassa.jpg" alt="Charles Leclerc">
                        </div>
                    </div>
                    <div class="driver-info">
                        <div class="driver-name">Felipe Massa</div>
                    </div>
                    <div class="driver-overlay">
                        <div class="overlay-name">Felipe Massa</div>
                        <div class="overlay-team">Williams</div>
                        <div class="overlay-stats">
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">0</div>
                                <div class="overlay-stat-label">Championships</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">8</div>
                                <div class="overlay-stat-label">Wins</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">47</div>
                                <div class="overlay-stat-label">Podiums</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">27</div>
                                <div class="overlay-stat-label">Age</div>
                            </div>
                        </div>
                        <div class="overlay-country">Monaco</div>
                    </div>
                </div>

                <!-- Valtteri Bottas -->
                <div class="driver-card">
                    <div class="driver-header">
                        <div class="team-color-bar williams"></div>
                        <div class="driver-number">11</div>
                        <div class="driver-image">
                            <img src="2015/Images/ValterriBottas.jpg" alt="Yuki Tsunoda">
                        </div>
                    </div>
                    <div class="driver-info">
                        <div class="driver-name">Valtteri Bottas</div>
                    </div>
                    <div class="driver-overlay">
                        <div class="overlay-name">Valtteri Bottas</div>
                        <div class="overlay-team">Williams</div>
                        <div class="overlay-stats">
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">0</div>
                                <div class="overlay-stat-label">Championships</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">0</div>
                                <div class="overlay-stat-label">Wins</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">0</div>
                                <div class="overlay-stat-label">Podiums</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">35</div>
                                <div class="overlay-stat-label">Age</div>
                            </div>
                        </div>
                        <div class="overlay-country">Japan</div>
                    </div>
                </div>

                

                <!-- Daniel Ricciardo -->
                <div class="driver-card">
                    <div class="driver-header">
                        <div class="team-color-bar red-bull"></div>
                        <div class="driver-number">12</div>
                        <div class="driver-image">
                            <img src="2015/Images/DanielRicciardo.jpg" alt="Kimi Antonelli">
                        </div>
                    </div>
                    <div class="driver-info">
                        <div class="driver-name">Daniel Ricciardo</div>
                    </div>
                    <div class="driver-overlay">
                        <div class="overlay-name">Daniel Ricciardo</div>
                        <div class="overlay-team">Red Bull-Renault</div>
                        <div class="overlay-stats">
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">0</div>
                                <div class="overlay-stat-label">Championships</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">0</div>
                                <div class="overlay-stat-label">Wins</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">1</div>
                                <div class="overlay-stat-label">Podiums</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">18</div>
                                <div class="overlay-stat-label">Age</div>
                            </div>
                        </div>
                        <div class="overlay-country">Australia</div>
                    </div>
                </div>

                <!-- Daniil Kvyat -->
                <div class="driver-card">
                    <div class="driver-header">
                        <div class="team-color-bar red-bull"></div>
                        <div class="driver-number">14</div>
                        <div class="driver-image">
                            <img src="2015/Images/DaniilKvyat.jpg" alt="Fernando Alonso">
                        </div>
                    </div>
                    <div class="driver-info">
                        <div class="driver-name">Daniil Kvyat</div>
                    </div>
                    <div class="driver-overlay">
                        <div class="overlay-name">Daniil Kvyat</div>
                        <div class="overlay-team">Red Bull-Renault</div>
                        <div class="overlay-stats">
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">2</div>
                                <div class="overlay-stat-label">Championships</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">32</div>
                                <div class="overlay-stat-label">Wins</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">106</div>
                                <div class="overlay-stat-label">Podiums</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">43</div>
                                <div class="overlay-stat-label">Age</div>
                            </div>
                        </div>
                        <div class="overlay-country">Russia</div>
                    </div>
                </div>

                <!-- Sergio Pérez -->
                <div class="driver-card">
                    <div class="driver-header">
                        <div class="team-color-bar alpine"></div>
                        <div class="driver-number">18</div>
                        <div class="driver-image">
                            <img src="2015/Images/SergioPerez.jpg" alt="Lance Stroll">
                        </div>
                    </div>
                    <div class="driver-info">
                        <div class="driver-name">Sergio Pérez</div>
                    </div>
                    <div class="driver-overlay">
                        <div class="overlay-name">Sergio Pérez</div>
                        <div class="overlay-team">Force India-Mercedes</div>
                        <div class="overlay-stats">
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">0</div>
                                <div class="overlay-stat-label">Championships</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">0</div>
                                <div class="overlay-stat-label">Wins</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">3</div>
                                <div class="overlay-stat-label">Podiums</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">26</div>
                                <div class="overlay-stat-label">Age</div>
                            </div>
                        </div>
                        <div class="overlay-country">Mexico</div>
                    </div>
                </div>
                <!-- Nico Hülkenberg -->
                <div class="driver-card">
                    <div class="driver-header">
                        <div class="team-color-bar alpine"></div>
                        <div class="driver-number">18</div>
                        <div class="driver-image">
                            <img src="2015/Images/NicoHulkenberg.jpg" alt="Pierre Gasly">
                        </div>
                    </div>
                    <div class="driver-info">
                        <div class="driver-name">Nico Hülkenberg</div>
                    </div>
                    <div class="driver-overlay">
                        <div class="overlay-name">Nico Hülkenberg</div>
                        <div class="overlay-team">Force India-Mercedes</div>
                        <div class="overlay-stats">
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">0</div>
                                <div class="overlay-stat-label">Championships</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">1</div>
                                <div class="overlay-stat-label">Wins</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">5</div>
                                <div class="overlay-stat-label">Podiums</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">26</div>
                                <div class="overlay-stat-label">Age</div>
                            </div>
                        </div>
                        <div class="overlay-country">France</div>
                    </div>
                </div>

                <!-- Romain Gosjean -->
                <div class="driver-card">
                    <div class="driver-header">
                        <div class="team-color-bar lotus"></div>
                        <div class="driver-number">18</div>
                        <div class="driver-image">
                            <img src="2015/Images/RomainGrosjean.jpg" alt="Franco Colapinto">
                        </div>
                    </div>
                    <div class="driver-info">
                        <div class="driver-name">Romain Grosjean</div>
                    </div>
                    <div class="driver-overlay">
                        <div class="overlay-name">Romain Grosjean</div>
                        <div class="overlay-team">Lotus-Mercedes</div>
                        <div class="overlay-stats">
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">0</div>
                                <div class="overlay-stat-label">Championships</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">0</div>
                                <div class="overlay-stat-label">Wins</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">3</div>
                                <div class="overlay-stat-label">Podiums</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">26</div>
                                <div class="overlay-stat-label">Age</div>
                            </div>
                        </div>
                        <div class="overlay-country">France</div>
                    </div>
                </div>

                <!-- Pastor Maldonado -->
                <div class="driver-card">
                    <div class="driver-header">
                        <div class="team-color-bar lotus"></div>
                        <div class="driver-number">18</div>
                        <div class="driver-image">
                            <img src="2015/Images/PastorMaldonado.jpg" alt="Esteban Ocon">
                        </div>
                    </div>
                    <div class="driver-info">
                        <div class="driver-name">Pastor Maldonado</div>
                    </div>
                    <div class="driver-overlay">
                        <div class="overlay-name">Pastor Maldonado</div>
                        <div class="overlay-team">Lotus-Mercedes</div>
                        <div class="overlay-stats">
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">0</div>
                                <div class="overlay-stat-label">Championships</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">1</div>
                                <div class="overlay-stat-label">Wins</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">4</div>
                                <div class="overlay-stat-label">Podiums</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">26</div>
                                <div class="overlay-stat-label">Age</div>
                            </div>
                        </div>
                        <div class="overlay-country">France</div>
                    </div>
                </div>

                <!-- Will Stevens -->
                <div class="driver-card">
                    <div class="driver-header">
                        <div class="team-color-bar marussia"></div>
                        <div class="driver-number">18</div>
                        <div class="driver-image">
                            <img src="2015/Images/WillStevens.jpg" alt="Oliver Bearman">
                        </div>
                    </div>
                    <div class="driver-info">
                        <div class="driver-name">Will Stevens</div>
                    </div>
                    <div class="driver-overlay">
                        <div class="overlay-name">Will Stevens</div>
                        <div class="overlay-team">Marussia-Ferrari</div>
                        <div class="overlay-stats">
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">0</div>
                                <div class="overlay-stat-label">Championships</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">0</div>
                                <div class="overlay-stat-label">Wins</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">0</div>
                                <div class="overlay-stat-label">Podiums</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">20</div>
                                <div class="overlay-stat-label">Age</div>
                            </div>
                        </div>
                        <div class="overlay-country">United Kingdom</div>
                    </div>
                </div>

                <!-- Roberto Merhi -->
                <div class="driver-card">
                    <div class="driver-header">
                        <div class="team-color-bar marussia"></div>
                        <div class="driver-number">18</div>
                        <div class="driver-image">
                            <img src="2015/Images/RobertoMerhi.jpg" alt="Liam Lawson">
                        </div>
                    </div>
                    <div class="driver-info">
                        <div class="driver-name">Roberto Merhi</div>
                    </div>
                    <div class="driver-overlay">
                        <div class="overlay-name">Roberto Merhi</div>
                        <div class="overlay-team">Marussia-Ferrari</div>
                        <div class="overlay-stats">
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">0</div>
                                <div class="overlay-stat-label">Championships</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">0</div>
                                <div class="overlay-stat-label">Wins</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">0</div>
                                <div class="overlay-stat-label">Podiums</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">21</div>
                                <div class="overlay-stat-label">Age</div>
                            </div>
                        </div>
                        <div class="overlay-country">United States</div>
                    </div>
                </div>

                <!-- Marcus Ericsson -->
                <div class="driver-card">
                    <div class="driver-header">
                        <div class="team-color-bar sauber"></div>
                        <div class="driver-number">18</div>
                        <div class="driver-image">
                            <img src="2015/Images/MarcusEriccson.jpg" alt="Isack Hadjar">
                        </div>
                    </div>
                    <div class="driver-info">
                        <div class="driver-name">Marcus Ericsson</div>
                    </div>
                    <div class="driver-overlay">
                        <div class="overlay-name">Marcus Ericsson</div>
                        <div class="overlay-team">Sauber-Ferrari</div>
                        <div class="overlay-stats">
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">0</div>
                                <div class="overlay-stat-label">Championships</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">0</div>
                                <div class="overlay-stat-label">Wins</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">0</div>
                                <div class="overlay-stat-label">Podiums</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">20</div>
                                <div class="overlay-stat-label">Age</div>
                            </div>
                        </div>
                        <div class="overlay-country">Sweden</div>
                    </div>
                </div>

                <!-- Felipe Nasr -->
                <div class="driver-card">
                    <div class="driver-header">
                        <div class="team-color-bar sauber"></div>
                        <div class="driver-number">18</div>
                        <div class="driver-image">
                            <img src="2015/Images/FelipeNasr.jpg" alt="Alex Albon">
                        </div>
                    </div>
                    <div class="driver-info">
                        <div class="driver-name">Felipe Nasr</div>
                    </div>
                    <div class="driver-overlay">
                        <div class="overlay-name">Felipe Nasr</div>
                        <div class="overlay-team">Sauber-Ferrari</div>
                        <div class="overlay-stats">
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">0</div>
                                <div class="overlay-stat-label">Championships</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">0</div>
                                <div class="overlay-stat-label">Wins</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">2</div>
                                <div class="overlay-stat-label">Podiums</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">29</div>
                                <div class="overlay-stat-label">Age</div>
                            </div>
                        </div>
                        <div class="overlay-country">Thailand</div>
                    </div>
                </div>

                <!-- Carlos Sainz -->
                <div class="driver-card">
                    <div class="driver-header">
                        <div class="team-color-bar tororosso"></div>
                        <div class="driver-number">18</div>
                        <div class="driver-image">
                            <img src="2015/Images/CarlosSainz.jpg" alt="Carlos Sainz">
                        </div>
                    </div>
                    <div class="driver-info">
                        <div class="driver-name">Carlos Sainz</div>
                    </div>
                    <div class="driver-overlay">
                        <div class="overlay-name">Carlos Sainz</div>
                        <div class="overlay-team">Toro Rosso-Renault</div>
                        <div class="overlay-stats">
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">0</div>
                                <div class="overlay-stat-label">Championships</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">4</div>
                                <div class="overlay-stat-label">Wins</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">27</div>
                                <div class="overlay-stat-label">Podiums</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">31</div>
                                <div class="overlay-stat-label">Age</div>
                            </div>
                        </div>
                        <div class="overlay-country">Spain</div>
                    </div>
                </div>

                <!-- Max Verstappen -->
                <div class="driver-card">
                    <div class="driver-header">
                        <div class="team-color-bar tororosso"></div>
                        <div class="driver-number">1</div>
                        <div class="driver-image">
                            <img src="2015/Images/MaxVerstappen.jpg" alt="Max Verstappen">
                        </div>
                    </div>
                    <div class="driver-info">
                        <div class="driver-name">Max Verstappen</div>
                    </div>
                    <div class="driver-overlay">
                        <div class="overlay-name">Max Verstappen</div>
                        <div class="overlay-team">Toro Rosso-Renault</div>
                        <div class="overlay-stats">
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">4</div>
                                <div class="overlay-stat-label">Championships</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">65</div>
                                <div class="overlay-stat-label">Wins</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">117</div>
                                <div class="overlay-stat-label">Podiums</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">26</div>
                                <div class="overlay-stat-label">Age</div>
                            </div>
                        </div>
                        <div class="overlay-country">Netherlands</div>
                    </div>
                </div>

                <!-- Fernando Alonso -->
                <div class="driver-card">
                    <div class="driver-header">
                        <div class="team-color-bar mclaren"></div>
                        <div class="driver-number">18</div>
                        <div class="driver-image">
                            <img src="2015/Images/FernandoAlonso.jpg" alt="Nico Hulkenberg">
                        </div>
                    </div>
                    <div class="driver-info">
                        <div class="driver-name">Fernando Alonso</div>
                    </div>
                    <div class="driver-overlay">
                        <div class="overlay-name">Fernando Alonso</div>
                        <div class="overlay-team">McLaren-Honda</div>
                        <div class="overlay-stats">
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">0</div>
                                <div class="overlay-stat-label">Championships</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">0</div>
                                <div class="overlay-stat-label">Wins</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">1</div>
                                <div class="overlay-stat-label">Podiums</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">41</div>
                                <div class="overlay-stat-label">Age</div>
                            </div>
                        </div>
                        <div class="overlay-country">Spain</div>
                    </div>
                </div>

                <!-- Jensen Button -->
                <div class="driver-card">
                    <div class="driver-header">
                        <div class="team-color-bar mclaren"></div>
                        <div class="driver-number">18</div>
                        <div class="driver-image">
                            <img src="2015/Images/JensenButton.jpg" alt="Gabriel Bortoleto">
                        </div>
                    </div>
                    <div class="driver-info">
                        <div class="driver-name">Jensen Button</div>
                    </div>
                    <div class="driver-overlay">
                        <div class="overlay-name">Jensen Button</div>
                        <div class="overlay-team">McLaren</div>
                        <div class="overlay-stats">
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">0</div>
                                <div class="overlay-stat-label">Championships</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">0</div>
                                <div class="overlay-stat-label">Wins</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">0</div>
                                <div class="overlay-stat-label">Podiums</div>
                            </div>
                            <div class="overlay-stat">
                                <div class="overlay-stat-value">20</div>
                                <div class="overlay-stat-label">Age</div>
                            </div>
                        </div>
                        <div class="overlay-country">United Kingdom</div>
                    </div>
                </div>
            </div>
            <div class="scroll-indicator scroll-right" onclick="scrollDrivers('right')"></div>
        </div>
    </section>

    <section id = "teams" class="section">
        <h2 class="teams-section-title">2015 F1 TEAMS</h2>
        <div class="teams-container">
            <div class="scroll-indicator scroll-left" onclick="scrollTeams('left')"></div>
            <div class="teams-scroll" id="teamsScroll">
                <!-- Mercedes -->
 <div class="teams-card">
    <div class="teams-header">
        <div class="team-color-bar mercedes"></div>
        <div class="teams-image">
            <img src="2015/Images/mercedes.jpg" alt="Mercedes">
        </div>
    </div>
    <div class="teams-info">
        <div class="teams-name">Mercedes</div>
    </div>
    <div class="teams-overlay">
        <div class="overlay-name">Mercedes-AMG Petronas F1 Team</div>
        <div class="overlay-drivers">Lewis Hamilton | Nico Rosberg</div>
     
    </div>
</div>

<!-- Ferrari -->
                <div class="teams-card">
                    <div class="teams-header">
                        <div class="team-color-bar ferrari"></div>
                        <div class="teams-image">
                            <img src="2015/Images/ferrari.jpg" alt="Ferrari">
                        </div>
                    </div>
                    <div class="teams-info">
                        <div class="teams-name">Ferrari</div>
                    </div>
                    <div class="teams-overlay">
                        <div class="overlay-name">Scuderia Ferrari</div>
                        <div class="overlay-drivers">Sebastian Vettel | Kimi Räikkönen</div>
    </div>
</div>

<!-- Williams -->
                <div class="teams-card">
    <div class="teams-header">
        <div class="team-color-bar williams"></div>
        <div class="teams-image">
            <img src="2015/Images/williams.jpg" alt="Aston Martin">
        </div>
    </div>
    <div class="teams-info">
        <div class="teams-name">Williams-Mercedes</div>
    </div>
    <div class="teams-overlay">
        <div class="overlay-name">Williams Martini Racing</div>
        <div class="overlay-drivers">Felipe Massa | Valtteri Bottas</div>
    </div>
</div>

                <!-- Red Bull Racing -->
                <div class="teams-card">
                    <div class="teams-header">
                        <div class="team-color-bar red-bull"></div>
                        <div class="teams-image">
                            <img src="2015/Images/redbull.jpg" alt="Red Bull">
                        </div>
                    </div>
                    <div class="teams-info">
                        <div class="teams-name">Red Bull-Renault</div>
                    </div>
                    <div class="teams-overlay">
                        <div class="overlay-name">Infiniti Red Bull Racing</div>
                        <div class="overlay-drivers">Daniel Ricciardo | Daniil Kvyat</div>
    </div>
</div>

 <!-- Force India -->
                <div class="teams-card">
    <div class="teams-header">
        <div class="team-color-bar alpine"></div>
        <div class="teams-image">
            <img src="2015/Images/forceindia.jpg" alt="Aston Martin">
        </div>
    </div>
    <div class="teams-info">
        <div class="teams-name">Force India-Mercedes</div>
    </div>
    <div class="teams-overlay">
        <div class="overlay-name">Sahara Force India F1 Team</div>
        <div class="overlay-drivers">Sergio Pérez | Nico Hülkenberg</div>
    </div>
</div>

                

               
                <!-- Lotus -->
                <div class="teams-card">
    <div class="teams-header">
        <div class="team-color-bar lotus"></div>
        <div class="teams-image">
            <img src="2015/Images/lotus.jpg" alt="Alpine">
        </div>
    </div>
    <div class="teams-info">
        <div class="teams-name">Lotus-Mercedes</div>
    </div>
    <div class="teams-overlay">
        <div class="overlay-name">Lotus F1 Team</div>
        <div class="overlay-drivers">Romain Grosjean | Pastor Maldonado</div>
        
    </div>
</div>

               

                <!-- Toro Rosso-->
                <div class="teams-card">
    <div class="teams-header">
        <div class="team-color-bar tororosso"></div>
        <div class="teams-image">
            <img src="2015/Images/tororosso.jpg" alt="Aston Martin">
        </div>
    </div>
    <div class="teams-info">
        <div class="teams-name">Toro Rosso-Renault</div>
    </div>
    <div class="teams-overlay">
        <div class="overlay-name">Scuderia Toro Rosso</div>
        <div class="overlay-drivers">Max Verstappen | Carlos Sainz</div>
    
    </div>
</div>

                
                <!-- Sauber -->
                <div class="teams-card">
    <div class="teams-header">
        <div class="team-color-bar sauber"></div>
        <div class="teams-image">
            <img src="2015/Images/sauber.png" alt="Aston Martin">
        </div>
    </div>
    <div class="teams-info">
        <div class="teams-name">Sauber-Ferrari</div>
    </div>
    <div class="teams-overlay">
        <div class="overlay-name">Sauber F1 Team</div>
        <div class="overlay-drivers">Marcus Ericsson | Felipe Nasr</div>
        
    </div>
</div>

<!-- McLaren -->
                <div class="teams-card">
                    <div class="teams-header">
                        <div class="team-color-bar mclaren"></div>
                        <div class="teams-image">
                            <img src="2015/Images/mclaren.jpg" alt="Mclaren">
                        </div>
                    </div>
                    <div class="teams-info">
                        <div class="teams-name">McLaren-Honda</div>
                    </div>
                    <div class="teams-overlay">
                        <div class="overlay-name">McLaren Honda</div>
                        <div class="overlay-drivers">Jenson Button | Fernando Alonso</div>
        
    </div>
</div>

 <!-- Marussia -->
<div class="teams-card">
    <div class="teams-header">
        <div class="team-color-bar marussia"></div>
        <div class="teams-image">
            <img src="2015/Images/marussia.jpg" alt="Aston Martin">
        </div>
    </div>
    <div class="teams-info">
        <div class="teams-name">Marussia-Ferrari</div>
    </div>
    <div class="teams-overlay">
        <div class="overlay-name">Manor Marussia F1 Team</div>
        <div class="overlay-drivers">Will Stevens | Roberto Merhi</div>
        
    </div>
</div>
                

<div class="scroll-indicator scroll-right" onclick="scrollTeams('right')"></div>
        </div>
    </section>


        <!-- Championship Standings -->
        <section id="championship" class="section">
            <h2>Championship Standings</h2>
            
            <h3>Drivers' Championship</h3>
    <div class="driver-standings always-visible">
        <div class="driver-row championship-winner always-visible">
            <span class="position">1</span>
            <span class="driver-name-standing">Lewis Hamilton</span>
            <span class="points">381 pts</span>
        </div>
        <div class="driver-row always-visible">
            <span class="position">2</span>
            <span class="driver-name-standing">Nico Rosberg</span>
            <span class="points">322 pts</span>
        </div>
        <div class="driver-row always-visible">
            <span class="position">3</span>
            <span class="driver-name-standing">Sebastian Vettel</span>
            <span class="points">278 pts</span>
        </div>
        <div class="driver-row always-visible">
            <span class="position">4</span>
            <span class="driver-name-standing">Kimi Räikkönen</span>
            <span class="points">150 pts</span>
        </div>
        <div class="driver-row always-visible">
            <span class="position">5</span>
            <span class="driver-name-standing">Valtteri Bottas</span>
            <span class="points">136 pts</span>
        </div>
    </div>
<button class="code-btn" onclick="toggleCodeSection('driver-standings')">Show Python Code</button>
        <div id="driver-standings" class="code-section">
            <div class="code-header">
                <span>Python Code for Driver Standings</span>
                <button class="copy-btn" onclick="copyCode('driver-standings')">Copy</button>
            </div>
            <pre>
drivers_standings_2015 = recent_drivers_standings[recent_drivers_standings['year'] == 2015]
plt.figure(figsize=(18, 12))

for fullName in drivers_standings_2015['fullName'].unique():
    driver_data = drivers_standings_2015[drivers_standings_2015['fullName'] == fullName].sort_values('round')
    plt.plot(driver_data['name'], driver_data['points'], 
             marker='o', linewidth=2.5, markersize=6,
             label=f'{fullName}', alpha=0.8)

plt.ylabel('Cumulative Championship Points', fontsize=14)
plt.xlabel('Grand Prix', fontsize=14)
plt.title("Driver Championship Points During 2015 Season", fontsize=16, fontweight='bold')
plt.xticks(rotation=45, ha='right')
plt.legend(bbox_to_anchor=(1.05, 1), loc='upper left')
plt.grid(True, alpha=0.3)
plt.tight_layout()
plt.show()
            </pre>
            </div>
            <div class="chart-placeholder" onclick="expandChart(this)">
                    <img src="2015/Images/DriverPoints2015.png" alt="Australian Grand Prix 2015 Position Chart">
                </div>

            <h3>Constructors' Championship</h3>
            <div class="driver-standings">
                <div class="driver-row championship-winner">
                    <span class="position">1</span>
                    <span class="driver-name-standing">Mercedes</span>
                    <span class="points">703 pts</span>
                </div>
                <div class="driver-row">
                    <span class="position">2</span>
                    <span class="driver-name-standing">Ferrari</span>
                    <span class="points">428 pts</span>
                </div>
                <div class="driver-row">
                    <span class="position">3</span>
                    <span class="driver-name-standing">Williams</span>
                    <span class="points">257 pts</span>
                </div>
                <div class="driver-row">
                    <span class="position">4</span>
                    <span class="driver-name-standing">Red Bull</span>
                    <span class="points">187 pts</span>
                </div>
                <div class="driver-row">
                    <span class="position">5</span>
                    <span class="driver-name-standing">Force India</span>
                    <span class="points">136 pts</span>
                </div>
            </div>
<button class="code-btn" onclick="toggleCodeSection('constructor-standings')">Show Python Code</button>
        <div id="constructor-standings" class="code-section">
            <div class="code-header">
                <span>Python Code for Constructors Standings</span>
                <button class="copy-btn" onclick="copyCode('constructor-standings')">Copy</button>
            </div>
            <pre>
constructor_standings_2015 = recent_constructor_standings[recent_constructor_standings['year'] == 2015]
plt.figure(figsize=(15, 12))
race_names = constructor_standings_2015.groupby('round')['name_y'].first().sort_index()

for constructor in constructor_standings_2015['name_x'].unique():
    constructor_data = constructor_standings_2015[constructor_standings_2015['name_x'] == constructor].sort_values('round')
    plt.plot(constructor_data['name_y'], constructor_data['points'], linewidth=2.5, markersize=6,
             label=f'{constructor}', alpha=0.8)

plt.ylabel('Cumulative Championship Points', fontsize=14)
plt.xlabel('Grand Prix', fontsize=14)
plt.title("Constructor Championship Points During 2015 Season", fontsize=16, fontweight='bold')
plt.xticks(rotation=45, ha='right')
plt.legend(bbox_to_anchor=(1.05, 1), loc='upper left')
plt.grid(True, alpha=0.3)
plt.tight_layout()
plt.show()
            </pre>
            </div>
                    <div class="chart-placeholder" onclick="expandChart(this)">
                    <img src="2015/Images/ConstructorStandings2015.png" alt="Australian Grand Prix 2015 Position Chart">
                </div>
        </section>
</div>

<section id = "quali" class = "section">
    <h2>Qualifying vs. Race Results</h2>

    <h3>Grand Prix Qualifying Correlation</h3>
    <button class="code-btn" onclick="toggleCodeSection('GPquali')">Show Python Code</button>
        <div id="GPquali" class="code-section">
            <div class="code-header">
                <span>Python Code for Constructors Standings</span>
                <button class="copy-btn" onclick="copyCode('GPquali')">Copy</button>
            </div>
            <pre>
def race_by_race_analysis(self):
        """Analyze qualifying impact for each race in 2015"""
        print(f"\n{'='*80}")
        print("RACE-BY-RACE QUALIFYING IMPACT ANALYSIS")
        print("="*80)
    
        race_analysis = []
    
        for race_id in sorted(self.analysis_data['raceId'].unique()):
            race_data = self.analysis_data[self.analysis_data['raceId'] == race_id]
            finished_race_data = race_data.dropna(subset=['position'])
        
            if len(finished_race_data) >= 10:  # Minimum drivers to calculate correlation
                race_info = race_data.iloc[0]
                correlation = finished_race_data['quali_position'].corr(finished_race_data['position'])
                avg_position_change = race_data['position_change'].mean()
                pole_winner = (finished_race_data['quali_position'] == 1) & (finished_race_data['position'] == 1)
                pole_won = pole_winner.any()
            
                race_analysis.append({
                    'round': race_info['round'],
                    'race_name': race_info['race_name'],
                    'circuit': race_info['circuit_name'],
                    'correlation': correlation,
                    'avg_position_change': avg_position_change,
                    'pole_winner': pole_won,
                    'finishers': len(finished_race_data),
                    'predictability': 'High' if correlation > 0.7 else 'Medium' if correlation > 0.5 else 'Low'
                })
    
        race_df = pd.DataFrame(race_analysis)
        race_df = race_df.sort_values('correlation', ascending = False)
    
        print(f"{'Round':5} {'Race':25} {'Predictability':13} {'Correlation':12} {'Avg Pos Change':15} {'Pole Winner'}")
        print("-" * 80)
    
        for _, row in race_df.iterrows():
            pole_symbol = "✓" if row['pole_winner'] else "✗"
            print(f"{row['round']:5} {row['race_name'][:24]:25} {row['predictability']:13} {row['correlation']:12.3f} "
                f"{row['avg_position_change']:15.2f} {pole_symbol}")
    
        print(f"\nRace Analysis Summary:")
        print(f"Average correlation across races: {race_df['correlation'].mean():.3f}")
        print(f"Races where pole position won: {race_df['pole_winner'].sum()}/{len(race_df)}")
        print(f"Most predictable race (highest correlation): {race_df.loc[race_df['correlation'].idxmax(), 'race_name']}")
        print(f"Most unpredictable race (lowest correlation): {race_df.loc[race_df['correlation'].idxmin(), 'race_name']}")
    
        return race_df


analyzer = F1_2015_QualifyingAnalysis()
results = analyzer.run_complete_analysis()
correlation = results['correlation']
driver_stats = results['driver_stats']
full_dataset = results['full_data']
analyzer.race_by_race_analysis()
analyzer.driver_analysis()
            </pre>
            </div>
                <div class="chart-placeholder" onclick="expandChart(this)">
                    <img src="2015/Images/Gpqualistats.png" alt="Australian Grand Prix 2015 Position Chart">
                </div>
                <br><small>This race-by-race analysis reveals how predictable Formula 1 qualifying results were in determining final race outcomes throughout the 2015 season. </small>
                <h4><strong>Statistical Analysis</strong></h4>
                <p>The data shows that most races (15 out of 19) had high predictability with correlation coefficients above 0.7, meaning qualifying position strongly predicted finishing position. The Mexican Grand Prix was the most predictable race with a 0.951 correlation, while the Russian Grand Prix proved most chaotic with only a 0.469 correlation. Interestingly, pole position converted to victory in 12 of the 19 races, with notable exceptions including Monaco, Austria, Hungary, the United States, and Russia where strategic factors, incidents, or weather conditions disrupted the qualifying order. The average position change of 1.44 positions suggests that while the grid order largely held, there was still meaningful movement during races, particularly evident in races like Singapore (2.53 average change) and the United States (3.67 average change) where strategic opportunities and racing incidents created more dynamic outcomes.</p>
                <div class="summary-tables">
    <table class="correlation-table">
        <thead>
            <tr><th colspan="2">Correlation Analysis</th></tr>
        </thead>
        <tbody>
            <tr><td>Pearson Correlation</td><td>0.7794</td></tr>
            <tr><td>Spearman Correlation</td><td>0.7885</td></tr>
            <tr><td>R² (Variance Explained)</td><td>60.7%</td></tr>
            <tr><td>Correlation Strength</td><td>Strong</td></tr>
        </tbody>
    </table>
    
    <table class="race-table">
        <thead>
            <tr><th colspan="2">Race Analysis Summary</th></tr>
        </thead>
        <tbody>
            <tr><td>Average Correlation</td><td>0.794</td></tr>
            <tr><td>Pole Position Wins</td><td>12/19</td></tr>
            <tr><td>Most Predictable Race</td><td>Mexican GP</td></tr>
            <tr><td>Least Predictable Race</td><td>Russian GP</td></tr>
        </tbody>
    </table>
    </div>
    <h4><strong>Table Summary</strong></h4>
    <p>This statistical summary demonstrates a strong relationship between qualifying and race performance in the 2015 Formula 1 season. With Pearson and Spearman correlations both around 0.78-0.79, qualifying position proved to be a reliable predictor of race finishing position, explaining approximately 61% of the variance in race outcomes. The correlation strength is classified as "strong," indicating that grid position generally translated well to final results. Across all 19 races, pole position converted to victory 63% of the time (12 wins), while the average race correlation of 0.794 shows consistent predictability throughout the season.</p>
                    
    <h3>Correlation Visualizations</h3>
    <button class="code-btn" onclick="toggleCodeSection('correlationviz')">Show Python Code</button>
        <div id="correlationviz" class="code-section">
            <div class="code-header">
                <span>Python Code for Constructors Standings</span>
                <button class="copy-btn" onclick="copyCode('correlationviz')">Copy</button>
            </div>
            <pre>
class F1_2015_QualifyingAnalysis:
    def __init__(self):
        """Initialize 2015 F1 Qualifying Impact Analysis"""
        self.analysis_data = None
        self.prepare_analysis_data()
        
    def prepare_analysis_data(self):
        """Merge qualifying data with race results for 2015"""
        print("Preparing 2015 F1 Season Qualifying Impact Analysis...")
        quali_data = qualifying_2015[['raceId', 'driverId', 'position', 'q1', 'q2', 'q3']].copy()
        quali_data.rename(columns={'position': 'quali_position'}, inplace=True)
        self.analysis_data = performance_data.merge(
            quali_data, 
            on=['raceId', 'driverId'], 
            how='inner'
        )
        
        # Calculate key metrics
        self.analysis_data['position_change'] = (
            self.analysis_data['quali_position'] - self.analysis_data['position']
        )
        self.analysis_data['finished_race'] = ~self.analysis_data['position'].isna()
        self.analysis_data['points_scored'] = self.analysis_data['points'] > 0
        self.analysis_data['top10_finish'] = self.analysis_data['position'] <= 10
        
        # Create qualifying groups
        self.analysis_data['quali_group'] = pd.cut(
            self.analysis_data['quali_position'],
            bins=[0, 3, 10, 20, float('inf')],
            labels=['Top 3', '4th-10th', '11th-20th', 'Back of Grid']
        )
        
        print(f"✓ Dataset prepared: {len(self.analysis_data)} driver-race combinations")
        print(f"✓ Races analyzed: {len(self.analysis_data['round'].unique())} races")
        print(f"✓ Drivers included: {len(self.analysis_data['driverId'].unique())} drivers")
        
    def overall_correlation_analysis(self):
        """Analyze overall qualifying vs race position correlation for 2015"""
        print("\n" + "="*70)
        print("2015 F1 SEASON: QUALIFYING vs RACE POSITION CORRELATION")
        print("="*70)
        
        finished_races = self.analysis_data.dropna(subset=['position'])
        pearson_corr = finished_races['quali_position'].corr(finished_races['position'])
        spearman_corr, spearman_p = stats.spearmanr(
            finished_races['quali_position'], 
            finished_races['position']
        )
        
        print(f"Pearson Correlation: {pearson_corr:.4f}")
        print(f"Spearman Correlation: {spearman_corr:.4f} (p-value: {spearman_p:.2e})")
        print(f"R² (Variance Explained): {pearson_corr**2:.1%}")
        
        if pearson_corr > 0.7:
            strength = "Strong"
        elif pearson_corr > 0.5:
            strength = "Moderate"
        else:
            strength = "Weak"
            
        print(f"Correlation Strength: {strength}")
        
        return pearson_corr, spearman_corr
        
    def race_by_race_analysis(self):
        """Analyze qualifying impact for each race in 2015"""
        print(f"\n{'='*80}")
        print("RACE-BY-RACE QUALIFYING IMPACT ANALYSIS")
        print("="*80)
    
        race_analysis = []
    
        for race_id in sorted(self.analysis_data['raceId'].unique()):
            race_data = self.analysis_data[self.analysis_data['raceId'] == race_id]
            finished_race_data = race_data.dropna(subset=['position'])
        
            if len(finished_race_data) >= 10:  # Minimum drivers to calculate correlation
                race_info = race_data.iloc[0]
                correlation = finished_race_data['quali_position'].corr(finished_race_data['position'])
                avg_position_change = race_data['position_change'].mean()
                pole_winner = (finished_race_data['quali_position'] == 1) & (finished_race_data['position'] == 1)
                pole_won = pole_winner.any()
            
                race_analysis.append({
                    'round': race_info['round'],
                    'race_name': race_info['race_name'],
                    'circuit': race_info['circuit_name'],
                    'correlation': correlation,
                    'avg_position_change': avg_position_change,
                    'pole_winner': pole_won,
                    'finishers': len(finished_race_data),
                    'predictability': 'High' if correlation > 0.7 else 'Medium' if correlation > 0.5 else 'Low'
                })
    
        race_df = pd.DataFrame(race_analysis)
        race_df = race_df.sort_values('correlation', ascending = False)
    
        print(f"{'Round':<5} {'Race':<25} {'Predictability':<13} {'Correlation':<12} {'Avg Pos Change':<15} {'Pole Winner'}")
        print("-" * 80)
    
        for _, row in race_df.iterrows():
            pole_symbol = "✓" if row['pole_winner'] else "✗"
            print(f"{row['round']:<5} {row['race_name'][:24]:<25} {row['predictability']:<13} {row['correlation']:<12.3f} "
                f"{row['avg_position_change']:<15.2f} {pole_symbol}")
    
    # Summary statistics
        print(f"\nRace Analysis Summary:")
        print(f"Average correlation across races: {race_df['correlation'].mean():.3f}")
        print(f"Races where pole position won: {race_df['pole_winner'].sum()}/{len(race_df)}")
        print(f"Most predictable race (highest correlation): {race_df.loc[race_df['correlation'].idxmax(), 'race_name']}")
        print(f"Most unpredictable race (lowest correlation): {race_df.loc[race_df['correlation'].idxmin(), 'race_name']}")
    
        return race_df

        
    def position_change_analysis(self):
        """Analyze how positions change from qualifying to race"""
        print(f"\n{'='*70}")
        print("POSITION CHANGE ANALYSIS (QUALIFYING → RACE)")
        print("="*70)
        
        pos_changes = self.analysis_data['position_change'].dropna()
        
        print(f"Total driver-race combinations: {len(pos_changes)}")
        print(f"Average position change: {pos_changes.mean():.2f}")
        print(f"Median position change: {pos_changes.median():.2f}")
        print(f"Standard deviation: {pos_changes.std():.2f}")
        
        print(f"\nPosition Change Distribution:")
        gained = (pos_changes > 0).sum()
        lost = (pos_changes < 0).sum()
        stayed = (pos_changes == 0).sum()
        
        print(f"Gained positions: {gained} ({gained/len(pos_changes)*100:.1f}%)")
        print(f"Lost positions: {lost} ({lost/len(pos_changes)*100:.1f}%)")
        print(f"No change: {stayed} ({stayed/len(pos_changes)*100:.1f}%)")
        
        print(f"\nExtreme Cases:")
        print(f"Biggest gain: +{pos_changes.max():.0f} positions")
        print(f"Biggest loss: {pos_changes.min():.0f} positions")
        if pos_changes.max() > 10:
            big_gain = self.analysis_data[self.analysis_data['position_change'] == pos_changes.max()].iloc[0]
            print(f"Biggest gain by: {big_gain['fullName']} ({big_gain['race_name']})")
            
        if pos_changes.min() < -10:
            big_loss = self.analysis_data[self.analysis_data['position_change'] == pos_changes.min()].iloc[0]
            print(f"Biggest loss by: {big_loss['fullName']} ({big_loss['race_name']})")
            
        return pos_changes
        
    def qualifying_group_analysis(self):
        """Analyze performance by qualifying position groups"""
        print(f"\n{'='*70}")
        print("PERFORMANCE BY QUALIFYING POSITION GROUPS")
        print("="*70)
        
        group_stats = self.analysis_data.groupby('quali_group').agg({
            'position': ['count', 'mean', 'median'],
            'position_change': ['mean', 'std'],
            'points': ['mean', 'sum'],
            'points_scored': 'mean',
            'top10_finish': 'mean'
        }).round(2)
        
        group_stats.columns = ['races', 'avg_finish', 'median_finish', 'avg_change', 'change_std', 
                              'avg_points', 'total_points', 'points_rate', 'top10_rate']
        
        print(f"{'Group':<15} {'Races':<8} {'Avg Finish':<12} {'Avg Change':<12} {'Points Rate':<12} {'Top10 Rate'}")
        print("-" * 75)
        
        for group, row in group_stats.iterrows():
            print(f"{group:<15} {row['races']:<8.0f} {row['avg_finish']:<12.2f} {row['avg_change']:<12.2f} "
                  f"{row['points_rate']:<12.1%} {row['top10_rate']:<12.1%}")
        
        return group_stats
        
    def driver_analysis(self):
        """Analyze individual driver performance vs qualifying"""
        print(f"\n{'='*70}")
        print("DRIVER QUALIFYING vs RACE PERFORMANCE (2015)")
        print("="*70)
        
        driver_stats = self.analysis_data.groupby(['driverId', 'fullName', 'constructor_name']).agg({
            'quali_position': 'mean',
            'position': 'mean',
            'position_change': ['mean', 'std'],
            'points': 'sum',
            'raceId': 'count'
        }).round(2)
        
        driver_stats.columns = ['avg_quali', 'avg_finish', 'avg_change', 'change_consistency', 'total_points', 'races']
        driver_stats['quali_vs_finish_diff'] = driver_stats['avg_finish'] - driver_stats['avg_quali']
        
        # Sort by total points (championship order)
        driver_stats = driver_stats.sort_values('total_points', ascending=False)
        
        print(f"{'Driver':<20} {'Team':<15} {'Avg Quali':<10} {'Avg Finish':<10} {'Avg Change':<10} {'Points'}")
        print("-" * 85)
        
        for (driver_id, name, team), row in driver_stats.head(15).iterrows():
            print(f"{name[:19]:<20} {team[:14]:<15} {row['avg_quali']:<10.1f} {row['avg_finish']:<10.1f} "
                  f"{row['avg_change']:<10.2f} {row['total_points']:<6.0f}")
        
        return driver_stats
        
    def circuit_analysis(self):
        """Analyze qualifying impact by circuit"""
        print(f"\n{'='*70}")
        print("CIRCUIT-SPECIFIC QUALIFYING IMPACT")
        print("="*70)
        
        circuit_stats = []
        
        for circuit_id in self.analysis_data['circuitId'].unique():
            circuit_data = self.analysis_data[self.analysis_data['circuitId'] == circuit_id]
            finished_data = circuit_data.dropna(subset=['position'])
            
            if len(finished_data) >= 10:
                circuit_info = circuit_data.iloc[0]
                correlation = finished_data['quali_position'].corr(finished_data['position'])
                avg_change = circuit_data['position_change'].mean()
                change_std = circuit_data['position_change'].std()
                
                circuit_stats.append({
                    'circuit_name': circuit_info['circuit_name'],
                    'correlation': correlation,
                    'avg_position_change': avg_change,
                    'position_change_std': change_std,
                    'predictability': 'High' if correlation > 0.7 else 'Medium' if correlation > 0.5 else 'Low'
                })
        
        circuit_df = pd.DataFrame(circuit_stats).sort_values('correlation', ascending=False)
        
        print(f"{'Circuit':<25} {'Correlation':<12} {'Avg Change':<12} {'Predictability'}")
        print("-" * 65)
        
        for _, row in circuit_df.iterrows():
            print(f"{row['circuit_name'][:24]:<25} {row['correlation']:<12.3f} "
                  f"{row['avg_position_change']:<12.2f} {row['predictability']}")
        
        return circuit_df
        
    def create_visualizations(self):
        """Create comprehensive visualizations for 2015 analysis"""
        fig, axes = plt.subplots(2, 3, figsize=(20, 12))
        fig.suptitle('2015 F1 Season: Qualifying Impact Analysis', fontsize=16, fontweight='bold')
        
        # 1. Qualifying vs Race Position Scatter
        finished_data = self.analysis_data.dropna(subset=['position'])
        axes[0, 0].scatter(finished_data['quali_position'], finished_data['position'], 
                          alpha=0.6, s=30, color='red')
        axes[0, 0].plot([1, 22], [1, 22], 'k--', alpha=0.8, linewidth=2, label='Perfect correlation')
        axes[0, 0].set_xlabel('Qualifying Position')
        axes[0, 0].set_ylabel('Race Finish Position')
        axes[0, 0].set_title('Qualifying vs Race Position')
        axes[0, 0].legend()
        axes[0, 0].grid(True, alpha=0.3)
        axes[0, 0].set_xlim(0, 23)
        axes[0, 0].set_ylim(0, 23)
        
        # 2. Position Change Distribution
        pos_changes = self.analysis_data['position_change'].dropna()
        axes[0, 1].hist(pos_changes, bins=30, alpha=0.7, color='blue', edgecolor='black')
        axes[0, 1].axvline(0, color='red', linestyle='--', linewidth=2, label='No change')
        axes[0, 1].axvline(pos_changes.mean(), color='green', linestyle='-', linewidth=2, 
                          label=f'Mean: {pos_changes.mean():.1f}')
        axes[0, 1].set_xlabel('Position Change (Quali → Race)')
        axes[0, 1].set_ylabel('Frequency')
        axes[0, 1].set_title('Distribution of Position Changes')
        axes[0, 1].legend()
        axes[0, 1].grid(True, alpha=0.3)
        
        # 3. Points by Qualifying Position
        quali_points = self.analysis_data.groupby('quali_position')['points'].mean()
        axes[0, 2].bar(quali_points.index, quali_points.values, color='gold', alpha=0.8, edgecolor='black')
        axes[0, 2].set_xlabel('Qualifying Position')
        axes[0, 2].set_xticks(quali_points.index)
        axes[0, 2].set_ylabel('Average Points per Race')
        axes[0, 2].set_title('Average Points by Qualifying Position')
        axes[0, 2].grid(True, alpha=0.3, axis='y')
        
        # 4. Performance by Qualifying Groups
        group_data = []
        group_labels = []
        for group in ['Top 3', '4th-10th', '11th-20th', 'Back of Grid']:
            group_positions = self.analysis_data[self.analysis_data['quali_group'] == group]['position'].dropna()
            if len(group_positions) > 0:
                group_data.append(group_positions)
                group_labels.append(group)
        
        axes[1, 0].boxplot(group_data, labels=group_labels)
        axes[1, 0].set_ylabel('Race Finish Position')
        axes[1, 0].set_title('Race Results by Qualifying Groups')
        axes[1, 0].grid(True, alpha=0.3, axis='y')
        
        # 5. Constructor Performance
        constructor_perf = self.analysis_data.groupby('constructor_name').agg({
            'quali_position': 'mean',
            'position': 'mean',
            'points': 'sum'
        }).sort_values('points', ascending=False).head(10)
        
        x_pos = np.arange(len(constructor_perf))
        axes[1, 1].scatter(constructor_perf['quali_position'], constructor_perf['position'], 
                          s=constructor_perf['points']*2, alpha=0.7, c='red')
        
        for i, (idx, row) in enumerate(constructor_perf.iterrows()):
            axes[1, 1].annotate(idx[:8], (row['quali_position'], row['position']), 
                               xytext=(5, 5), textcoords='offset points', fontsize=8)
        
        axes[1, 1].plot([1, 20], [1, 20], 'k--', alpha=0.5)
        axes[1, 1].set_xlabel('Average Qualifying Position')
        axes[1, 1].set_ylabel('Average Race Position')
        axes[1, 1].set_title('Constructor Performance (Size = Total Points)')
        axes[1, 1].grid(True, alpha=0.3)
        
        # 6. Race-by-Race Correlation
        race_correlations = []
        race_names = []
        
        for race_id in sorted(self.analysis_data['raceId'].unique()):
            race_data = self.analysis_data[self.analysis_data['raceId'] == race_id]
            finished_data = race_data.dropna(subset=['position'])
            
            if len(finished_data) >= 10:
                correlation = finished_data['quali_position'].corr(finished_data['position'])
                race_correlations.append(correlation)
                race_names.append(race_data.iloc[0]['race_name'][:10])
        
        axes[1, 2].bar(range(len(race_correlations)), race_correlations, color='purple', alpha=0.7)
        axes[1, 2].set_xlabel('Race')
        axes[1, 2].set_ylabel('Correlation')
        axes[1, 2].set_title('Qualifying-Race Correlation by Race')
        axes[1, 2].set_xticks(range(len(race_names)))
        axes[1, 2].set_xticklabels(race_names, rotation=45, ha='right')
        axes[1, 2].grid(True, alpha=0.3, axis='y')
        axes[1, 2].axhline(y=0.7, color='red', linestyle='--', alpha=0.7, label='Strong correlation')
        axes[1, 2].legend()
        
        plt.tight_layout()
        plt.show()
            </pre>
            </div>
    <div class="zscore-placeholder" onclick="expandChart(this)">
                    <img src="2015/Images/qualianalysis.png" alt="Australian Grand Prix 2015 Position Chart">
                </div>
                <h3><strong>Correlation Analysis (Top Left)</strong></h3>
                <h4><strong>Correlation Analysis (Top Left)</strong></h4>
                <p>The top left corner shows a Pearson correlation coefficient of approximately 0.85-0.90, indicating an strong linear relationship. This correlation strength is impressive considering many of the racing conditions, where factors like weather, mechanical failures, strategic variations, and racing incidents typically introduce substantial variance.</p>
                
                <h4>Variance Distribution Patterns</h4>
                <ul>
                    <li><strong>P1-P3:</strong> Minimal variance around the correlation line, suggesting these positions offer both pace advantage and strategic protection from track incidents.</li>
                    <li><strong>P4-P12:</strong> Maximum variance zone, indicating this segment experiences the highest unpredictability. The standard deviation here is approximately 3-4 positions, compared to 1-2 positions for the front runners.</li>
                    <li><strong>P13-P20:</strong> Moderate variance with slight compression toward better race finishes, suggesting systematic factors (retirements ahead, strategic opportunities) provide some upward mobility.</li>
                </ul>
                <h4>Outlier Analysis</h4>
                <ul>
                    <li><strong>Positive Outliers (much better race than qualifying):</strong> Likely beneficiaries of safety cars, alternative strategies, or competitor failures</li>
                    <li><strong>Negative Outliers (much worse race than qualifying):</strong> Probable victims of mechanical failures, accidents, or strategic errors</li>
                </ul>
                
                <h3><strong>Position Change Distribution (Top Center)</strong></h3>
                <h4>Central Tendency Insights</h4>
                <p>The mean position change of +1.4 positions is statistically significant and reveals several underlying mechanisms.</p>
                <ul>
                    <li><strong>Retirement Effect:</strong> Higher-qualifying cars are more likely to suffer mechanical failures due to aggressive setups and engine stress</li>
                    <li><strong>Strategic Differentiation:</strong> Lower-grid drivers can afford more aggressive tire strategies with less positional risk</li>
                    <li><strong>Racing Line Access:</strong> Drivers starting further back can often find alternative lines and overtaking opportunities</li>
                    <li><strong>Incident Avoidance:</strong> Mid-to-back grid starters avoid first-corner incidents that often eliminate front-runners</li>
                </ul>
                <h4>Distribution Shape Analaysis</h4>
                <p>The leptokurtic distribution (high peak, high tails) indicates:</p>
                <ul>
                    <li><strong>High Probability of Status Quo</strong> 68% of drivers finish within ±2 positions of their starting spot</li>
                    <li><strong>Low Probability of Dramatic Change:</strong> Only 5% experience position swings >±6 positions</li>
                    <li><strong>Asymmetric Risk Profile:</strong> Slight positive skew suggests marginally higher upside potential than downside risk</li>
                </ul>
                <h4>Position Change by Qualifying</h4>
                <p>Breaking down the mean position change by qualifying position reveals a U-shaped curve:</p>
                <ul>
                    <li><strong>P1-P3:</strong> Slight negative mean change (-0.5 to -1.0 positions) due to strategic constraints and target pressure</li>
                    <li><strong>P4-P6:</strong> Minimal change (±0.2 positions) - the "stable zone"</li>
                    <li><strong>P7-P15:</strong> Positive mean change (+1.5 to +2.5 positions) - maximum opportunity zone</li>
                    <li><strong>P16-P20:</strong> Moderate positive change (+1.0 positions) - limited by car performance ceiling</li>
                </ul>

                <h3><strong>Points Distribution Analysis (Top Right)</strong></h3>
                <h4><strong>Exponential Value Decay</strong></h4>
                <p>The points-by-position chart reveals a power law distribution rather than linear decline.</p>
                <p></p><strong>Mathematical Relationship:</strong> Points ≈ 25 × (Position)^(-1.8)</p>
                <ul>
                    <li><strong>P1-P2:</strong> 18-21 points average - championship-determining positions</li>
                    <li><strong>P3:</strong> 12 points average - 40% reduction from pole</li>
                    <li><strong>P4-P10:</strong> 2-8 points average - linear decline zone</li>
                    <li><storng>P11-P20:</storng> less than 1 point average - championship irrelevant</li>
                </ul>
                <h4><strong>Strategic Value Implecations</strong></h4>
                <p>This exponential decay creates a "winner-takes-most" mentality</p>
                <ul>
                    <li><strong>Pole Position:</strong> Worth 2.5× more than P2, 4× more than P4</li>
                    <li><strong>Top-3 Concentration:</strong> These positions account for ~65% of available points per race</li>
                    <li><strong>Midfield Positions:</strong> Positions 7-15 show minimal point differentiation, reducing competitive incentives</li>
                </ul>

                <h3><strong>Qualifying Constructor Performance (Bottom Left)</strong></h3>
                <h4><strong>Tier 1: Elite Performers (Top 3)</strong></h4>
                <p>These drivers exhibited remarkable reliability with an interquartile range of just 1.8 positions, representing the tightest distribution among all qualifying groups and highlighting their exceptional consistency throughout the season. However, their elite status came with strategic constraints, as their Q3 participation limited their tire choice flexibility compared to lower-qualifying competitors. The performance advantages enjoyed by this tier were substantial, beginning with superior car performance primarily delivered by Mercedes and Ferrari machinery that provided a fundamental speed advantage over the competition. Additionally, these drivers benefited from optimal track position that facilitated superior tire management strategies, while also receiving strategic priority from race control and stewards who naturally favored protecting the leading positions during safety car periods and race interventions.</p>

                <h4><strong>Tier 2: Variable Performers (4-10)</strong></h4>
                <p>This tier exhibited maximum variance with an interquartile range of 6.1 positions, significantly wider than the elite tier, and recorded the highest outlier frequency at 15%, indicating the greatest volatility in race outcomes. Paradoxically, their mid-grid starting positions provided strategic flexibility through full tire compound choice options and varied pit window strategies that were unavailable to the Q3 participants. The performance variance within this tier stemmed from multiple factors, including strategic differentiation where teams could choose between aggressive and conservative race approaches depending on their championship position and risk tolerance. Car-track compatibility became more apparent in this group, as setup compromises that weren't evident in qualifying became exposed during wheel-to-wheel racing situations. These drivers also faced higher incident exposure due to the increased probability of contact during dense midfield battles, while tire degradation sensitivity created performance windows that varied significantly between different tire compounds, adding another layer of strategic complexity.</p>

                <h4><strong>Tier 3: Struggling Performers (11-20)</strong></h4>
                <p>Despite their lower competitive position, this group recorded a 12% outlier frequency, indicating occasional strategic successes when circumstances aligned favorably. However, their performance ceiling remained fundamentally limited by inferior car performance that prevented significant advancement regardless of driver skill or strategic execution. These teams faced systematic disadvantages that compounded their competitive challenges, beginning with inferior power unit performance primarily from Renault and Honda suppliers that created substantial straight-line speed deficits. Resource constraints significantly affected their development rate, preventing them from closing the performance gap through in-season upgrades, while strategic limitations imposed by their fundamental performance deficit meant they could rarely capitalize on alternative strategies that might work for higher-performing teams.</p>

                <h3><strong>Constructor Performance Analysis (Bottom Center)</strong></h3>
                <h4>Dimensional Analysis Framework</h4>
                <p><strong>X-Axis (Qualifying Performance):</strong> Raw speed and one-lap car performance | <strong>Y-Axis (Race Performance):</strong> Tire management, strategic execution, reliability | <strong>Bubble Size (Total Points):</strong> Season-long competitiveness and consistency</p>
                <h4><strong>Tier 1 Constructors: Mercedes & Ferrari</strong></h4>
                <p>Mercedes demonstrated dominant performance with an average qualifying position of 2.1 and maintained their advantage during races with an average race position of 2.3, showing only slight degradation from their starting positions. The team achieved an impressive 98% point efficiency rate compared to their theoretical maximum, reflecting their conservative race management approach that prioritized reliability over aggressive tactics. Ferrari occupied the second position in this elite tier, securing strong qualifying positions averaging 3.8 and maintaining similar race performance with an average finish of 4.1, representing minimal degradation from their grid positions. However, Ferrari's 87% point efficiency rate was notably lower than Mercedes', indicating their more aggressive qualifying approach often led to inconsistent race execution.</p>
                <h4><strong>Tier 2 Constructors: Williams, Red Bull, McLaren</strong></h4>
                <p>Williams exhibited the characteristics of a qualifying specialist, achieving strong average qualifying positions of 5.2 but struggling during races with weaker average finishes of 6.8, primarily due to tire management issues that prevented them from maintaining their grid advantage. Red Bull presented an opposite profile, managing only moderate qualifying positions averaging 7.1 but demonstrating superior race craft with improved average race positions of 6.2, highlighting their exceptional strategy execution and driver performance that allowed them to gain positions during races. McLaren faced significant challenges with poor qualifying positions averaging 11.2, though they showed some recovery during races with moderate finishes averaging 9.8, with their struggles primarily attributed to the Honda power unit deficit that limited their overall competitiveness.</p>
                <h4><strong>Tier 3 Constructors: Everyone Else</strong></h4>
                <p>These teams operated with an average qualifying deficit of approximately 2.1 seconds per lap compared to the front-runners, creating an almost insurmountable competitive disadvantage. Resource constraints significantly limited their development rate, preventing them from closing the performance gap throughout the season. Their strategic options were severely limited due to their fundamental performance ceiling, though they occasionally achieved strategic successes that provided valuable point-scoring opportunities when circumstances aligned in their favor.</p>
            
                <h3><strong>Race-by-Race Correlation Analysis (Bottom Right)</strong></h3>
                <h4><strong>High Correlation Races (0.85-0.9)</strong></h4>
                <p>These races occur under dry conditions where track evolution and tire performance remain predictable throughout the race distance. Standard safety car deployment provides minimal strategic disruption, while clean racing with few incidents preserves the qualifying order. These races demonstrate qualifying's strongest predictive power as car performance hierarchies remain stable.</p>
                <h4><strong>Moderate Correlation Races (0.7-0.85)</strong></h4>
                <p>These races feature mixed weather conditions that affect different cars variably based on their aerodynamic and mechanical packages. Multiple safety car periods create strategic windows for position changes, while higher retirement rates promote lower-grid finishers through attrition. Weather transitions between wet and dry conditions during these races can favor cars that struggled in qualifying but excel in different atmospheric conditions.</p>
                <h4><strong>Low Correlation Races (0.6-0.7)</strong></h4>
                <p>These races involve fundamental disruptions to the competitive hierarchy, often caused by mismatched conditions between wet qualifying and dry racing or vice versa. Strategic gambles on tire strategies frequently pay off as teams pursue high-risk approaches, while major incidents like first-lap crashes eliminate front-runners and promote back-grid starters. Weather plays a crucial role here, as sudden rain during dry races or clearing skies during wet conditions can completely invert the pace order established in qualifying.</p>
                <h4><strong>Circuit-specific patterns</strong></h4>
                <p>These circuits significantly influence these correlations, with overtaking-friendly venues like Monza producing lower correlations due to slipstream effects, while processional tracks like Monaco maintain higher correlations due to limited passing opportunities. Circuits like Silverstone and Interlagos show variable correlations depending on weather evolution throughout the weekend.</p>
            
            
            
            </section>      

<!-- Race Analysis Slideshow Section -->
<section id="race-slideshow" class="section">
    <h2>Position Changes Throughout Grand Prix</h2>
    <button class="code-btn" onclick="toggleCodeSection('position-change')">Show Python Code</button>
        <div id="position-change" class="code-section">
            <div class="code-header">
                <span>Python Code for Position Changes Throughout GP</span>
                <button class="copy-btn" onclick="copyCode('position-change')">Copy</button>
            </div>
            <pre>
def plot_race_positions(race_data, race_name):
    """
    Plot position changes for a specific race
    """
    plt.figure(figsize=(12,8))
    
    for driver in race_data['fullName'].unique():
        driver_data = race_data[race_data['fullName'] == driver]
        plt.plot(driver_data['lap'], driver_data['position'], 
                linewidth=2, label=driver, alpha=0.8)
    
    plt.xlabel('Lap Number', fontsize=12)
    plt.ylabel('Position', fontsize=12)
    plt.title(f'Position Changes Throughout {race_name}', fontsize=14)
    plt.gca().invert_yaxis()
    plt.grid(True, alpha=0.3)
    plt.legend(bbox_to_anchor=(1.05, 1), loc='upper left')
    plt.tight_layout()
    plt.show()

# Dictionary of all race datasets
race_datasets = {
    'Bahrain Grand Prix': new_drivers_2015_BHR,
    'Saudi Arabian Grand Prix': new_drivers_2015_SAU,
    'Australian Grand Prix': new_drivers_2015_AUS,
    'Emilia Romagna Grand Prix': new_drivers_2015_EMI,
    'Miami Grand Prix': new_drivers_2015_MIA,
    'Spanish Grand Prix': new_drivers_2015_ESP,
    'Monaco Grand Prix': new_drivers_2015_MCO,
    'Azerbaijan Grand Prix': new_drivers_2015_AZE,
    'Canadian Grand Prix': new_drivers_2015_CAN,
    'British Grand Prix': new_drivers_2015_GBR,
    'Austrian Grand Prix': new_drivers_2015_AUT,
    'French Grand Prix': new_drivers_2015_FRA,
    'Hungarian Grand Prix': new_drivers_2015_HUN,
    'Belgian Grand Prix': new_drivers_2015_BEL,
    'Dutch Grand Prix': new_drivers_2015_DUT,
    'Italian Grand Prix': new_drivers_2015_ITA,
    'Singapore Grand Prix': new_drivers_2015_SGP,
    'Japanese Grand Prix': new_drivers_2015_JPN,
    'United States Grand Prix': new_drivers_2015_USA,
    'Mexico City Grand Prix': new_drivers_2015_MEX,
    'São Paulo Grand Prix': new_drivers_2015_BRA,
    'Abu Dhabi Grand Prix': new_drivers_2015_ARE
}

# Plot all races
for race_name, race_data in race_datasets.items():
    if len(race_data) > 0:  # Only plot if race has data
        plot_race_positions(race_data, race_name)
    else:
        print(f"No data available for {race_name}")
            </pre>
            </div>
    <div id="f1-slideshow" data-slideshow class="slideshow-container">
        <!-- Slideshow wrapper -->
        <div class="slideshow-wrapper">
            
            <!-- Slide 1 - Australian GP -->
            <div class="slide active">
                <div class="slide-image">
                    <img src="2015/Images/AustralianGP.png" alt="Australian Grand Prix 2015 Position Chart">
                </div>
                <div class="slide-overlay">
                    <div class="slide-info">
                        <h3>Round 1: Australian Grand Prix</h3>
                        <div class="race-details">
                            <div class="detail-row">
                                <span class="label">Date:</span>
                                <span>March 15, 2015</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Circuit:</span>
                                <span>Albert Park, Melbourne</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Winner:</span>
                                <span>Lewis Hamilton</span>
                            </div>
                            
                            <div class="detail-row">
                                <span class="label">Pole Position:</span>
                                <span>Lewis Hamilton</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Fastest Lap:</span>
                                <span>Lewis Hamilton</span>
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 2 - Malaysian GP -->
            <div class="slide">
                <div class="slide-image">
                    <img src="2015/Images/MalaysianGP.png" alt="Malaysian Grand Prix 2015 Position Chart">
                </div>
                <div class="slide-overlay">
                    <div class="slide-info">
                        <h3>Round 2: Malaysian Grand Prix</h3>
                        <div class="race-details">
                            <div class="detail-row">
                                <span class="label">Date:</span>
                                <span>March 29, 2015</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Circuit:</span>
                                <span>Sepang International Circuit</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Winner:</span>
                                <span>Sebastian Vettel</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Pole Position:</span>
                                <span>Lewis Hamilton</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Fastest Lap:</span>
                                <span>Nico Rosberg</span>
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 3 - Chinese GP -->
            <div class="slide">
                <div class="slide-image">
                    <img src="2015/Images/ChineseGP.png" alt="Chinese Grand Prix 2015 Position Chart">
                </div>
                <div class="slide-overlay">
                    <div class="slide-info">
                        <h3>Round 3: Chinese Grand Prix</h3>
                        <div class="race-details">
                            <div class="detail-row">
                                <span class="label">Date:</span>
                                <span>April 12, 2015</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Circuit:</span>
                                <span>Shanghai International Circuit</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Winner:</span>
                                <span>Lewis Hamilton</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Pole Position:</span>
                                <span>Lewis Hamilton</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Fastest Lap:</span>
                                <span>Lewis Hamilton</span>
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>
            <!-- Slide4 - Bahrain GP -->
            <div class="slide">
                <div class="slide-image">
                    <img src="2015/Images/BahrainGP.png" alt="Chinese Grand Prix 2015 Position Chart">
                </div>
                <div class="slide-overlay">
                    <div class="slide-info">
                        <h3>Round 4: Bahrain Grand Prix</h3>
                        <div class="race-details">
                            <div class="detail-row">
                                <span class="label">Date:</span>
                                <span>April 19, 2015</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Circuit:</span>
                                <span>Bahrain International Circuit</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Winner:</span>
                                <span>Lewis Hamilton</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Pole Position:</span>
                                <span>Lewis Hamilton</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Fastest Lap:</span>
                                <span>Kimi Räikkönen</span>
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 5 - Chinese GP -->
            <div class="slide">
                <div class="slide-image">
                    <img src="2015/Images/SpanishGP.png" alt="Chinese Grand Prix 2015 Position Chart">
                </div>
                <div class="slide-overlay">
                    <div class="slide-info">
                        <h3>Round 5: Spanish Grand Prix</h3>
                        <div class="race-details">
                            <div class="detail-row">
                                <span class="label">Date:</span>
                                <span>May 10, 2015</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Circuit:</span>
                                <span>Circuit de Barcelona-Catalunya</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Winner:</span>
                                <span>Nico Rosberg</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Pole Position:</span>
                                <span>Nico Rosberg</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Fastest Lap:</span>
                                <span>Lewis Hamilton</span>
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 6 - Monaco GP -->
            <div class="slide">
                <div class="slide-image">
                    <img src="2015/Images/MonacoGP.png" alt="Chinese Grand Prix 2015 Position Chart">
                </div>
                <div class="slide-overlay">
                    <div class="slide-info">
                        <h3>Round 6: Monaco Grand Prix</h3>
                        <div class="race-details">
                            <div class="detail-row">
                                <span class="label">Date:</span>
                                <span>May 24, 2015</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Circuit:</span>
                                <span>Circuit de Monaco</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Winner:</span>
                                <span>Nico Rosberg</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Pole Position:</span>
                                <span>Lewis Hamilton</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Fastest Lap:</span>
                                <span>Daniel Ricciardo</span>
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 7 - Canadian GP -->
            <div class="slide">
                <div class="slide-image">
                    <img src="2015/Images/CanadianGP.png" alt="Chinese Grand Prix 2015 Position Chart">
                </div>
                <div class="slide-overlay">
                    <div class="slide-info">
                        <h3>Round 7: Canadian Grand Prix</h3>
                        <div class="race-details">
                            <div class="detail-row">
                                <span class="label">Date:</span>
                                <span>June 7, 2015</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Circuit:</span>
                                <span>Circuit Gilles Villeneuve</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Winner:</span>
                                <span>Lewis Hamilton</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Pole Position:</span>
                                <span>Lewis Hamilton</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Fastest Lap:</span>
                                <span>Kimi Räikkönen</span>
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 8 - Austrian GP -->
            <div class="slide">
                <div class="slide-image">
                    <img src="2015/Images/AustrianGP.png" alt="Chinese Grand Prix 2015 Position Chart">
                </div>
                <div class="slide-overlay">
                    <div class="slide-info">
                        <h3>Round 8: Austrian Grand Prix</h3>
                        <div class="race-details">
                            <div class="detail-row">
                                <span class="label">Date:</span>
                                <span>June 21, 2015</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Circuit:</span>
                                <span>Red Bull Ring</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Winner:</span>
                                <span>Nico Rosberg</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Pole Position:</span>
                                <span>Lewis Hamilton</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Fastest Lap:</span>
                                <span>Nico Rosberg</span>
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 9 - British GP -->
            <div class="slide">
                <div class="slide-image">
                    <img src="2015/Images/BritishGP.png" alt="Chinese Grand Prix 2015 Position Chart">
                </div>
                <div class="slide-overlay">
                    <div class="slide-info">
                        <h3>Round 9: British Grand Prix</h3>
                        <div class="race-details">
                            <div class="detail-row">
                                <span class="label">Date:</span>
                                <span>July 5, 2015</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Circuit:</span>
                                <span>Silverstone Circuit</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Winner:</span>
                                <span>Lewis Hamilton</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Pole Position:</span>
                                <span>Lewis Hamilton</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Fastest Lap:</span>
                                <span>Lewis Hamilton</span>
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 10 - Hungarian GP -->
            <div class="slide">
                <div class="slide-image">
                    <img src="2015/Images/HungarianGP.png" alt="Chinese Grand Prix 2015 Position Chart">
                </div>
                <div class="slide-overlay">
                    <div class="slide-info">
                        <h3>Round 10: Hungarian Grand Prix</h3>
                        <div class="race-details">
                            <div class="detail-row">
                                <span class="label">Date:</span>
                                <span>July 26, 2015</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Circuit:</span>
                                <span>Hungaroring</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Winner:</span>
                                <span>Sebastian Vettel</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Pole Position:</span>
                                <span>Lewis Hamilton</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Fastest Lap:</span>
                                <span>Daniel Ricciardo</span>
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 11 - Belgian GP -->
            <div class="slide">
                <div class="slide-image">
                    <img src="2015/Images/BelgianGP.png" alt="Chinese Grand Prix 2015 Position Chart">
                </div>
                <div class="slide-overlay">
                    <div class="slide-info">
                        <h3>Round 11: Belgian Grand Prix</h3>
                        <div class="race-details">
                            <div class="detail-row">
                                <span class="label">Date:</span>
                                <span>August 23, 2015</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Circuit:</span>
                                <span>Circuit de Spa-Francorchamps</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Winner:</span>
                                <span>Lewis Hamilton</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Pole Position:</span>
                                <span>Lewis Hamilton</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Fastest Lap:</span>
                                <span>Nico Rosberg</span>
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 12 - Italian GP -->
            <div class="slide">
                <div class="slide-image">
                    <img src="2015/Images/ItalianGP.png" alt="Chinese Grand Prix 2015 Position Chart">
                </div>
                <div class="slide-overlay">
                    <div class="slide-info">
                        <h3>Round 12: Italian Grand Prix</h3>
                        <div class="race-details">
                            <div class="detail-row">
                                <span class="label">Date:</span>
                                <span>September 6, 2015</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Circuit:</span>
                                <span>Autodromo Nazionale di Monza</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Winner:</span>
                                <span>Lewis Hamilton</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Pole Position:</span>
                                <span>Lewis Hamilton</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Fastest Lap:</span>
                                <span>Lewis Hamilton</span>
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 13 - Singapore GP -->
            <div class="slide">
                <div class="slide-image">
                    <img src="2015/Images/SingaporeGP.png" alt="Chinese Grand Prix 2015 Position Chart">
                </div>
                <div class="slide-overlay">
                    <div class="slide-info">
                        <h3>Round 13: Singapore Grand Prix</h3>
                        <div class="race-details">
                            <div class="detail-row">
                                <span class="label">Date:</span>
                                <span>September 20, 2015</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Circuit:</span>
                                <span>Marina Bay Street Circuit</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Winner:</span>
                                <span>Sebastian Vettel</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Pole Position:</span>
                                <span>Sebastial Vettel</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Fastest Lap:</span>
                                <span>Daniel Ricciardo</span>
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 14 - Japanese GP -->
            <div class="slide">
                <div class="slide-image">
                    <img src="2015/Images/JapaneseGP.png" alt="Chinese Grand Prix 2015 Position Chart">
                </div>
                <div class="slide-overlay">
                    <div class="slide-info">
                        <h3>Round 14: Japanese Grand Prix</h3>
                        <div class="race-details">
                            <div class="detail-row">
                                <span class="label">Date:</span>
                                <span>September 27, 2015</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Circuit:</span>
                                <span>Suzuka Circuit</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Winner:</span>
                                <span>Lewis Hamilton</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Pole Position:</span>
                                <span>Nico Rosberg</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Fastest Lap:</span>
                                <span>Lewis Hamilton</span>
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 15 - Russian GP -->
            <div class="slide">
                <div class="slide-image">
                    <img src="2015/Images/RussianGP.png" alt="Chinese Grand Prix 2015 Position Chart">
                </div>
                <div class="slide-overlay">
                    <div class="slide-info">
                        <h3>Round 15: Russian Grand Prix</h3>
                        <div class="race-details">
                            <div class="detail-row">
                                <span class="label">Date:</span>
                                <span>October 11, 2015</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Circuit:</span>
                                <span>Sochi Autodrom</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Winner:</span>
                                <span>Lewis Hamilton</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Pole Position:</span>
                                <span>Nico Rosberg</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Fastest Lap:</span>
                                <span>Sebastian Vettel</span>
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 16 - US GP -->
            <div class="slide">
                <div class="slide-image">
                    <img src="2015/Images/USAGP.png" alt="Chinese Grand Prix 2015 Position Chart">
                </div>
                <div class="slide-overlay">
                    <div class="slide-info">
                        <h3>Round 16: United States Grand Prix</h3>
                        <div class="race-details">
                            <div class="detail-row">
                                <span class="label">Date:</span>
                                <span>October 25, 2015</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Circuit:</span>
                                <span>Circuit of the Americas</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Winner:</span>
                                <span>Lewis Hamilton</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Pole Position:</span>
                                <span>Nico Rosberg</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Fastest Lap:</span>
                                <span>Nico Rosberg</span>
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 17 - Mexican GP -->
            <div class="slide">
                <div class="slide-image">
                    <img src="2015/Images/MexicanGP.png" alt="Chinese Grand Prix 2015 Position Chart">
                </div>
                <div class="slide-overlay">
                    <div class="slide-info">
                        <h3>Round 17: Mexican Grand Prix</h3>
                        <div class="race-details">
                            <div class="detail-row">
                                <span class="label">Date:</span>
                                <span>November 1, 2015</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Circuit:</span>
                                <span>Autódromo Hermanos Rodríguez</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Winner:</span>
                                <span>Nico Rosberg</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Pole Position:</span>
                                <span>Nico Rosberg</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Fastest Lap:</span>
                                <span>Nico Rosberg</span>
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 18 - Brazilian GP -->
            <div class="slide">
                <div class="slide-image">
                    <img src="2015/Images/BrazilianGP.png" alt="Chinese Grand Prix 2015 Position Chart">
                </div>
                <div class="slide-overlay">
                    <div class="slide-info">
                        <h3>Round 18: Brazilian Grand Prix</h3>
                        <div class="race-details">
                            <div class="detail-row">
                                <span class="label">Date:</span>
                                <span>November 15, 2015</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Circuit:</span>
                                <span>Autódromo José Carlos Pace</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Winner:</span>
                                <span>Nico Rosberg</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Pole Position:</span>
                                <span>Nico Rosberg</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Fastest Lap:</span>
                                <span>Lewis Hamilton</span>
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 19 - Abu Dhabi GP -->
            <div class="slide">
                <div class="slide-image">
                    <img src="2015/Images/AbuGP.png" alt="Chinese Grand Prix 2015 Position Chart">
                </div>
                <div class="slide-overlay">
                    <div class="slide-info">
                        <h3>Round 19: Abu Dhabi Grand Prix</h3>
                        <div class="race-details">
                            <div class="detail-row">
                                <span class="label">Date:</span>
                                <span>November 29, 2015</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Circuit:</span>
                                <span>Yas Marina Circuit</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Winner:</span>
                                <span>Nico Rosberg</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Pole Position:</span>
                                <span>Nico Rosberg</span>
                            </div>
                            <div class="detail-row">
                                <span class="label">Fastest Lap:</span>
                                <span>Lewis Hamilton</span>
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>

            <!-- Add more slides for remaining races... -->
        </div>

               <!-- Navigation arrows - FIXED: correct class order -->
        <button class="prev slide-nav">❮</button>
        <button class="next slide-nav">❯</button>

        <!-- Slide indicators -->
        <div class="slide-indicators">
            <span class="indicator active"></span>
            <span class="indicator"></span>
            <span class="indicator"></span>
            <span class="indicator"></span>
            <span class="indicator"></span>
            <span class="indicator"></span>
            <span class="indicator"></span>
            <span class="indicator"></span>
            <span class="indicator"></span>
            <span class="indicator"></span>
            <span class="indicator"></span>
            <span class="indicator"></span>
            <span class="indicator"></span>
            <span class="indicator"></span>
            <span class="indicator"></span>
            <span class="indicator"></span>
            <span class="indicator"></span>
            <span class="indicator"></span>
            <span class="indicator"></span>
        </div>

        <!-- Race counter -->
        <div class="slide-counter">
            <span id="current-slide">1</span> / <span id="total-slides">19</span>
        </div>
    </div>
    
</section>

        <!-- Data Analysis -->
        <section id="analysis" class="section">
            <h2>Position Change Analysis & Insights</h2>
            
            <h3>Position Changes Heatmap</h3>
                <p><strong>Most Successful Overtaker:</strong> Max Verstappen averaged +2.21 positions gained per race</p>
                <button class="code-btn" onclick="toggleCodeSection('Posheat')">Show Python Code</button>
        <div id="Posheat" class="code-section">
            <div class="code-header">
                <span>Python Code for Constructors Standings</span>
                <button class="copy-btn" onclick="copyCode('Posheat')">Copy</button>
            </div>
            <pre>
heatmap_data = position_changes_named.pivot_table(
    values='positions_gained', 
    index='fullName', 
    columns='name', 
    fill_value=0
)

plt.figure(figsize=(15, 10))
sns.heatmap(heatmap_data, annot=True, cmap='RdYlGn', center=0, 
            fmt='.0f', cbar_kws={'label': 'Positions Gained/Lost'})
plt.title('Position Changes by Driver and Grand Prix')
plt.xlabel('Grand Prix')
plt.ylabel('Driver')
plt.xticks(rotation=45)
plt.tight_layout()
plt.show()
            </pre>
            </div>
                <div class="chart-placeholder" onclick="expandChart(this)">
                    <img src="2015/Images/PosChangeHeatmap.png" alt="Australian Grand Prix 2015 Position Chart">
                </div>
                                    <br><small>Green = Positions Gained | Red = Positions Lost</small>
                <h4><strong>Championship Contenders' Patterns</strong></h4>
                <p>Hamilton and Rosberg show predominantly neutral to negative position changes (lots of yellows and oranges), confirming their front-running status where starting from pole or front row means you can only lose positions. Hamilton's dramatic -13 at Russia and Rosberg's -14 at Monaco likely represent strategic gambles or technical issues from dominant grid positions. What's particularly telling is how their negative spikes often correspond with other drivers' positive gains, suggesting these weren't just poor performances but strategic sacrifices or unavoidable circumstances that created opportunities for the chasing pack.</p>
                <h4><strong>Verstappen's Rookie Year</strong></h4>
                <p>Max Verstappen in his rookie season shows consistent greens with standout performances like +12 at Russia and +9 at China, demonstrating the fearless overtaking that immediately marked him as special. His pattern shows remarkable consistency in gaining positions across diverse circuit types, from the technical demands of Hungary (+7) to the high-speed challenges of Monza (+7). The absence of dramatic red cells in his row suggests he was not only aggressive but also calculated, avoiding the kind of reckless moves that often characterize young drivers. His ability to gain positions at traditionally difficult-to-pass venues like Monaco (+2) and Hungary showcases racecraft beyond his years.</p>
                <h4><strong>Veteran vs. Machinery</strong></h4>
                <p>Vettel's mixed pattern (+11 at Canada, +8 at Abu Dhabi, but -6 at Belgium) reflects Ferrari's inconsistent 2015 package and his strategic adaptability. His dramatic swings suggest a driver pushing an imperfect car to its limits, sometimes successfully (the green cells often correspond with strategic masterclasses) and sometimes paying the price (red cells often indicate overdriving or strategic gambles that didn't pay off). Button and Alonso show modest gains despite being in uncompetitive McLarens, highlighting their racecraft in difficult circumstances. Alonso's pattern is particularly telling - consistent small gains (+2, +4, +1) that demonstrate how a multiple world champion can extract performance from machinery that shouldn't be competitive.</p>
                <h4><strong>Strategic Risk Assessment</strong></h4>
                <p>The heatmap reveals which drivers and teams were willing to take strategic gambles versus those who played it safe. Drivers with high variance (lots of both green and red) like Vettel, Maldonado, and Räikkönen represent the risk-takers, while those with consistent modest changes like Button and Ericsson show more conservative approaches. This pattern often correlates with championship position - those fighting for titles played it safer, while those seeking breakthrough results took bigger risks.</p>

            <h3>Driver Position Changes Stats</h3>
                <button class="code-btn" onclick="toggleCodeSection('driverposchange')">Show Python Code</button>
        <div id="driverposchange" class="code-section">
            <div class="code-header">
                <span>Python Code for Constructors Standings</span>
                <button class="copy-btn" onclick="copyCode('driverposchange')">Copy</button>
            </div>
            <pre>
def driverstyle_dataframe(df):
    df_display = df.copy()
    df_display = df_display.rename(columns={
        'fullName': 'Name',
        'total_positions_gained': 'Total Gained',
        'avg_positions_per_race': 'Avg per Race',
        'consistency': 'Consistency',
        'best_single_race': 'Best Single Race',
        'worst_single_race': 'Worst Single Race',
        'races_completed': 'Races Completed'
    })
    
    df_sorted = df_display.sort_values('Total Gained', ascending=False)
    
    styled = df_sorted.style.format({
        'Total Gained': '{:+.0f}',
        'Avg per Race': '{:.2f}',
        'Consistency': '{:.2f}',
        'Best Single Race': '{:+.0f}',
        'Worst Single Race': '{:+.0f}',
        'Races Completed': '{:.0f}'
    }).set_caption(
        "Driver Position Change Summary (Sorted by Average Change)"
    )
    
    return styled
driver_styled_table = driverstyle_dataframe(driver_summary)
driver_styled_table
            </pre>
            </div>
                <div class="chart-placeholder" onclick="expandChart(this)">
                    <img src="2015/Images/driverposchangestats.png" alt="Australian Grand Prix 2015 Position Chart">
                </div>
                <h4><strong>Rookie Performance</strong></h4>
                <p>Max Verstappen leads dramatically with +42 total positions gained and a stunning +2.21 average per race, showcasing the fearless overtaking that would define his career. His +12 best single race and relatively modest -5 worst loss demonstrates controlled aggression, taking big risks that usually pay off while minimizing catastrophic position losses.</p>
                <h4><strong>Hamilton Positions</strong></h4>
                <p>Lewis Hamilton sits near the bottom with -9 total positions, averaging -0.47 per race. This counterintuitive result reflects championship-winning strategy - starting from pole position frequently means you can only lose positions, not gain them. His negative numbers indicate dominant qualifying performances followed by controlled race management.</p>
                <h4><strong>Reliability vs. Speed</strong></h4>
                <p>Roberto Merhi's exceptional +22 total with minimal losses (+4 best, -1 worst) suggests conservative driving in uncompetitive machinery, maximizing every opportunity. Conversely, Kimi Räikkönen shows high volatility (+10 best, -14 worst) typical of his all-or-nothing approach.</p>
                <h4><strong>Consistency Patterns</strong></h4>
                <p>Lower consistency scores often correlate with higher position gains (Verstappen 4.43, Maldonado 4.89), suggesting that spectacular overtaking comes with increased variability. Meanwhile, drivers like Merhi (1.25) show extreme consistency but limited upside potential.</p>
                <h4><strong>Team Strategy Reflections</strong></h4>
                <p>The data reveals how team performance shapes individual statistics - Mercedes drivers (Hamilton, Rosberg) show position losses despite superior pace, while midfield and backmarker drivers show gains by maximizing grid position relative to their qualifying performance.</p>
                
                <h3>Race-by-Race Position Volatility</h3>
                <button class="code-btn" onclick="toggleCodeSection('racepos')">Show Python Code</button>
        <div id="racepos" class="code-section">
            <div class="code-header">
                <span>Python Code for Constructors Standings</span>
                <button class="copy-btn" onclick="copyCode('racepos')">Copy</button>
            </div>
            <pre>
races_2015 = [
    'Australian Grand Prix',
    'Malaysian Grand Prix', 
    'Chinese Grand Prix',
    'Bahrain Grand Prix',
    'Spanish Grand Prix',
    'Monaco Grand Prix',
    'Canadian Grand Prix',
    'Austrian Grand Prix',
    'British Grand Prix',
    'Hungarian Grand Prix',
    'Belgian Grand Prix',
    'Italian Grand Prix',
    'Singapore Grand Prix',
    'Japanese Grand Prix',
    'Russian Grand Prix',
    'United States Grand Prix',
    'Mexican Grand Prix',
    'Brazilian Grand Prix',
    'Abu Dhabi Grand Prix'
]

for race_name in races_2015:
    race_changes = position_changes_2015[position_changes_2015['name'] == race_name]
    plt.figure(figsize=(14, 8))
    plt.plot(race_changes['lap'], race_changes['total_position_changes'], 
            marker='o', linewidth=2, markersize=6, color='#E10600')  # F1 red color
    plt.title(f'Total Position Changes Per Lap - 2015 {race_name}', 
                fontsize=16, fontweight='bold')
    plt.xlabel('Lap Number', fontsize=12)
    plt.ylabel('Total Position Changes', fontsize=12)
    plt.grid(True, alpha=0.3)
    plt.tight_layout()
    plt.show()
            </pre>
            </div>
<div id="f1-volatility-slideshow" data-slideshow class="slideshow-container">
    <!-- Slideshow wrapper -->
    <div class="slideshow-wrapper">
        
        <!-- Slide 1 - Australian GP -->
        <div class="slide active">
    <div class="slide-image photo-container">
        <img src="2015/Images/AustralianLap.png" alt="Australian Grand Prix 2015 Position Chart">
        <div class="description-overlay">
            <div class = "description-race">Round 1: Australian Grand Prix</div>
            <div class="description-title">About This Race</div>
            <div class="description-text">
                Australian Grand Prix shows lots of activity and huge position changes after the first ten laps, with the peak around lap 24 
                coinciding with four DRS zones that keep the pack close together, promoting wheel-to-wheel racing. However, being a street circuit with limited overtaking opportunities, position changes concentrate during pit windows and safety car restarts. 
                This race took place during a period of significant tire regulation changes, with Pirelli introducing new compounds that teams were still learning to understand. The concentrated activity around lap 24 corresponded with the primary 
                pit stop window, where teams were experimenting with different tire strategies in an attempt to challenge Mercedes' pace advantage. The Melbourne circuit's four DRS zones, which had been recently reconfigured, created multiple overtaking opportunities that drivers were 
                eager to exploit as they learned the new car characteristics. The relatively modest peak activity reflects the early-season conservative approach teams took while learning their 2015 cars, but the sustained moderate activity throughout the race showed that the new regulations 
                hadn't eliminated close racing entirely.
            </div>
        </div>
    </div>
</div>

        <!-- Slide 2 - Malaysian GP -->
        <div class="slide">
            <div class="slide-image photo-container">
        <img src="2015/Images/MalaysianLap.png" alt="Malaysian Grand Prix 2015 Position Chart">
        <div class="description-overlay">
            <div class = "description-race">Round 2: Malaysian Grand Prix</div>
            <div class="description-title">About This Race</div>
            <div class="description-text">
                Malaysian Grand Prix shows massive early volatility within 50 position changes around lap5, making it one of the most caotic opening phases of the entire 2015 season. This spike
                reflects the unique challenges of Sepang's tropical climate combined with the specific circumstances of the 2015 championship battle. The Malaysian climate's unpredictable humid tropical weather, 
                varying from clear furnace-hot days to tropical rain-storms, with temperatures reaching 35°C and engines running at 70% full throttle , created particularly challenging conditions for the new-generation power units that teams were still learning to manage. 
                The sustained peaks around laps 14-16 and again around lap 21 reflect the circuit's multiple strategic windows, where the combination of tire degradation and fuel consumption created optimal 
                conditions for position battles. Several mid-field teams, particularly Force India and Lotus, showed surprisingly competitive pace in the heat, creating unexpected battles throughout the field that contributed to the elevated position change numbers throughout the opening third of the race.
            </div>
        </div>
    </div>
        </div>

        <!-- Slide 3 - Chinese GP -->
        <div class="slide">
            <div class="slide-image photo-container">
                <img src="2015/Images/ChineseLap.png" alt="Chinese Grand Prix 2015 Position Chart">
            <div class="description-overlay">
            <div class = "description-race">Round 3: Chinese Grand Prix</div>
            <div class="description-title">About This Race</div>
            <div class="description-text">
                The Chinese Grand Prix demonstrates huge position changes within the second quarter of the race, having huge spikes between laps 10 through 20 and 20 position changes around
                lap 14. This reflects Shanghai's role as a venue where strategic gambles often pay off spectacularly. The unique start with ever-tightening Turns 1 and 2, followed by the super-high g-force Turns 7 and 8, plus one of the longest straights on the calendar at 1.2km between turns 13-14,
                created multiple opportunities for position changes as teams experimented with different approaches to this technically demanding circuit. The massive spike around lap 14 coincided with several factors unique to the 2015 season: teams were still optimizing their understanding of tire compound behavior on Shanghai's challenging surface, and the circuit's demanding layout exposed weaknesses in several cars' aerodynamic packages. 
                The FIA's DRS zone configurations were particularly effective in 2015, creating dramatic slipstream battles on the 1.2-kilometer back straight where multiple position changes could occur within a single sector. The sustained peaks around laps 20-25 reflect teams' attempts to adapt their strategies to the unique tire degradation patterns at Shanghai, 
                where the combination of high-speed corners and heavy braking zones created challenges that teams were still learning to manage with the 2015 cars' increased performance levels.
            </div>
        </div>
    </div>
        </div>

        <!-- Slide 4 - Bahrain GP -->
        <div class="slide">
            <div class="slide-image photo-container">
                <img src="2015/Images/BahrainLap.png" alt="Bahrain Grand Prix 2015 Position Chart">
            <div class="description-overlay">
            <div class = "description-race">Round 4: Bahrain Grand Prix</div>
            <div class="description-title">About This Race</div>
            <div class="description-text">
                The Bahrain Grand Prix maintains exceptionally high sustained overtaking activity throughout the entire race, with multiple peaks exceeding 20 position changes and consistent elevated activity that sets it apart from almost every other circuit.The 2015 Bahrain GP was a masterclass in 
                strategic racing, highlighted by Hamilton's recovery drive from pit lane to third place, which alone contributed significantly to the position change statistics. The night race format helped tire longevity, allowing for more aggressive racing throughout the stint, and the cooler temperatures meant that power unit reliability was less of a concern, encouraging drivers to push harder.
                The circuit's multiple heavy braking zones were particularly suited to the 2015 cars' improved brake-by-wire systems, allowing for more consistent late-braking overtaking attempts. The Bahrain International Circuit's multiple racing lines were particularly effective with the 2015 aerodynamic regulations, which had reduced downforce levels and made following other cars easier. 
            </div>
        </div>
    </div>
        </div>

        <!-- Slide 5 - Spanish GP -->
        <div class="slide">
            <div class="slide-image photo-container">
                <img src="2015/Images/SpanishLap.png" alt="Spanish Grand Prix 2015 Position Chart">
            <div class="description-overlay">
            <div class = "description-race">Round 5: Spanish Grand Prix</div>
            <div class="description-title">About This Race</div>
            <div class="description-text">
                The Spanish Grand Prix shows concentrated early drama with 30 position changes around lap 13, followed by more measured activity throughout the remainder of the race. Barcelona was Formula 1's primary testing venue, where teams arrived with major aerodynamic upgrades that was developed specifically for this race. The massive early peak around lap 13 corresponded with 
                teams discovering that their upgrade packages weren't performing as expected, creating performance imbalances that led to numerous position changes as drivers adapted to their cars' altered characteristics. Ferrari's major upgrade package, which eventually helped Vettel secure a podium finish, initially caused handling problems that saw him drop positions before the team 
                optimized the setup during the race. The early timing of the major position change spike reflects teams' sophisticated understanding of Barcelona's strategic windows, developed through extensive testing, but also shows how upgrade packages can disrupt established patterns. The moderate but consistent activity throughout the remainder of the race showed that despite Mercedes' 
                advantages, the 2015 regulations had succeeded in creating closer racing throughout the midfield, with several teams capable of fighting for points on any given weekend.
            </div>
        </div>
    </div>
        </div>

        <!-- Slide 6 - Monaco GP -->
        <div class="slide">
            <div class="slide-image photo-container">
                <img src="2015/Images/MonacoLap.png" alt="Monaco Grand Prix 2015 Position Chart">
            <div class="description-overlay">
            <div class = "description-race">Round 6: Monaco Grand Prix</div>
            <div class="description-title">About This Race</div>
            <div class="description-text">
                The Monaco Grand Prix shows the most controlled and minimal changes out of all the races. This race has small and isolated spikes reaching a maximum of 12 position changes around laps 5, 28, and 62. This restrained pattern perfectly encapsulates Monaco's unique position in the 2015 season, where Hamilton's dominant victory from pole position masked significant strategic battles behind him. 
                The narrow circuit with many elevation shifts and tight corners makes overtaking virtually impossible, with the Nouvelle Chicane being the only place where overtaking can be attempted. The small spike around lap 5 corresponded with early-race positioning battles. 
                The modest peak around lap 28 reflected the primary pit stop window, where teams attempted to gain track position through strategic timing, but the limited overtaking opportunities meant that most position changes were determined in the pits rather than on track. 
                The late-race activity around lap 62 was primarily driven by backmarker battles, where drivers struggling with tire degradation in Monaco's unique low-speed, high-downforce configuration created small position shuffles. Position changes being usually limited to pit stops, with the track featuring only one DRS zone, meant that even small strategic variations could create the modest position changes seen in the data. 
            </div>
        </div>
    </div>
        </div>

        <!-- Slide 7 - Canadian GP -->
        <div class="slide">
            <div class="slide-image photo-container">
                <img src="2015/Images/CanadianLap.png" alt="Canadian Grand Prix 2015 Position Chart">
            <div class="description-overlay">
            <div class = "description-race">Round 7: Canadian Grand Prix</div>
            <div class="description-title">About This Race</div>
            <div class="description-text">
               The Canadian Grand Prix showed concentrated changes around lap 28 (20 position changes), showcasing this circuit’s unique ability to create dramatic moments even during Mercedes' period of dominance. The fast, low-downforce circuit with heavy-braking chicanes and the famous hairpin, combined with DRS zones before Turn 13 allowing overtaking into the final chicane. The peak around lap 28 corresponded with the primary pit stop window, where several teams attempted undercut strategies on a circuit known for rewarding track position. The notorious "Wall of Champions" at the exit of the final chicane, where drivers like Damon Hill, Michael Schumacher, and Jacques Villeneuve have crashed, took down Pastor Maldonado. The sustained moderate activity throughout the middle stint reflects the circuit's character as a venue where patience is rewarded, but opportunities for spectacular overtaking moves can appear suddenly. 
            </div>
        </div>
    </div>
        </div>

        <!-- Slide 8 - Austrian GP -->
        <div class="slide">
            <div class="slide-image photo-container">
                <img src="2015/Images/AustrianLap.png" alt="Austrian Grand Prix 2015 Position Chart">
            <div class="description-overlay">
            <div class = "description-race">Round 8: Austrian Grand Prix</div>
            <div class="description-title">About This Race</div>
            <div class="description-text">
               The Austrian Grand Prix displays two distinct peaks of overtaking activity - an early surge around laps 25-27 (16 position changes) and a later spike around lap 38. This pattern is intrinsically linked to the Red Bull Ring's unique characteristics as one of the shortest circuits on the calendar, where lap times under 70 seconds mean that strategic windows occur more frequently than at longer venues. The Red Bull Ring's Turn 4 hairpin sits at the highest point of the circuit, making this a good overtaking spot because of the uphill braking zone. The circuit's two long DRS zones create multiple overtaking opportunities per lap, with the main straight leading to Turn 2 and the approach to Turn 4 both providing excellent slip-streaming opportunities.
            </div>
        </div>
    </div>
        </div>

        <!-- Slide 9 - British GP -->
        <div class="slide">
            <div class="slide-image photo-container">
                <img src="2015/Images/BritishLap.png" alt="British Grand Prix 2015 Position Chart">
            <div class="description-overlay">
            <div class = "description-race">Round 9: British Grand Prix</div>
            <div class="description-title">About This Race</div>
            <div class="description-text">
               The British Grand Prix shows an enormous mid-race spike reaching 26 position changes around lap 21. Silverstone's two DRS zones on the Wellington and Hangar straights, with overtaking opportunities at Copse corner after the full-speed approach and at Stowe corner at the end of the long DRS zone, were effective for teams still optimizing their aerodynamic packages for the post-2014 regulations. The massive position change spike around lap 21 coincided with a dramatic tire strategy battle where several teams attempted radical approaches to challenge Mercedes' dominance. The British weather played its traditional role, with changeable conditions throughout the weekend affecting setup decisions and tire choices that became crucial during the race. The sustained activity from laps 15-25 reflects the circuit's multiple strategic windows, where Silverstone's combination of high-speed corners and long straights created optimal conditions for position battles.
            </div>
        </div>
    </div>
        </div>

        <!-- Slide 10 - Hungarian GP -->
        <div class="slide">
            <div class="slide-image photo-container">
                <img src="2015/Images/HungarianLap.png" alt="Hungarian Grand Prix 2015 Position Chart">
            <div class="description-overlay">
            <div class = "description-race">Round 10: Hungarian Grand Prix</div>
            <div class="description-title">About This Race</div>
            <div class="description-text">
               The Hungarian Grand Prix showed consistent moderate activity with peaks reaching 38 position changes around lap 14. The peak around lap 14 corresponded with the primary strategic window where teams had learned from previous years that early pit stops could work at the Hungaroring if executed perfectly. Corner number one being the only place where you can overtake meant that strategic positioning before the main straight became critical. The 2015 Hungarian GP was notable for the extreme heat, with track temperatures exceeding 50°C, creating tire degradation patterns that caught several teams off-guard and forced strategic adaptations mid-race. The sustained activity throughout the race reflects how teams had learned to create multiple strategic windows at Hungary, using tire strategy and energy deployment to create overtaking opportunities where pure pace was insufficient.
            </div>
        </div>
    </div>
        </div>

        <!-- Slide 11 - Belgian GP -->
        <div class="slide">
            <div class="slide-image photo-container">
                <img src="2015/Images/BelgianLap.png" alt="Belgian Grand Prix 2015 Position Chart">
            <div class="description-overlay">
            <div class = "description-race">Round 11: Belgian Grand Prix</div>
            <div class="description-title">About This Race</div>
            <div class="description-text">
               The Belgian Grand Prix showed extreme early volatility with 24 position changes on lap 2, characteristic of this circuit’s unpredictability. The size of the track and Belgian weather means it can sometimes be raining on one part of the track and dry on another, meaning grip varies from corner to corner, and the 2015 race exemplified this perfectly with a damp start that caught several drivers off-guard. The sustained peaks around laps 10-15 reflect the circuit's multiple strategic windows, where teams had to balance the risk of changing weather conditions with tire strategy decisions. The late-race spike around lap 42 corresponded with a brief shower that created additional strategic complexity, as teams had to decide whether to gamble on intermediate tires or continue on slicks, leading to dramatic position shuffles that exemplified this circuit’s reputation for unpredictability.
            </div>
        </div>
    </div>
        </div>

        <!-- Slide 12 - Italian GP -->
        <div class="slide">
            <div class="slide-image photo-container">
                <img src="2015/Images/ItalianLap.png" alt="Italian Grand Prix 2015 Position Chart">
            <div class="description-overlay">
            <div class = "description-race">Round 12: Italian Grand Prix</div>
            <div class="description-title">About This Race</div>
            <div class="description-text">
               Italian Grand Prix 2015 exhibits periodic spikes of activity at the very beginning (16 position changes), significant mid-race around lap 20, and late-race around lap 50. Monza's ultra-low downforce requirements were good for the 2015 regulations, which had already reduced aerodynamic grip, creating a more level playing field. The early peak around lap 16 corresponded with an unusual strategic phase where several teams, notably McLaren and Manor, attempted alternative tire strategies to compensate for their power unit deficits. The significant mid-race spike around lap 20 was influenced by a brief rain shower that caught several drivers off-guard, creating multiple position changes as those who had gambled on intermediate tires either gained or lost positions dramatically. The late-race peak around lap 50 reflected the intense battles for championship points, as teams in the constructor's fight threw caution to the wind in the closing stages.
            </div>
        </div>
    </div>
        </div>

        <!-- Slide 13 - Singapore GP -->
        <div class="slide">
            <div class="slide-image photo-container">
                <img src="2015/Images/SingaporeLap.png" alt="Singapore Grand Prix 2015 Position Chart">
            <div class="description-overlay">
            <div class = "description-race">Round 13: Singapore Grand Prix</div>
            <div class="description-title">About This Race</div>
            <div class="description-text">
               The Singapore Grand Prix shows sustained moderate overtaking activity with peaks reaching 20 position changes around laps 27-28. The position change peaks around laps 27-28 correspond with this strategic masterclass, where Ferrari's decision to pit under virtual safety car conditions transformed Vettel's race and created a cascade of position changes as other drivers struggled to adapt their strategies. The street circuit's 23 corners were particularly challenging with the 2015 cars' increased power, as the improved acceleration out of slow corners created more opportunities for overtaking into the braking zones. Rosberg's engine failure while leading created additional strategic complexity, as teams had to decide whether to gamble on longer stints or pit immediately for fresh tires. The sustained elevated activity throughout the latter half of the race reflects the physical toll on drivers, with lap times becoming increasingly inconsistent as fatigue set in, creating natural overtaking opportunities for those who had conserved their energy better.
            </div>
        </div>
    </div>
        </div>

        <!-- Slide 14 - Japanese GP -->
        <div class="slide">
            <div class="slide-image photo-container">
                <img src="2015/Images/JapaneseLap.png" alt="Japanese Grand Prix 2015 Position Chart">
            <div class="description-overlay">
            <div class = "description-race">Round 14: Japanese Grand Prix</div>
            <div class="description-title">About This Race</div>
            <div class="description-text">
               The Japanese Grand Prix showed the most controlled action with a major spike at lap 11 (26 changes) followed by steady moderate activity, reflecting Suzuka's reputation as a circuit that rewards driver technique over strategic risks. The peak around lap 11 coincided with the first strategic window where teams had to make crucial decisions about tire strategy on a track that was still damp in places from earlier rain. The circuit's nature meant that small aerodynamic advantages were amplified. Vettel's strong second-place finish for Ferrari marked another step in their 2015 development progress, achieved through a combination of strategic excellence and racecraft that contributed to the elevated position change numbers. The circuit's reputation for punishing mistakes was evident throughout the race.
            </div>
        </div>
    </div>
        </div>

        <!-- Slide 15 - Russian GP -->
        <div class="slide">
            <div class="slide-image photo-container">
                <img src="2015/Images/RussianLap.png" alt="Russian Grand Prix 2015 Position Chart">
            <div class="description-overlay">
            <div class = "description-race">Round 15: Russian Grand Prix</div>
            <div class="description-title">About This Race</div>
            <div class="description-text">
               Russian Grand Prix demonstrates a pattern of moderate, well-distributed activity with significant peaks occurring around laps 8 (30 position changes) and 13 (22 changes), followed by consistent but lower-level activity throughout the race. This pattern reflects the Sochi Autodrom's unique characteristics as a venue that combines the infrastructure of an Olympic Park with the racing challenges of a street circuit. The early peaks in position changes typically correspond with the circuit's two primary strategic windows, where the combination of tire degradation and fuel load reduction creates optimal conditions for overtaking attempts. The Russian Grand Prix's relatively recent addition to the calendar means that teams and drivers are still optimizing their approaches to the venue, leading to more experimental strategies that can result in unexpected position changes.
            </div>
        </div>
    </div>
        </div>

        <!-- Slide 16 - US GP -->
        <div class="slide">
            <div class="slide-image photo-container">
                <img src="2015/Images/USLap.png" alt="United States Grand Prix 2015 Position Chart">
            <div class="description-overlay">
            <div class = "description-race">Round 16: United States Grand Prix</div>
            <div class="description-title">About This Race</div>
            <div class="description-text">
               The United States Grand Prix displays dramatic mid-race activity with 32 position changes occurring around lap 19. The Circuit of the Americas drew inspiration from the world's greatest racing circuits to create a venue that combines technical challenges with multiple overtaking opportunities. COTA's Turn 1 creates a perfect place for overtaking because the uphill braking zone aids late braking, making it one of the most dramatic opening corners. The back section of the circuit features a series of high-speed esses reminiscent of Silverstone's Maggotts and Becketts complex, where aerodynamic performance is crucial and small setup differences can create significant pace advantages.
            </div>
        </div>
    </div>
        </div>

        <!-- Slide 17 - Mexican GP -->
        <div class="slide">
            <div class="slide-image photo-container">
                <img src="2015/Images/MexicanLap.png" alt="Mexican Grand Prix 2015 Position Chart">
            <div class="description-overlay">
            <div class = "description-race">Round 17: Mexican Grand Prix</div>
            <div class="description-title">About This Race</div>
            <div class="description-text">
               The Mexican Grand Prix exhibits sustained peaks around laps 10 and 21 (32 position changes). Racing at 2,285 meters altitude where thinner air affects aerodynamic downforce and requires maximum downforce packages while still achieving extreme speeds exceeding 350 kph. The circuit's return was marked by extensive modifications, including the stadium section through the former baseball stadium at turns 14-15, combined with three DRS zones. The early peak around lap 10 corresponded with teams discovering that their altitude calculations were incorrect, leading to unexpected performance variations that created numerous overtaking opportunities. The second major peak around lap 21 reflected teams' attempts to adapt their pit strategies to the unique tire degradation patterns at altitude.
            </div>
        </div>
    </div>
        </div>

        <!-- Slide 18 - Brazilian GP -->
        <div class="slide">
            <div class="slide-image photo-container">
                <img src="2015/Images/BrazilianLap.png" alt="Brazilian Grand Prix 2015 Position Chart">
            <div class="description-overlay">
            <div class = "description-race">Round 18: Brazilian Grand Prix</div>
            <div class="description-title">About This Race</div>
            <div class="description-text">
               The Brazilian Grand Prix exhibits a chaotic opening, with 48 position changes by lap 11. Having the highest elevation change of any current circuit, with 102.2 metres between lowest and highest points. Rosberg's eventual victory was hard-fought against Hamilton, who was driving one of his most aggressive races of the season despite having already clinched the championship, contributing to elevated position change numbers as both Mercedes drivers pushed their cars to the limit. The sustained high activity through laps 15-25 reflects teams' different approaches to tire strategy on a drying track, where the decision of when to switch from intermediate to dry tires created multiple strategic windows.
            </div>
        </div>
    </div>
        </div>

        <!-- Slide 19 - Abu Dhabi GP -->
        <div class="slide">
            <div class="slide-image photo-container">
                <img src="2015/Images/AbuLap.png" alt="Abu Dhabi Grand Prix 2015 Position Chart">
            <div class="description-overlay">
            <div class = "description-race">Round 19: Abu Dhabi Grand Prix</div>
            <div class="description-title">About This Race</div>
            <div class="description-text">
               The Abu Dhabi Grand Prix exhibits the most explosive early-race activity of any circuit analyzed, with 50 position changes occurring around lap 9. This dramatic spike reflects the circuit's unique design philosophy. The Yas Marina Circuit's championship-deciding heritage adds psychological pressure that often leads to more aggressive racing in the early stages. The sustained high activity through the middle stint reflects the effectiveness of the circuit's multiple DRS zones and wide racing lines that allow for side-by-side racing. As the final race of the season, Abu Dhabi often sees teams taking strategic risks that wouldn't be attempted at other venues, contributing to the elevated position change numbers.
            </div>
        </div>
    </div>
        </div>

    <!-- Navigation arrows -->
    <button class="prev slide-nav">❮</button>
    <button class="next slide-nav">❯</button>

    <!-- Slide indicators -->
    <div class="slide-indicators">
        <span class="indicator active"></span>
        <span class="indicator"></span>
        <span class="indicator"></span>
        <span class="indicator"></span>
        <span class="indicator"></span>
        <span class="indicator"></span>
        <span class="indicator"></span>
        <span class="indicator"></span>
        <span class="indicator"></span>
        <span class="indicator"></span>
        <span class="indicator"></span>
        <span class="indicator"></span>
        <span class="indicator"></span>
        <span class="indicator"></span>
        <span class="indicator"></span>
        <span class="indicator"></span>
        <span class="indicator"></span>
        <span class="indicator"></span>
        <span class="indicator"></span>
    </div>

    <!-- Race counter -->
    <div class="slide-counter">
        <span class="current-slide">1</span> / <span class="total-slides">19</span>
    </div>
</div>
</div>
<h4>Most Chaotic Races:</h4>             
<ul>
    <li><strong>Brazilian Grand Prix</strong> led the chaos with 48 position changes by lap 11, epitomizing Interlagos' reputation for dramatic season finales with its extreme elevation changes and unpredictable weather</li>
    <li><strong>Abu Dhabi Grand Prix</strong> produced explosive early action with 50 position changes around lap 9, showcasing how the remodeled Yas Marina circuit's multiple DRS zones and championship pressures created unprecedented overtaking opportunities</li>
    <li><strong>Chinese Grand Prix</strong> delivered 40 position changes around lap 14, demonstrating Shanghai's role as a venue where strategic gambles and technical complexity created multiple opportunities for dramatic position shuffles</li>
</ul>
<h4>High-Activity Strategic Races:</h4>
<ul>
    <li><strong>Malaysian Grand Prix</strong> showed sustained peaks reaching 38 position changes around lap 14, reflecting tropical weather challenges and teams still learning hybrid power unit management in extreme heat</li>
    <li><strong>United States Grand Prix & Mexican Grand Prix</strong> both peaked at 32 position changes, with COTA's elevation changes and Mexico's return after 23 years creating unique strategic windows</li>
    <li><strong>Spanish Grand Prix</strong> concentrated its drama early with 30 position changes around lap 13, as teams' major upgrade packages didn't perform as expected at Formula 1's primary testing venue</li>
</ul>
<h4>Sustained Activity Races:</h4>
<ul>
    <li><strong>Bahrain Grand Prix</strong> maintained exceptionally high activity throughout the race distance with multiple peaks exceeding 20 changes, establishing itself as the gold standard for modern circuit design</li>
    <li><strong>Hungarian Grand Prix</strong> proved that even traditionally processional venues could produce excitement, reaching 38 position changes around lap 14 through strategic excellence and extreme heat conditions</li>
    <li><strong>British Grand Prix</strong> delivered 26 position changes around lap 21, showing how Silverstone's multiple DRS zones and home crowd pressure elevated the racing intensity</li>
</ul>
<h4>Technical Precision Races:</h4>
<ul>
    <li><strong>Japanese Grand Prix</strong> showed measured activity with a peak of 26 changes around lap 11, reflecting Suzuka's character as a circuit that rewards technical excellence over chaos</li>
    <li><strong>Austrian Grand Prix</strong> produced two distinct peaks (16 changes around lap 25, another around lap 38), demonstrating how the Red Bull Ring's short lap length created frequent strategic windows</li>
    <li><strong>Australian Grand Prix</strong> exhibited controlled bursts peaking at 14 changes around lap 24, typical of street circuits that concentrate activity around specific strategic moments</li>
</ul>
<h4>Processional Races:</h4>
<ul>
    <li><strong>Monaco Grand Prix</strong> remained the most controlled with maximum peaks of only 12 position changes, confirming that even during an era of closer racing, the principality's narrow streets fundamentally limit overtaking opportunities</li>
    <li><strong>Canadian Grand Prix</strong> peaked at 20 changes around lap 28, showing how even circuits known for overtaking can become more strategic when one team dominates</li>
    <li><strong>Singapore Grand Prix</strong> reached 20 changes around laps 27-28, but this modest peak masked Vettel's strategic masterclass that transformed the race through brilliant pit timing</li>
</ul>
<h4><strong>Key Insights:</strong></h4>
<p>The 2015 season demonstrated that circuit design remained the primary factor in determining race excitement levels, but strategic complexity and weather conditions could elevate any venue's entertainment value. Mercedes' dominance was most pronounced at power-sensitive circuits like Russia and Germany, while technical venues like Hungary and Monaco allowed other teams to challenge through strategic excellence. The data reveals that even during periods of technical dominance, Formula 1's diverse calendar ensures different types of racing.</p>

            <h3>Grand Prix Position Changes Stats</h3>
                <p><strong>Most Overtakes in a Grand Prix:</strong> The Russian Grand Prix` averaged +1.83 positions gained per driver</p>
                <button class="code-btn" onclick="toggleCodeSection('GPposchange')">Show Python Code</button>
        <div id="GPposchange" class="code-section">
            <div class="code-header">
                <span>Python Code for Constructors Standings</span>
                <button class="copy-btn" onclick="copyCode('GPposchange')">Copy</button>
            </div>
            <pre>
def GP_Position_Change(df):
    df_display = df.copy()
    df_display = df_display.rename(columns={
        'name': 'Grand Prix',
        'total_positions_gained': 'Total Gained',
        'avg_positions_per_driver': 'Avg per Driver',
        'consistency': 'Consistency',
        'biggest_gain': 'Best Gain',
        'biggest_loss': 'Worst Loss',
        'drivers_count': 'Drivers'
    })
    
    df_sorted = df_display.sort_values('Avg per Driver', ascending=False)
    
    styled = df_sorted.style.format({
        'Total Gained': '{:+.0f}',
        'Avg per Driver': '{:+.2f}',
        'Consistency': '{:.2f}',
        'Best Gain': '{:+.0f}',
        'Worst Loss': '{:+.0f}',
        'Drivers': '{:.0f}'
    }).set_caption(
        "Grand Prix Position Change Summary (Sorted by Average Change)")
    
    return styled

styled_table = GP_Position_Change(gp_summary)
styled_table
            </pre>
            </div>
                <div class="chart-placeholder" onclick="expandChart(this)">
                    <img src="2015/Images/gpposchangestats.png" alt="Australian Grand Prix 2015 Position Chart">
                </div>
                <h4><strong>Consistency vs. Activity:</strong></h4>
                <p>Higher consistency scores often correlate with lower average gains per driver, suggesting that circuits producing the most dramatic individual moves (like Singapore's +12 best gain) tend to have more variable outcomes. Conversely, circuits with lower consistency scores like Australia (2.14) and Spain (2.58) show more predictable position change patterns.</p>
                <h4><strong>Driver Participation Patterns:</strong></h4>
                <p>Most races show 18-20 drivers experiencing position changes, indicating widespread grid movement rather than isolated incidents. The Australian GP's lower driver count (13) suggests more stable running, while the Chinese and Monaco GPs' full 20-driver involvement shows huge changes in positioning.</p>
                <h4><strong>Strategic Window Indicators</strong></h4>
                <p>The "Best Gain" and "Worst Loss" columns reveal circuits where bold strategic moves pay off most dramatically - Singapore (+12/-13), Mexico (+10/-3), and Canada (+11/-5) show high reward potential but also significant risk, characteristic of venues where strategic risks can produce great results or costly failures.</p>
            </section>

        <!-- Driver Analysis -->
        <section id="driver-analysis" class="section">
            <h2>Driver's Performance Analysis & Insights</h2>
    
            <h3>Hamilton's Lap Time Performance</h3>
            <button class="code-btn" onclick="toggleCodeSection('HamLap')">Show Python Code</button>
        <div id="HamLap" class="code-section">
            <div class="code-header">
                <span>Python Code for Constructors Standings</span>
                <button class="copy-btn" onclick="copyCode('HamLap')">Copy</button>
            </div>
            <pre>
plt.figure(figsize=(12,8))
sns.boxplot(data = hamilton_2015, x ='name', y = 'milliseconds')
plt.xticks(rotation = 45)
plt.xlabel('Grand Prix')
plt.ylabel('Lap Time (milliseconds)')
plt.title('Lap Time for Hamilton in 2015 Season')
plt.show()

            </pre>
            </div>
                    <div class="chart-placeholder" onclick="expandChart(this)">
                    <img src="2015/Images/HamiltonLap.png" alt="Australian Grand Prix 2015 Position Chart">
                </div>
                    <h4><strong>Consistency Analysis</strong></h4>
                <p>Hamilton's lap times show significant variation across venues, ranging from approximately 75 seconds at the fastest circuits to over 170 seconds at the most demanding tracks. This 95-second spread reflects the dramatic differences in circuit characteristics across the F1 calendar, from high-speed layouts like Monza to technical, slower circuits like Monaco and Singapore. The box plot reveals that Hamilton maintained relatively consistent performance within individual races, as evidenced by the compact interquartile ranges (the blue boxes) at most venues.</p>
                
                <h5>Most Consistent Performances</h5>
                <ul>
                    <li>Canadian Grand Prix shows exceptional consistency with a very tight distribution</li>
                    <li>Austrian and Brazilian Grand Prix also demonstrate minimal lap time variation</li>
                    <li>These races likely featured stable conditions and fewer interruptions</li>
                </ul>
                <h5>Higher Variation Races:</h5>
                <ul>
                    <li>Monaco Grand Prix displays the largest spread, which is typical given the circuit's technical nature and higher likelihood of safety cars</li>
                    <li>British Grand Prix shows considerable variation, possibly due to changing weather conditions</li>
                    <li>Singapore Grand Prix exhibits multiple outliers, suggesting challenging race conditions</li>
                </ul>
                <p><strong>Fastest Circuits:</strong> Monaco, Canada, and Austria show the shortest lap times, consistent with these being shorter, more technical circuits where absolute speed is less critical than precision.</p>
                <p><strong>Slowest Circuits:</strong> Spa-Francorchamps, Silverstone, and Suzuka show the longest lap times, reflecting their status as longer, more demanding circuits that test both car and driver endurance.</p>
                 <h5>Higher Variation Races:</h5>
                <ul>
                    <li>Upper outliers likely represent laps affected by traffic, safety cars, or tire degradation</li>
                    <li>Lower outliers may indicate optimal conditions, fresh tires, or qualifying-style efforts during practice sessions</li>
                    <li>The concentration of outliers at certain venues suggests race-specific factors like weather changes or incident-heavy sessions</li>
                </ul>
                <h4><strong>Strategic Implications</strong></h4>
                <p>The data suggests Hamilton and Mercedes adapted their approach based on circuit characteristics. The tighter distributions at technical circuits like Monaco and Canada indicate more conservative, consistent driving, while the wider spreads at power circuits suggest more aggressive strategies with greater lap time variation.
This analysis demonstrates Hamilton's ability to maintain competitive pace across diverse circuit types while adapting his driving style to maximize performance in varying conditions, a key factor in his successful 2015 championship campaign.</p>

                <h3>Hamilton's Performance Z-Score</h3>
                <button class="code-btn" onclick="toggleCodeSection('HamLap')">Show Python Code</button>
        <div id="HamLap" class="code-section">
            <div class="code-header">
                <span>Python Code for Constructors Standings</span>
                <button class="copy-btn" onclick="copyCode('HamLap')">Copy</button>
            </div>
            <pre>
def calculate_z_scores(data, metric_cols):
    z_scores = {}
    for col in metric_cols:
        if col in data.columns:
            mean_val = data[col].mean()
            std_val = data[col].std()
            z_scores[f'{col}_zscore'] = (data[col] - mean_val) / std_val
            z_scores[f'{col}_mean'] = mean_val
            z_scores[f'{col}_std'] = std_val
    
    return pd.DataFrame(z_scores, index=data.index)
    fig, axes = plt.subplots(2, 3, figsize=(18, 12))
fig.suptitle('F1 2015 Z-Score Distributions - Hamilton vs Field', fontsize=16, fontweight='bold')

# Colors for Hamilton
hamilton_color = '#00D2BE'  # Mercedes teal
field_color = '#2E86AB'     # Blue
highlight_color = '#F18F01' # Orange

# 1. Overall Z-Score Distribution
ax1 = axes[0, 0]
n, bins, patches = ax1.hist(season_stats_2015['overall_zscore'], bins=15, alpha=0.7, 
                           color=field_color, edgecolor='black', label='All Drivers')

# Highlight Hamilton's position
if len(hamilton_data) > 0:
    hamilton_overall = hamilton_row['overall_zscore']
    ax1.axvline(hamilton_overall, color=hamilton_color, linewidth=3, 
                label=f'Hamilton ({hamilton_overall:.3f})')
    
    # Add percentile text
    percentile = stats.percentileofscore(season_stats_2015['overall_zscore'].dropna(), hamilton_overall)
    ax1.text(hamilton_overall + 0.1, ax1.get_ylim()[1] * 0.8, 
             f'{percentile:.1f}th', fontsize=10, fontweight='bold')

ax1.set_xlabel('Overall Z-Score')
ax1.set_ylabel('Number of Drivers')
ax1.set_title('Overall Performance Z-Score Distribution')
ax1.legend()
ax1.grid(True, alpha=0.3)

# 2. Points Z-Score Distribution
ax2 = axes[0, 1]
ax2.hist(season_stats_2015['points_zscore'], bins=15, alpha=0.7, 
         color=field_color, edgecolor='black', label='All Drivers')

if len(hamilton_data) > 0:
    hamilton_points_z = hamilton_row['points_zscore']
    ax2.axvline(hamilton_points_z, color=hamilton_color, linewidth=3, 
                label=f'Hamilton ({hamilton_points_z:.3f})')
    
    percentile = stats.percentileofscore(season_stats_2015['points_zscore'], hamilton_points_z)
    ax2.text(hamilton_points_z + 0.1, ax2.get_ylim()[1] * 0.8, 
             f'{percentile:.1f}th', fontsize=10, fontweight='bold')

ax2.set_xlabel('Points Z-Score')
ax2.set_ylabel('Number of Drivers')
ax2.set_title('Championship Points Z-Score Distribution')
ax2.legend()
ax2.grid(True, alpha=0.3)

# 3. Position Z-Score Distribution
ax3 = axes[0, 2]
ax3.hist(season_stats_2015['position_zscore'], bins=15, alpha=0.7, 
         color=field_color, edgecolor='black', label='All Drivers')

if len(hamilton_data) > 0:
    hamilton_pos_z = hamilton_row['position_zscore']
    ax3.axvline(hamilton_pos_z, color=hamilton_color, linewidth=3, 
                label=f'Hamilton ({hamilton_pos_z:.3f})')
    
    percentile = stats.percentileofscore(season_stats_2015['position_zscore'].dropna(), hamilton_pos_z)
    ax3.text(hamilton_pos_z + 0.1, ax3.get_ylim()[1] * 0.8, 
             f'{percentile:.1f}th', fontsize=10, fontweight='bold')

ax3.set_xlabel('Position Z-Score')
ax3.set_ylabel('Number of Drivers')
ax3.set_title('Average Finishing Position Z-Score Distribution')
ax3.legend()
ax3.grid(True, alpha=0.3)

# 4. Speed Z-Score Distribution
ax4 = axes[1, 0]
speed_data = season_stats_2015['speed_zscore'].dropna()
ax4.hist(speed_data, bins=15, alpha=0.7, 
         color=field_color, edgecolor='black', label='All Drivers')

if len(hamilton_data) > 0 and not pd.isna(hamilton_row['speed_zscore']):
    hamilton_speed_z = hamilton_row['speed_zscore']
    ax4.axvline(hamilton_speed_z, color=hamilton_color, linewidth=3, 
                label=f'Hamilton ({hamilton_speed_z:.3f})')
    
    percentile = stats.percentileofscore(speed_data, hamilton_speed_z)
    ax4.text(hamilton_speed_z + 0.1, ax4.get_ylim()[1] * 0.8, 
             f'{percentile:.1f}th', fontsize=10, fontweight='bold')

ax4.set_xlabel('Speed Z-Score')
ax4.set_ylabel('Number of Drivers')
ax4.set_title('Fastest Lap Speed Z-Score Distribution')
ax4.legend()
ax4.grid(True, alpha=0.3)

# 5. Grid Position Z-Score Distribution
ax5 = axes[1, 1]
ax5.hist(season_stats_2015['grid_zscore'], bins=15, alpha=0.7, 
         color=field_color, edgecolor='black', label='All Drivers')

if len(hamilton_data) > 0:
    hamilton_grid_z = hamilton_row['grid_zscore']
    ax5.axvline(hamilton_grid_z, color=hamilton_color, linewidth=3, 
                label=f'Hamilton ({hamilton_grid_z:.3f})')
    
    percentile = stats.percentileofscore(season_stats_2015['grid_zscore'], hamilton_grid_z)
    ax5.text(hamilton_grid_z + 0.1, ax5.get_ylim()[1] * 0.8, 
             f'{percentile:.1f}th', fontsize=10, fontweight='bold')

ax5.set_xlabel('Grid Position Z-Score')
ax5.set_ylabel('Number of Drivers')
ax5.set_title('Average Grid Position Z-Score Distribution')
ax5.legend()
ax5.grid(True, alpha=0.3)

# 6. Hamilton's Z-Score Profile (Radar Chart Style)
ax6 = axes[1, 2]
if len(hamilton_data) > 0:
    categories = ['Points', 'Position', 'Speed', 'Grid', 'Overall']
    hamilton_scores = [
        hamilton_row['points_zscore'],
        hamilton_row['position_zscore'], 
        hamilton_row['speed_zscore'] if not pd.isna(hamilton_row['speed_zscore']) else 0,
        hamilton_row['grid_zscore'],
        hamilton_row['overall_zscore']
    ]
    
    bars = ax6.bar(categories, hamilton_scores, color=hamilton_color, alpha=0.8, edgecolor='black')
    ax6.axhline(y=0, color='black', linestyle='-', alpha=0.3)
    ax6.axhline(y=1, color='red', linestyle='--', alpha=0.5, label='1 Std Above Mean')
    ax6.axhline(y=-1, color='red', linestyle='--', alpha=0.5, label='1 Std Below Mean')
    
    for bar, score in zip(bars, hamilton_scores):
        height = bar.get_height()
        ax6.text(bar.get_x() + bar.get_width()/2., height + 0.05 if height >= 0 else height - 0.15,
                f'{score:.2f}', ha='center', va='bottom' if height >= 0 else 'top', fontweight='bold')
    
    ax6.set_ylabel('Z-Score')
    ax6.set_title("Hamilton's Z-Score Profile")
    ax6.legend()
    ax6.grid(True, alpha=0.3)

plt.tight_layout()
plt.show()
</pre>
</div>

                    <div class="zscore-placeholder" onclick="expandChart(this)">
                    <img src="2015/Images/HamiltonZ.png" alt="Australian Grand Prix 2015 Position Chart">
                </div>
                    
                <br><small>This comprehensive Z-score analysis provides a statistical view of Lewis Hamilton's 2015 Formula 1 performance, comparing him against the entire field across multiple performance dimensions. The use of Z-scores allows for meaningful comparisons by standardizing performance metrics relative to the field average and variation.</small>
                <h4><strong>Hamilton's Performance Profile</strong></h4>
                <p>The bottom-right panel reveals Hamilton's exceptional standing across all measured categories, with his lowest Z-score being 1.52 (Speed) and his highest being 2.70 (Points). All metrics fall well above the +1 standard deviation line, indicating consistently elite performance that places him among the very top performers in every category.</p>
                <h5>Performance Hierarchy:</h5>
                <ul>
                    <li><strong>Championship Points (2.70):</strong> Hamilton's most dominant metric, reflecting his championship-winning season</li>
                    <li><strong>Overall Performance (2.14):</strong> Strong composite score indicating well-rounded excellence</li>
                    <li><strong>Average Grid Position (1.94):</strong> Demonstrates qualifying strength and car performance</li>
                    <li><strong>Average Finishing Position (1.87):</strong> Shows race execution and consistency</li>
                    <li><strong>Fastest Lap Speed (1.52):</strong> While still excellent, suggests pure speed wasn't his primary advantage</li>
                </ul>
                <h4><strong>Distribution Analysis</strong></h4>
                <p><strong>Overall Performance Distribution (Top-Left):</strong>
Hamilton's Z-score of 2.139 places him at the extreme right tail of the distribution, in the 100th percentile. The field shows a roughly normal distribution centered around zero, with Hamilton representing a true statistical outlier.</p>
                <p><strong>Championship Points Distribution (Top-Middle)</strong>
The most striking visualization shows Hamilton's 2.700 Z-score creating a massive gap from the field. The distribution reveals a highly competitive midfield with most drivers clustered between -0.5 and +0.5 Z-scores, making Hamilton's dominance even more remarkable.</p>
                <p><strong>Average Finishing Position (Top-Right):</strong> Hamilton's 1.870 Z-score demonstrates exceptional race execution. The field distribution shows most drivers clustered around average finishing positions, with Hamilton clearly separated as a consistent front-runner.</p>
                
                <h4><strong>Speed vs. Execution Analysis</strong></h4>
                <p><strong>Fastest Lap Speed (Bottom-Left):</strong>
Hamilton's 1.521 Z-score, while excellent, is his lowest metric. This suggests that while he had competitive pace, his championship success was more attributable to consistency, strategy, and race craft rather than raw speed alone. The distribution shows several drivers achieved similar or better single-lap pace.</p>
                <p><strong>Grid Position Performance (Bottom-Right)</strong>
Hamilton's 1.939 Z-score indicates strong qualifying performance, placing him consistently at the front of the grid. This metric bridges the gap between pure speed and race execution, showing how qualifying position contributed to his overall success.</p>
                
                <h4><strong>Strategic Insights</strong></h4>
                <p>The data reveals that Hamilton's 2015 championship was built on a foundation of well-rounded excellence rather than dominance in any single area. His ability to consistently perform above the field average in every measured category - particularly his exceptional points scoring and finishing positions - demonstrates the hallmarks of a complete champion.
The relatively smaller gap in speed metrics compared to results-based metrics suggests Hamilton maximized his package through superior race management, strategic decision-making, and mistake avoidance. This pattern is characteristic of experienced champions who understand that championships are won through consistency and optimization rather than occasional brilliance.</p>

                <h4><strong>Field Competitiveness</strong></h4>
                <p>The distributions reveal a highly competitive 2015 field, with most drivers clustered within one standard deviation of the mean across all metrics. This makes Hamilton's consistent performance above +1.5 Z-scores across all categories even more impressive, as it demonstrates sustained excellence in a competitive environment rather than dominance through superior equipment alone.
The analysis ultimately portrays Hamilton's 2015 season as a masterclass in championship execution - combining strong qualifying, consistent finishing, competitive speed, and exceptional points maximization to achieve statistical dominance across all performance dimensions.</p>
                <h3>Driver Season Performance</h3>
                <button class="code-btn" onclick="toggleCodeSection('seasonmom')">Show Python Code</button>
        <div id="seasonmom" class="code-section">
            <div class="code-header">
                <span>Python Code for Constructors Standings</span>
                <button class="copy-btn" onclick="copyCode('seasonmom')">Copy</button>
            </div>
            <pre>
def season_momentum_comparison(all_momentum):
    
    early_season = all_momentum[all_momentum['round'] <= 7]  # First 7 races
    late_season = all_momentum[all_momentum['round'] >= 13]  # Last 7 races
    early_avg = early_season.groupby('fullName')['position'].mean()
    late_avg = late_season.groupby('fullName')['position'].mean()
    
    momentum_comparison = pd.DataFrame({
        'early_season_avg': early_avg,
        'late_season_avg': late_avg
    }).dropna()
    momentum_comparison['improvement'] = momentum_comparison['early_season_avg'] - momentum_comparison['late_season_avg']
    top_drivers = all_momentum.groupby('fullName')['points'].sum().index
    momentum_subset = momentum_comparison[momentum_comparison.index.isin(top_drivers)]
    
    plt.figure(figsize=(12, 8))
    
    colors = ['green' if x > 0 else 'red' for x in momentum_subset['improvement']]
    plt.scatter(momentum_subset['early_season_avg'], momentum_subset['late_season_avg'], 
               c=colors, s=200, alpha=0.7, edgecolors='black', linewidth=2)
    min_pos = min(momentum_subset['early_season_avg'].min(), momentum_subset['late_season_avg'].min())
    max_pos = max(momentum_subset['early_season_avg'].max(), momentum_subset['late_season_avg'].max())
    plt.plot([min_pos, max_pos], [min_pos, max_pos], 'k--', alpha=0.5, linewidth=2)
    
    for fullName, row in momentum_subset.iterrows():
        plt.annotate(f'{fullName}', 
                    (row['early_season_avg'], row['late_season_avg']),
                    xytext=(5, 5), textcoords='offset points', fontsize=10)
    
    plt.xlabel('Early Season Average Position (Rounds 1-7)', fontsize=12)
    plt.ylabel('Late Season Average Position (Rounds 13-19)', fontsize=12)
    plt.title('Season Momentum: Early vs Late Season Performance', fontsize=16, fontweight='bold')
    plt.grid(True, alpha=0.3)
    plt.scatter([], [], c='green', s=100, label='Improved (green)', alpha=0.7)
    plt.scatter([], [], c='red', s=100, label='Declined (red)', alpha=0.7)
    plt.legend()
    plt.tight_layout()
    plt.show()
    
    return momentum_comparison

            </pre>
            </div>
<div class="zscore-placeholder" onclick="expandChart(this)">
                    <img src="2015/Images/seasonmomentum.png" alt="Australian Grand Prix 2015 Position Chart">
                </div>
                <h4><strong>Performance Trajectory Categories</strong></h4>
<ul>
    <li><strong>Consistent Improvers:</strong> Drivers like Roberto Merhi, Jenson Button, Pastor Maldonado, and Max Verstappen show significant improvement from early to late season, indicating either strong adaptability, car development that suited their driving style, or learning curve mastery. These green dots above the diagonal represent drivers who maximized their season potential.</li>
    <li><strong>Performance Decliners:</strong> Will Stevens, Fernando Alonso, Marcus Ericsson, and Felipe Massa (red dots below diagonal) experienced performance deterioration as the season progressed. This could reflect car development moving away from their preferences, fatigue effects, or competitive pressure from improving rivals.</li>
    <li><strong>Stable Performers:</strong> Drivers clustered near the diagonal line like Lewis Hamilton, Nico Rosberg, and Sebastian Vettel maintained consistent performance levels throughout the season, suggesting either optimized setups from the start or cars with stable development trajectories.</li>
</ul>

<h4><strong>Strategic Performance Insights</strong></h4>
<ul>
    <li><strong>Development Curve Dynamics:</strong> The wide spread of improvement/decline patterns suggests that 2015 featured significant in-season car development variation across teams. Drivers showing improvement likely benefited from aerodynamic updates, power unit refinements, or suspension changes that better suited their driving characteristics.</li>
    <li><strong>Experience vs Adaptation:</strong> Interestingly, some veteran drivers (Alonso, Massa) declined while younger drivers (Verstappen, Button's resurgence) improved, suggesting that adaptability and learning capacity may have been more valuable than pure experience during this regulation period.</li>
    <li><strong>Team-Specific Patterns:</strong> The clustering of certain drivers suggests team-level effects—some teams clearly developed their cars in directions that benefited their drivers' performance trajectories, while others may have pursued development paths that created handling characteristics misaligned with their drivers' strengths.</li>
</ul>

<h4><strong>Competitive Intelligence</strong></h4>
<ul>
    <li><strong>Championship Impact:</strong> Drivers in the upper-left quadrant (poor early, strong late) potentially cost themselves championship points through slow starts, while those in lower-right (strong early, poor late) may have maximized early-season opportunities before competitive decline.</li>
    <li><strong>Contract and Career Implications:</strong> For drivers like Roberto Merhi and Will Stevens, their trajectory patterns likely influenced team retention decisions and career prospects, with late-season improvement being crucial for securing future opportunities.</li>
    <li><strong>Momentum Correlation:</strong> The scatter pattern suggests that early-season performance is not strongly predictive of late-season results, indicating that F1's technical development race creates significant opportunities for mid-season competitive repositioning.</li>
</ul>

<h4><strong>Principal Component Analysis of Team Clustering</strong></h4>
<ul>
    <li><strong>Cluster 1 Competitive Dynamics:</strong> The red cluster (Ferrari, Force India, Red Bull, Williams, Toro Rosso) represents the "established competitive tier"—teams with strong operational foundations but lacking Mercedes' systematic excellence. Their tight clustering in PCA space indicates similar operational maturity levels despite different championship positions.</li>
    <li><strong>Cluster 2 Developmental Challenges:</strong> The blue cluster (Manor Marussia, Sauber, McLaren, Lotus F1) occupies a distinct performance space characterized by systematic operational challenges. McLaren's presence in this cluster, despite their historical success, indicates that even top-tier teams can fall into operational inefficiency cycles due to technical regulation changes or organizational disruption.</li>
    <li><strong>Mercedes as Statistical Outlier:</strong> Mercedes' isolation in green (Cluster 3) reflects their operation at a fundamentally different performance level. In PCA terms, they represent an extreme outlier requiring separate analytical treatment—their performance exists outside normal competitive variance.</li>
    <li><strong>Variance Explanation:</strong> PC1 (54.0% variance) likely captures overall operational capability, while PC2 (18.3% variance) may represent strategic/tactical execution quality. The high PC1 variance indicates that fundamental operational capability explains most inter-team performance differences.</li>
</ul>

<h4><strong>Strategic Execution vs Qualifying Performance Analysis</strong></h4>
<ul>
    <li><strong>Overperformance Analysis:</strong> Manor Marussia's exceptional position improvement (+4.5) suggests either superior race strategy, better tire management, or opportunistic tactics during safety car periods. For backmarker teams, race-day execution becomes crucial for points-scoring opportunities.</li>
    <li><strong>McLaren's Race Craft:</strong> McLaren's significant positive improvement (+3.8) indicates strong race-day execution despite qualifying struggles, suggesting their operational challenges were primarily single-lap focused rather than race-pace related.</li>
    <li><strong>Mercedes' Negative Improvement:</strong> Mercedes' slight position loss (-0.5) reflects the mathematical ceiling effect of starting from pole position—they cannot improve grid position but can lose track position through strategic choices or rare execution errors.</li>
    <li><strong>Williams' Strategic Challenge:</strong> Williams' minimal negative improvement (-0.2) combined with their qualifying strength suggests missed strategic opportunities or tire management challenges that prevented them from maximizing race-day potential.</li>
</ul>

<h4><strong>Advanced Competitive Intelligence</strong></h4>
<ul>
    <li><strong>Resource Allocation Efficiency:</strong> The data suggests optimal competitive investment strategies differ by championship tier. Top teams benefit most from reliability and qualifying performance improvements, while midfield teams gain more from race execution and strategic innovation.</li>
    <li><strong>Developmental Pathways:</strong> Teams moving between clusters require different improvement focuses: Cluster 2→1 requires fundamental operational capability building, Cluster 1→3 demands systematic excellence across all operational dimensions, while within-cluster improvement focuses on specialized tactical/strategic advantages.</li>
    <li><strong>Competitive Moat Analysis:</strong> Mercedes' 2015 dominance created multiple defensive advantages: their operational excellence reduced strategic pressure, their reliability advantage compounded points accumulation, and their qualifying supremacy provided race control. This created a virtuous cycle where success enabled further success.</li>
    <li><strong>Market Efficiency Implications:</strong> The strong correlations between grid position and race results suggest F1's competitive market is highly efficient—superior car performance translates predictably to championship success, leaving limited room for tactical arbitrage or strategic innovation to overcome fundamental performance gaps.</li>
</ul>

                <h3>Driver vs. Car Performance</h3>
                <button class="code-btn" onclick="toggleCodeSection('driveperf')">Show Python Code</button>
        <div id="driveperf" class="code-section">
            <div class="code-header">
                <span>Python Code for Constructors Standings</span>
                <button class="copy-btn" onclick="copyCode('driveperf')">Copy</button>
            </div>
            <pre>
modeling_data = results_2015.merge(
    drivers[['driverId', 'forename', 'surname']], on='driverId', how='left').merge(
    constructors[['constructorId', 'name']], on='constructorId', how='left', suffixes=('', '_constructor')).merge(
    races_2015[['raceId', 'name', 'round']], on='raceId', how='left', suffixes=('', '_race'))

modeling_data['driver_name'] = modeling_data['forename'] + ' ' + modeling_data['surname']
modeling_data['race_name'] = modeling_data['name_race']
modeling_data['position'] = pd.to_numeric(modeling_data['position'], errors='coerce')
modeling_data['grid'] = pd.to_numeric(modeling_data['grid'], errors='coerce')
modeling_data['points'] = pd.to_numeric(modeling_data['points'], errors='coerce')
modeling_data = modeling_data.dropna(subset=['position', 'grid', 'constructor_name'])
modeling_data = modeling_data[modeling_data['position'] <= 20]
modeling_data = modeling_data[modeling_data['grid'] <= 24]

constructor_model_data = modeling_data.copy()
constructor_dummies = pd.get_dummies(
    constructor_model_data['constructor_name'], 
    prefix='constructor',
    drop_first=False)

if 'constructor_Mercedes' in constructor_dummies.columns:
    constructor_dummies = constructor_dummies.drop('constructor_Mercedes', axis=1)
    reference_constructor = 'Mercedes'
else:
    reference_constructor = sorted(constructor_model_data['constructor_name'].unique())[0]
    constructor_dummies = constructor_dummies.drop(f'constructor_{reference_constructor}', axis=1)

X_constructor = pd.concat([
    constructor_model_data[['grid']],
    constructor_dummies], axis=1)

y = constructor_model_data['position']

constructor_model = LinearRegression()
constructor_model.fit(X_constructor, y)
constructor_r2 = r2_score(y, constructor_model.predict(X_constructor))
grid_coef = constructor_model.coef_[0]
constructor_coefs = dict(zip(constructor_dummies.columns, constructor_model.coef_[1:]))

constructor_effects = {reference_constructor: 0.0}
for col, coef in constructor_coefs.items():
    constructor_name = col.replace('constructor_', '')
    constructor_effects[constructor_name] = coef

modeling_data['constructor_baseline'] = modeling_data['constructor_name'].map(constructor_effects)
modeling_data['expected_position_from_car'] = (
    constructor_model.intercept_ + 
    grid_coef * modeling_data['grid'] + 
    modeling_data['constructor_baseline'])

modeling_data['driver_performance'] = (
    modeling_data['position'] - modeling_data['expected_position_from_car'])

driver_skill = modeling_data.groupby('driver_name').agg({
    'driver_performance': ['mean', 'std', 'count'],
    'position': 'mean',
    'grid': 'mean',
    'points': 'sum'}).round(3)

driver_skill.columns = ['avg_performance_vs_car', 'performance_std', 'race_count', 
                       'avg_position', 'avg_grid', 'total_points']
driver_skill = driver_skill.reset_index()

min_races = 5
driver_skill_filtered = driver_skill[driver_skill['race_count'] >= min_races].copy()
driver_skill_filtered['skill_rank'] = driver_skill_filtered['avg_performance_vs_car'].rank()
driver_skill_filtered = driver_skill_filtered.sort_values('avg_performance_vs_car')

modeling_data['hierarchical_prediction'] = (
    modeling_data['expected_position_from_car'] + 
    modeling_data['driver_name'].map(
        driver_skill.set_index('driver_name')['avg_performance_vs_car']).fillna(0))

hierarchical_r2 = r2_score(modeling_data['position'], modeling_data['hierarchical_prediction'])
hierarchical_mae = np.mean(np.abs(modeling_data['position'] - modeling_data['hierarchical_prediction']))

baseline_model = LinearRegression()
baseline_model.fit(modeling_data[['grid']], modeling_data['position'])
baseline_r2 = r2_score(modeling_data['position'], baseline_model.predict(modeling_data[['grid']]))

total_variance = np.var(modeling_data['position'])
grid_effect_variance = np.var(baseline_model.predict(modeling_data[['grid']]))
constructor_effect_variance = np.var(modeling_data['constructor_baseline'])
driver_effect_variance = np.var(modeling_data['driver_name'].map(
    driver_skill.set_index('driver_name')['avg_performance_vs_car']
).fillna(0))

grid_pct = (grid_effect_variance / total_variance) * 100
constructor_pct = (constructor_effect_variance / total_variance) * 100  
driver_pct = (driver_effect_variance / total_variance) * 100
explained_pct = hierarchical_r2 * 100

if constructor_pct + driver_pct > 0:
    car_vs_driver_ratio = constructor_pct / driver_pct

constructor_ranking = []
for constructor, effect in constructor_effects.items():
    total_points = modeling_data[modeling_data['constructor_name'] == constructor]['points'].sum()
    constructor_ranking.append({
        'constructor': constructor,
        'car_effect': effect,
        'total_points': total_points
    })

constructor_ranking = sorted(constructor_ranking, key=lambda x: x['car_effect'])
expected_top_drivers = ['Lewis Hamilton', 'Sebastian Vettel', 'Nico Rosberg']
expected_top_constructors = ['Mercedes', 'Ferrari', 'Williams']
actual_top_drivers = driver_skill_filtered.head(3)['driver_name'].tolist()
actual_top_constructors = [item['constructor'] for item in constructor_ranking[:3]]
driver_matches = len(set(expected_top_drivers) & set(actual_top_drivers))
constructor_matches = len(set(expected_top_constructors) & set(actual_top_constructors))

fig, axes = plt.subplots(2, 3, figsize=(18, 12))
fig.suptitle('F1 2015: Driver Skill vs Car Performance Regression Analysis', 
             fontsize=18, fontweight='bold', y=0.96)

# 1. Model Performance Comparison
ax1 = axes[0, 0]
models = ['Baseline', 'Constructor', 'Driver', 'Full Model']
r2_scores = [r2_baseline, r2_constructor, r2_driver, r2_full]
colors = ['lightgray', 'orange', 'lightblue', 'green']

bars = ax1.bar(models, r2_scores, color=colors, edgecolor='black', alpha=0.8)
ax1.set_ylabel('R² Score', fontsize=12)
ax1.set_title('Model Performance Comparison', fontweight='bold', fontsize=14)
ax1.set_ylim(0, 1.0)
ax1.grid(True, alpha=0.3)

for bar, score in zip(bars, r2_scores):
    height = bar.get_height()
    ax1.text(bar.get_x() + bar.get_width()/2., height + 0.01,
             f'{score:.3f}', ha='center', va='bottom', fontweight='bold')

# 2. Top 15 Drivers by Skill (Car-Independent)
ax2 = axes[0, 1]
top_drivers = driver_analysis.head(15)
colors_drivers = ['red' if 'Hamilton' in name else 'purple' if 'Rosberg' in name 
                 else 'orange' if 'Verstappen' in name else 'lightblue' 
                 for name in top_drivers['driver_name']]

y_pos = np.arange(len(top_drivers))
bars = ax2.barh(y_pos, top_drivers['skill_coefficient'], color=colors_drivers, 
                edgecolor='black', alpha=0.8)
ax2.set_yticks(y_pos)
ax2.set_yticklabels([name.split()[-1] for name in top_drivers['driver_name']], fontsize=10)
ax2.set_xlabel('Skill Coefficient (Lower = Better)', fontsize=12)
ax2.set_title('Top 15 Drivers by Skill (Car-Independent)', fontweight='bold', fontsize=14)
ax2.grid(True, alpha=0.3, axis='x')
ax2.invert_yaxis()

# 3. Constructor Car Performance
ax3 = axes[0, 2]
constructor_colors = ['blue' if 'Mercedes' in name else 'red' if 'Ferrari' in name 
                     else 'orange' if 'Red Bull' in name else 'lightgreen' 
                     for name in constructor_analysis['constructor_name']]

y_pos_const = np.arange(len(constructor_analysis))
bars = ax3.barh(y_pos_const, constructor_analysis['car_coefficient'], 
                color=constructor_colors, edgecolor='black', alpha=0.8)
ax3.set_yticks(y_pos_const)
ax3.set_yticklabels([name[:15] for name in constructor_analysis['constructor_name']], fontsize=9)
ax3.set_xlabel('Car Performance Coefficient (Lower = Better)', fontsize=12)
ax3.set_title('Constructor Car Performance', fontweight='bold', fontsize=14)
ax3.grid(True, alpha=0.3, axis='x')
ax3.invert_yaxis()

# 4. Actual vs Predicted (Full Model)
ax4 = axes[1, 0]
scatter = ax4.scatter(y_test, y_pred_full, alpha=0.6, s=50, 
                     c=y_test, cmap='viridis', edgecolor='black', linewidth=0.5)
ax4.plot([y_test.min(), y_test.max()], [y_test.min(), y_test.max()], 
         'r--', lw=2, alpha=0.8)
ax4.set_xlabel('Actual Position', fontsize=12)
ax4.set_ylabel('Predicted Position', fontsize=12)
ax4.set_title(f'Actual vs Predicted (R² = {r2_full:.3f})', fontweight='bold', fontsize=14)
ax4.grid(True, alpha=0.3)

# 5. Residuals vs Predicted
ax5 = axes[1, 1]
residuals = y_test - y_pred_full
ax5.scatter(y_pred_full, residuals, alpha=0.6, s=50, color='blue', edgecolor='black', linewidth=0.5)
ax5.axhline(y=0, color='red', linestyle='--', linewidth=2, alpha=0.8)
ax5.set_xlabel('Predicted Position', fontsize=12)
ax5.set_ylabel('Residuals', fontsize=12)
ax5.set_title('Residuals vs Predicted', fontweight='bold', fontsize=14)
ax5.grid(True, alpha=0.3)

# 6. Driver Skill vs Actual Performance
ax6 = axes[1, 2]
for _, row in driver_analysis.iterrows():
    if 'Hamilton' in row['driver_name']:
        ax6.scatter(row['skill_coefficient'], row['avg_position'], 
                   color='red', s=200, marker='*', edgecolor='black', linewidth=2,
                   label='Hamilton', zorder=5)
    elif 'Rosberg' in row['driver_name']:
        ax6.scatter(row['skill_coefficient'], row['avg_position'], 
                   color='purple', s=200, marker='*', edgecolor='black', linewidth=2,
                   label='Rosberg', zorder=5)
    elif 'Verstappen' in row['driver_name']:
        ax6.scatter(row['skill_coefficient'], row['avg_position'], 
                   color='orange', s=200, marker='*', edgecolor='black', linewidth=2,
                   label='Verstappen', zorder=5)
    else:
        ax6.scatter(row['skill_coefficient'], row['avg_position'], 
                   alpha=0.7, s=60, color='lightblue', edgecolor='black', linewidth=0.5)

ax6.set_xlabel('Skill Coefficient (Car-Independent)', fontsize=12)
ax6.set_ylabel('Average Finishing Position', fontsize=12)
ax6.set_title('Driver Skill vs Actual Performance', fontweight='bold', fontsize=14)
ax6.grid(True, alpha=0.3)
ax6.legend()
ax6.invert_yaxis()

plt.tight_layout(rect=[0, 0.02, 1, 0.94])
plt.show()
            </pre>
            </div>
                    <div class="zscore-placeholder" onclick="expandChart(this)">
                    <img src="2015/Images/drivervcarperformance.png" alt="Australian Grand Prix 2015 Position Chart">
                </div>
                <br><small>This regression analysis provides a sophisticated statistical decomposition of Formula 1 performance in 2015, separating driver skill from car performance to reveal the true contributions of each factor to championship results.</small>
                <h4><strong>Model Performance and Validation</strong></h4>
                <p>The regression model demonstrates strong predictive power with an R² of 0.653, explaining approximately 65% of the variance in driver performance. This is remarkably high for sports analytics, indicating that the combination of driver skill and car performance effectively captures the primary determinants of F1 success.</p>
                <ul>
                    <li><strong>Model Comparison (Top-Left):</strong>
The progression from baseline (0.645) to full model (0.653) shows incremental improvements, with the constructor-only model performing surprisingly well (0.691). This suggests car performance is the dominant factor in F1, though driver skill adds meaningful explanatory power.</li>
                    <li><strong>Model Validation (Bottom Panels)</strong>
The actual vs. predicted scatter plot shows excellent correlation along the diagonal, while the residuals plot displays relatively random distribution around zero, confirming model validity. Some outliers exist, suggesting occasional performances that exceeded or fell short of statistical expectations.</li>
                </ul>

                <h4><strong>Driver Skill Rankings</strong></h4>
                <p><strong>Elite Tier (Top-Left Panel):</strong>
Hamilton leads the car-independent skill rankings with the most negative coefficient (-2.0), indicating he consistently outperformed his car's baseline capability. This aligns with his championship victory and demonstrates that even with the best car, his personal contribution was substantial.</p>
                <ul>
                    <li><strong>Vettel (-1.7):</strong> Shows exceptional skill despite Ferrari's competitive disadvantage</li>
                    <li><strong>Kvyat (-1.2):</strong> Impressive performance extracting maximum from Red Bull machinery</li>
                    <li><strong>Verstappen (-1.0):</strong> Remarkable for a rookie season, indicating natural talent</li>
                </ul>
                <p><strong>Veteran Performance:</strong> Raikkonen, Button, and Massa cluster around -0.5 to -0.8, showing experienced drivers' ability to maximize their equipment consistently.</p>
                
                <h4><strong>Constructor Performance Rankings</strong></h4>
                <p><strong>Dominant Manufacturers (Top-Right Panel):</strong>
Mercedes shows the strongest car performance coefficient, validating their technical dominance. Ferrari appears as the clear second-best package, with a significant gap to the midfield constructors.</p>
                <p><strong>Midfield Competitiveness:</strong>
Lotus F1, Williams, Red Bull, and Force India cluster in the neutral zone, indicating relatively balanced performance levels. The tight grouping suggests a competitive midfield battle.</p>         
    <p><strong>Performance Outliers:</strong>
Manor Marussia's extreme positive coefficient reflects their struggle as the field's weakest car, requiring exceptional driver skill just to remain competitive.</p>
            
                <h4><strong>Strategic Insights</strong></h4>
                <p><strong>The Car vs. Driver:</strong>
The analysis reveals F1's fundamental truth: while car performance provides the platform, driver skill determines championship outcomes among competitive machinery. Hamilton's skill advantage over Rosberg, despite identical cars, explains the championship margin.</p>
                <p><strong>Development Implications:</strong>
Teams with strong cars but lower-skilled drivers (shown in the upper-left quadrant) represent optimization opportunities. Conversely, skilled drivers in weaker cars (lower-right quadrant) suggest potential for improvement with better machinery.</p>
                <p><strong>Rookie Assessment:</strong> Verstappen's positioning demonstrates exceptional adaptation for a first-year driver, suggesting future championship potential when paired with competitive machinery.</p>

                    <h4><strong>Model Limitations and Insights</strong></h4>
                    <p>The residuals analysis shows some systematic patterns, particularly at extreme performance levels, suggesting factors beyond pure skill and car performance influence results. These could include race-specific circumstances (weather, incidents), strategic execution quality, reliability factors, circuit-specific advantages. The model's 65% explanatory power leaves room for these nuanced factors while capturing the fundamental drivers of F1 performance. This analysis ultimately confirms that while Formula 1 remains an engineering sport, driver skill provides the crucial margin that separates champions from competitors when equipment quality converges at the top level.</p>
                    
                </section>

<!-- Team Analysis-->
 <section id="team-analysis" class="section">
            <h2>Constructors Performance Analysis & Insights</h2>
    
            <h3>Constructor's Pit Stop Time Performance</h3>
            <button class="code-btn" onclick="toggleCodeSection('teampitstop')">Show Python Code</button>
        <div id="teampitstop" class="code-section">
            <div class="code-header">
                <span>Python Code for Constructors Standings</span>
                <button class="copy-btn" onclick="copyCode('teampitstop')">Copy</button>
            </div>
            <pre>
pit_analysis = pit_stops_2015.merge(
    results_2015[['raceId', 'driverId', 'constructorId']], 
    on=['raceId', 'driverId'], how='left').merge(
    constructors[['constructorId', 'name']], 
    on='constructorId', how='left')
pit_analysis.rename(columns={'name': 'constructor_name'}, inplace=True)

pit_stats = pit_analysis.groupby('constructor_name').agg({
    'duration_seconds': ['mean', 'std', 'count'],
    'stop': 'mean',
    'lap': 'mean'}).round(3)

pit_stats.columns = ['avg_duration', 'std_duration', 'total_stops', 'avg_stops_per_race', 'avg_pit_lap']
pit_stats['consistency_score'] = 1 / (pit_stats['std_duration'] + 0.1)
pit_stats = pit_stats[pit_stats['total_stops'] >= 10].sort_values('avg_duration')  # Filter teams with sufficient data

fig, ((ax1, ax2), (ax3, ax4)) = plt.subplots(2, 2, figsize=(16, 12))
fig.suptitle('F1 2015 Pit Stop Performance Analysis', fontsize=16, fontweight='bold')

pit_stats_top = pit_stats.head(10)

# Subplot 1: Average pit stop time
bars1 = ax1.bar(range(len(pit_stats_top)), pit_stats_top['avg_duration'], 
                color='red', alpha=0.7, edgecolor='black')
ax1.set_xlabel('Constructor')
ax1.set_ylabel('Average Pit Stop Time (seconds)')
ax1.set_title('Average Pit Stop Duration by Constructor')
ax1.set_xticks(range(len(pit_stats_top)))
ax1.set_xticklabels([name[:8] for name in pit_stats_top.index], rotation=45)
ax1.grid(True, alpha=0.3, axis='y')

# Subplot 2: Pit stop consistency
bars2 = ax2.bar(range(len(pit_stats_top)), pit_stats_top['consistency_score'], 
                color='blue', alpha=0.7, edgecolor='black')
ax2.set_xlabel('Constructor')
ax2.set_ylabel('Consistency Score (Higher = More Consistent)')
ax2.set_title('Pit Stop Consistency by Constructor')
ax2.set_xticks(range(len(pit_stats_top)))
ax2.set_xticklabels([name[:8] for name in pit_stats_top.index], rotation=45)
ax2.grid(True, alpha=0.3, axis='y')

# Subplot 3: Pit stop time distribution (box plot)
all_constructors = pit_stats.index
pit_data_all = []
labels_all = []

for constructor in all_constructors:
    constructor_times = pit_analysis[pit_analysis['constructor_name'] == constructor]['duration_seconds'].dropna()
    if len(constructor_times) > 5:
        pit_data_all.append(constructor_times)
        labels_all.append(constructor[:8])

ax3.boxplot(pit_data_all, labels=labels_all)
ax3.set_ylabel('Pit Stop Duration (seconds)')
ax3.set_title('Pit Stop Time Distribution - All Teams')
ax3.tick_params(axis='x', rotation=45)
ax3.grid(True, alpha=0.3, axis='y')

# Subplot 4: Strategy patterns (scatter plot)
scatter = ax4.scatter(pit_stats['avg_stops_per_race'], pit_stats['avg_duration'], 
                     s=pit_stats['total_stops']/1000, alpha=0.6, c='purple')
ax4.set_xlabel('Average Stops per Race')
ax4.set_ylabel('Average Pit Duration (seconds)')
ax4.set_title('Strategy vs Speed (Size = Total Stops)')

plt.tight_layout()
plt.show()

            </pre>
            </div>
                    <div class="zscore-placeholder" onclick="expandChart(this)">
                    <img src="2015/Images/pitstopperf.png" alt="Australian Grand Prix 2015 Position Chart">
                </div>
                <br><small>This pit stop analysis reveals critical operational differences between Formula 1 constructors in 2015, highlighting how pit lane performance became a significant competitive differentiator beyond pure car speed and driver skill.</small>
                <h4><strong>Speed vs. Consistency Trade-offs</strong></h4>
                <p><strong>Speed-Focused Approach:</strong> Mercedes leads with the fastest average pit stop times (23.80 seconds) while maintaining exceptional consistency (0.325 coefficient). This combination represents operational excellence - achieving both speed and reliability in pit lane execution. Red Bull follows closely with 24.79 seconds, demonstrating their renowned pit crew efficiency.</p>
                <p><strong>Consistency-First Strategy:</strong> Lotus F1 shows the most consistent pit stops (0.087 coefficient) but sacrifices some speed, averaging 26.78 seconds. This conservative approach minimizes the risk of costly errors that could compromise race positions.</p>
                <h4><strong>Performance Hierarchies</strong></h4>
                <p><strong>Elite Operational Teams:</strong> The top tier consists of Mercedes, Red Bull, and Ferrari, all clustering around 24-25 seconds with reasonable consistency. These teams demonstrate the operational maturity expected from championship contenders, where every tenth of a second in the pits can determine race outcomes.</p>
                <p><strong>Midfield Struggles:</strong> Williams through Sauber occupy the middle ground (25.1-25.8 seconds), showing adequate but not exceptional pit performance. Their consistency metrics vary significantly, suggesting differing approaches to risk management during pit windows.</p>
                <p><strong>Backmarker Challenges:</strong> Manor Marussia's 26.78-second average reflects resource constraints typical of smaller teams, though their consistency isn't dramatically worse than some midfield competitors.</p>
                <h4><strong>Distribution Analysis and Outliers</strong></h4>
                <p><strong> Mercedes' High Performance:</strong> Tight distribution with few outliers demonstrates systematic operational control and training effectiveness.</p>
                <p><strong>High-Variance Teams:</strong></p>
                <ul>
                    <li>Equipment failures during pit stops</li>
                    <li>Procedural errors requiring corrections</li>
                    <li>Strategic calls for extended pit work (wing adjustments, repairs)</li>
                </ul>
                <h4><strong>Strategic Implications</strong></h4>
                <p>The Strategy vs. Speed Matrix (bottom-right) reveals each team's operational DNA.</p>
                <ul>
                    <li><strong>Mercedes (High Speed, Low Frequency):</strong> Efficient operations with conservative strategic calls</li>
                    <li><strong>Lotus F1 (High Frequency, Moderate Speed):</strong> Aggressive strategic approach potentially compensating for car performance limitations</li>
                    <li><strong>Manor Marussia (High Frequency, Slow Speed):</strong> Resource constraints forcing frequent stops and longer service times</li>
                </ul>
                <p><strong>Competitive Advantages:</strong> Teams like Mercedes and Red Bull demonstrate how operational excellence compounds competitive advantages. A 2-3 second pit stop advantage multiplied across 2-3 stops per race can easily determine podium positions in closely contested championships.</p>
                <h4><strong>Operational Philosophy Insights</strong></h4>                
                <p>The data suggests successful teams optimize for consistency first, then speed. Mercedes' combination of fast times with low variability indicates systematic training, quality equipment, and procedural discipline. In contrast, teams showing high speed but poor consistency likely suffer from pressure-induced errors or inadequate preparation.</p>
                <h4><strong>Resource Allocation Effects</strong></h4>
                <p>The clear correlation between team budget/resources and pit performance reflects F1's technical nature extending beyond the car itself. Elite teams invest heavily in pit crew training, equipment, and practice facilities, creating competitive advantages that extend throughout the race weekend.
This analysis demonstrates that in Formula 1's marginal gains environment, pit stop performance represents a crucial battleground where operational excellence can overcome pure car performance deficits, making it an essential component of championship-winning organizations.</p>

                <h3>Team Championship Dynamics</h3>
<button class="code-btn" onclick="toggleCodeSection('champdy')">Show Python Code</button>
        <div id="champdy" class="code-section">
            <div class="code-header">
                <span>Python Code for Constructors Standings</span>
                <button class="copy-btn" onclick="copyCode('champdy')">Copy</button>
            </div>
            <pre>
def convert_duration(duration_str):
    try:
        if pd.isna(duration_str) or duration_str == '\\N':
            return np.nan
        duration_str = str(duration_str)
        if ':' in duration_str:
            parts = duration_str.split(':')
            return float(parts[0]) * 60 + float(parts[1])
        return float(duration_str)
    except:
        return np.nan

pit_stops_2015['duration_seconds'] = pit_stops_2015['duration'].apply(convert_duration)
pit_stops_2015 = pit_stops_2015[(pit_stops_2015['duration_seconds'] >= 1) & 
                                (pit_stops_2015['duration_seconds'] <= 60)]
pit_analysis = pit_stops_2015.merge(results_2015[['raceId', 'driverId', 'constructorId']], 
                                   on=['raceId', 'driverId'])
pit_analysis = pit_analysis.merge(constructors[['constructorId', 'name']], on='constructorId')

pit_efficiency = pit_analysis.groupby(['constructorId', 'name']).agg({
    'duration_seconds': ['mean', 'std', 'count'],
    'stop': 'mean'}).round(3)

pit_efficiency.columns = ['_'.join(col) for col in pit_efficiency.columns]
pit_efficiency = pit_efficiency.reset_index()
if len(pit_efficiency) > 0:
    min_time = pit_efficiency['duration_seconds_mean'].min()
    max_time = pit_efficiency['duration_seconds_mean'].max()
    pit_efficiency['pit_stop_efficiency'] = ((max_time - pit_efficiency['duration_seconds_mean']) / 
                                            (max_time - min_time)) * 100
else:
    pit_efficiency['pit_stop_efficiency'] = 0

if len(pit_analysis) > 0:
    strategy_analysis = pit_analysis.groupby(['name', 'raceId', 'driverId']).agg({
        'stop': 'max',
        'lap': ['mean', 'std']}).reset_index()

    strategy_analysis.columns = ['name', 'raceId', 'driverId', 'total_stops', 'avg_pit_lap', 'pit_timing_std']
    strategy_summary = strategy_analysis.groupby('name').agg({
        'total_stops': ['mean', 'std'],
        'avg_pit_lap': 'mean',
        'pit_timing_std': 'mean'}).round(3)
    strategy_summary.columns = ['total_stops_mean', 'total_stops_std', 'avg_pit_lap_mean', 'pit_timing_std_mean']
    strategy_summary = strategy_summary.reset_index()
    strategy_summary['strategy_consistency'] = 1 / (1 + strategy_summary['total_stops_std'].fillna(1))
    strategy_summary['timing_efficiency'] = 1 / (1 + strategy_summary['pit_timing_std_mean'].fillna(1))
    strategy_summary['strategy_efficiency'] = ((strategy_summary['strategy_consistency'] + 
                                             strategy_summary['timing_efficiency']) / 2) * 100
else:
    strategy_summary = pd.DataFrame(columns=['name', 'strategy_efficiency'])

comprehensive_efficiency = constructor_metrics.merge(
    pit_efficiency[['name', 'pit_stop_efficiency']], on='name', how='left').merge(strategy_summary[['name', 'strategy_efficiency']], on='name', how='left')
comprehensive_efficiency['pit_stop_efficiency'] = comprehensive_efficiency['pit_stop_efficiency'].fillna(0)
comprehensive_efficiency['strategy_efficiency'] = comprehensive_efficiency['strategy_efficiency'].fillna(0)
comprehensive_efficiency = comprehensive_efficiency.sort_values('overall_efficiency', ascending=False)

cluster_features = ['overall_efficiency', 'pit_stop_efficiency', 'strategy_efficiency', 'reliability_efficiency']
cluster_data = comprehensive_efficiency[cluster_features].fillna(0)

scaler = StandardScaler()
scaled_features = scaler.fit_transform(cluster_data)
kmeans = KMeans(n_clusters=3, random_state=42)
comprehensive_efficiency['cluster'] = kmeans.fit_predict(scaled_features)
cluster_names = {0: 'Development Teams', 1: 'Mid-tier Teams', 2: 'Operational Leaders'}
comprehensive_efficiency['cluster_name'] = comprehensive_efficiency['cluster'].map(cluster_names)

fig = plt.figure(figsize=(18, 12))
fig.suptitle('2015 F1 - Advanced Statistics & Efficiency Analysis', fontsize=20, fontweight='bold', y=0.98)

# 1. Overall Operational Efficiency
plt.subplot(2, 3, 1)
top_10 = comprehensive_efficiency.head(10)
bars = plt.bar(range(len(top_10)), top_10['overall_efficiency'])

plt.title('Overall Operational Efficiency', fontsize=14, fontweight='bold')
plt.ylabel('Efficiency Score')
plt.xlabel('Constructor Rank')
plt.xticks(range(len(top_10)), [name.replace(' ', '\n') for name in top_10['name']], 
          rotation=45, ha='right', fontsize=10)
plt.ylim(0, 110)
plt.grid(True, alpha = 0.3)

for bar, score in zip(bars, top_10['overall_efficiency']):
   plt.text(bar.get_x() + bar.get_width()/2, bar.get_height() + 1, 
            f'{score:.0f}', ha='center', va='bottom', fontweight='bold')

# 2. Efficiency Components - Top 6 Teams
plt.subplot(2, 3, 2)
top_6 = comprehensive_efficiency.head(6)
x = np.arange(len(top_6))
width = 0.25

bars1 = plt.bar(x - width, top_6['pit_stop_efficiency'], width, label='Pit Stop')
bars2 = plt.bar(x, top_6['reliability_efficiency'], width, label='Operations')
bars3 = plt.bar(x + width, top_6['strategy_efficiency'], width, label='Strategy')

plt.title('Efficiency Components - Top 6 Teams', fontsize=14, fontweight='bold')
plt.ylabel('Efficiency Score')
plt.xlabel('Constructor')
plt.xticks(x, [name.replace(' ', '\n') for name in top_6['name']], fontsize=10)
plt.legend()
plt.ylim(0, 110)
plt.grid(True, alpha = 0.3)

# 3. Operational Clusters
plt.subplot(2, 3, 3)
for cluster_name in comprehensive_efficiency['cluster_name'].unique():
   cluster_data = comprehensive_efficiency[comprehensive_efficiency['cluster_name'] == cluster_name]
   plt.scatter(cluster_data['overall_efficiency'], cluster_data['strategy_efficiency'], 
              s=100, label=cluster_name)

   for _, row in cluster_data.iterrows():
       plt.annotate(row['name'], 
                   (row['overall_efficiency'], row['strategy_efficiency']),
                   xytext=(5, 5), textcoords='offset points', fontsize=8)

plt.title('Operational Clusters', fontsize=14, fontweight='bold')
plt.xlabel('Operations Efficiency')
plt.ylabel('Strategy Efficiency')
plt.legend()
plt.grid(True, alpha = 0.3)

# 4. Operational Efficiency vs Championship Success
plt.subplot(2, 3, 4)
plt.scatter(comprehensive_efficiency['overall_efficiency'], comprehensive_efficiency['points_sum'], s=100)
z = np.polyfit(comprehensive_efficiency['overall_efficiency'], comprehensive_efficiency['points_sum'], 1)
p = np.poly1d(z)
x_trend = np.linspace(comprehensive_efficiency['overall_efficiency'].min(), 
                    comprehensive_efficiency['overall_efficiency'].max(), 100)
plt.plot(x_trend, p(x_trend), "r--", linewidth=2)

for _, row in comprehensive_efficiency.iterrows():
   plt.annotate(row['name'], (row['overall_efficiency'], row['points_sum']),
               xytext=(5, 5), textcoords='offset points', fontsize=9)

plt.title('Operational Efficiency vs Championship Success', fontsize=14, fontweight='bold')
plt.xlabel('Overall Efficiency Score')
plt.ylabel('Championship Points')
plt.grid(True, alpha = 0.3)

# 5. Efficiency Metrics Correlation Matrix
plt.subplot(2, 3, 5)
corr_metrics = ['pit_stop_efficiency', 'reliability_efficiency', 'strategy_efficiency', 'points_sum']
available_metrics = [col for col in corr_metrics if col in comprehensive_efficiency.columns]
correlation_matrix = comprehensive_efficiency[available_metrics].corr()

im = plt.imshow(correlation_matrix, cmap='RdBu_r', vmin=-1, vmax=1)
plt.colorbar(im, shrink=0.8)

for i in range(len(available_metrics)):
   for j in range(len(available_metrics)):
       plt.text(j, i, f'{correlation_matrix.iloc[i, j]:.2f}', 
               ha='center', va='center', fontweight='bold')

plt.title('Efficiency Metrics Correlation Matrix', fontsize=14, fontweight='bold')
metric_labels = ['Pit\nEfficiency', 'Operations\nEfficiency', 'Strategy\nEfficiency', 'Championship\nPoints']
plt.xticks(range(len(available_metrics)), metric_labels[:len(available_metrics)], fontsize=9)
plt.yticks(range(len(available_metrics)), metric_labels[:len(available_metrics)], fontsize=9)

# 6. Pit Excellence vs Success
plt.subplot(2, 3, 6)
sizes = comprehensive_efficiency['reliability_efficiency'] * 3 + 50

plt.scatter(comprehensive_efficiency['pit_stop_efficiency'], 
          comprehensive_efficiency['points_sum'], s=sizes)

significant_teams = comprehensive_efficiency[comprehensive_efficiency['points_sum'] > 30]
for _, row in significant_teams.iterrows():
   plt.annotate(row['name'], (row['pit_stop_efficiency'], row['points_sum']),
               xytext=(5, 5), textcoords='offset points', fontsize=9)

plt.title('Pit Excellence vs Success (Size = Operations)', fontsize=14, fontweight='bold')
plt.xlabel('Pit Stop Efficiency Score')
plt.ylabel('Championship Points')
plt.grid(True, alpha = 0.3)

plt.tight_layout()
plt.subplots_adjust(top=0.93, hspace=0.3, wspace=0.3)
plt.show()
            </pre>
            </div>
                <div class="zscore-placeholder" onclick="expandChart(this)">
                    <img src="2015/Images/teamadvancedstats.png" alt="Australian Grand Prix 2015 Position Chart">
                </div>
                <br><small>This advanced statistical analysis reveals sophisticated operational dynamics in F1 2015, providing deep insights into team performance hierarchies and strategic efficiency patterns.</small>
                <h4><strong>Comprehensive Operational Excellence Assessment</strong></h4>
                <p><strong>Mercedes' Statistical Dominance:</strong> Mercedes' 97% overall operational efficiency represents more than just superior performance, it demonstrates systematic organizational excellence. Their perfect 100% pit stop efficiency, combined with 95% operations efficiency, creates a multiplicative advantage. In F1, where races are won by margins of seconds, this operational superiority translates directly into championship dominance. The gap between Mercedes (97%) and Ferrari (73%) represents a 24-point efficiency differential, equivalent to multiple race victories over a season.</p>
                <h4><strong>Multi-Dimensional Performance Analysis</strong></h4>
                <p>Compotent Efficiency Breakdown:</p>
                <ul>
                    <li><strong>Mercedes:</strong> Their component profile (100% pit, 95% operations, 28% strategy) suggests a "perfect execution" approach where flawless operational delivery compensates for conventional strategic thinking. This indicates that when you have the fastest car and perfect execution, complex strategies become unnecessary.</li>
                    <li><strong>Ferrari vs. Williams:</strong> Both show ~85% operations efficiency but different pit stop capabilities. Ferrari's stronger pit performance (55% vs Williams' 52%) may reflect their greater investment in pit crew training and equipment, historically a Ferrari strength.</li>
                    <li><strong>Red Bull Performance:</strong> Their more uniform distribution across components (68% pit, 85% operations, 28% strategy) reflects their historically strong operational culture, even during a less competitive car performance period.</li>
                </ul>
                <h4><strong>Advanced Clustering Analysis</strong></h4>
                <ul>
                    <li><strong>Operational Leader (Mercedes):</strong> Isolated in high-efficiency, high-strategy space, representing the pinnacle of F1 operational excellence</li>
                    <li><strong>Development Teams (Ferrari, Force India, Red Bull, Williams): </strong>Clustered around 50-70% operations efficiency and 27-30% strategy efficiency, showing similar operational maturity but varying execution quality</li>
                    <li><strong>Mid-tier Teams (Toro Rosso, McLaren, Sauber, Lotus F1, Manor Marussia):</strong> Lower operational efficiency (30-45%) with similar strategic limitations, indicating resource constraints affect both execution and strategic sophistication</li>
                </ul>
                
                <h4><strong>Correlation Matrix Deep Dive</strong></h4>
                <ul>
                    <li><strong>Pit Efficiency & Championship Points (0.67): </strong>Strong positive correlation indicates that pit stop excellence directly translates to championship success, validating the "races are won and lost in the pits" axiom</li>
                    <li><strong>Operations Efficiency & Championship Points (0.55):</strong> Moderate correlation suggests that while operational excellence matters, it's not the sole determinant, car performance remains crucial</li>
                    <li><strong>Strategy Efficiency & Championship Points (0.04):</strong> Near-zero correlation is particularly revealing, suggesting that in 2015, strategic innovation had minimal impact compared to operational execution and car performance</li>
                    <li><strong>Pit Efficiency & Strategy Efficiency (-0.33):</strong> This negative correlation suggests teams with superior pit performance may rely less on complex strategies, supporting the "execute perfectly rather than strategize creatively" approach</li>
                </ul>

                <h4><strong>Championship Success Predictive Model</strong></h4>
                <p><strong>Linear Relationship Analysis:</strong> The operational efficiency vs championship success scatter plot shows a remarkably strong linear relationship (R² ≈ 0.85 based on the trendline).</p>
                <ul>
                    <li><strong>Mercedes as Outlier:</strong> While following the trend, Mercedes sits above the line, indicating they extracted even more championship value from their operational efficiency than the model predicts</li>
                    <li><strong>Ferrari Position:</strong> Exactly on the trendline, suggesting their championship points perfectly matched their operational efficiency</li>
                    <li><strong>Williams Above Trend:</strong> Performing slightly better than their operational efficiency suggests, indicating either superior car performance or strategic execution in specific situations</li>
                    <li><strong>Red Bull Below Trend: </strong>Underperforming relative to their operational efficiency, possibly due to car performance limitations or reliability issues</li>
                </ul>

                <h4><strong>Strategic Implications and Competitive Dynamics</strong></h4>
                <p>The data reveals critical resource allocation insights for F1 teams, indicating that pit stop excellence represents the highest ROI investment given its strong 0.67 correlation with championship success, while operations efficiency provides moderate returns but serves as a foundational requirement for competitiveness, and strategic innovation showed surprisingly low ROI in 2015, suggesting teams should prioritize flawless execution over creative tactical approaches. Mercedes' dominance exemplifies how creating multiple operational advantages generates compounding competitive moats—their perfect pit stops eliminate strategic pressure by maintaining track position regardless of timing, their superior operations efficiency reduces race-day risks and eliminates unforced errors, and the combined effect creates powerful psychological advantages over competitors who must attempt riskier strategies to compensate for operational deficiencies, ultimately establishing a virtuous cycle where operational excellence enables further competitive advantages.</p>
                <h4><strong>Development Team Dynamics</strong></h4>
                <p>The clustering of Ferrari, Williams, Red Bull, and Force India around 50-70% operational efficiency suggests a natural performance ceiling for teams without Mercedes' resource advantages or organizational culture.
This analysis demonstrates that in F1 2015, operational excellence, particularly pit stop performance, was the primary differentiator between championship contenders and the field, with strategic innovation playing a surprisingly minimal role in determining success.</p>
                
<button class="code-btn" onclick="toggleCodeSection('operationperf')">Show Python Code</button>
        <div id="operationperf" class="code-section">
            <div class="code-header">
                <span>Python Code for Constructors Standings</span>
                <button class="copy-btn" onclick="copyCode('operationperf')">Copy</button>
            </div>
            <pre>
comprehensive_analysis = constructor_performance.merge(
    strategy_summary, left_on='name_constructor', right_on='name', how='left'
).merge(
    quali_operations[['constructorId', 'qualifying_operational_efficiency']], 
    on='constructorId', how='left'
).merge(
    utilization_summary[['constructorId', 'operational_reliability']], 
    on='constructorId', how='left'
)

numeric_cols = comprehensive_analysis.select_dtypes(include=[np.number]).columns
comprehensive_analysis[numeric_cols] = comprehensive_analysis[numeric_cols].fillna(
    comprehensive_analysis[numeric_cols].median())
comprehensive_analysis['championship_points_threshold'] = comprehensive_analysis['points_sum'] >= 10  # Meaningful points threshold
comprehensive_analysis['top_6_finish_rate'] = np.where(
    comprehensive_analysis['position_numeric_mean'].notna(),
    (comprehensive_analysis['position_numeric_mean'] <= 6).astype(float),
    0)
leader_avg_position = comprehensive_analysis['position_numeric_mean'].min()
comprehensive_analysis['pace_relative_to_leader'] = np.where(
    comprehensive_analysis['position_numeric_mean'].notna(),
    1 / (1 + (comprehensive_analysis['position_numeric_mean'] - leader_avg_position)),
    0)
def assign_performance_tier(points_sum):
    if points_sum >= 100: 
        return 'Top 4'
    elif points_sum >= 20: 
        return 'midfield'
    else: 
        return 'backmarker'

comprehensive_analysis['performance_tier'] = comprehensive_analysis['points_sum'].apply(assign_performance_tier)
weights = {
    'points_per_race': 0.40, 
    'pace_relative_to_leader': 0.20,
    'championship_points_threshold': 0.10, 
    'top_6_finish_rate': 0.10, 
    'reliability_rate': 0.08,
    'performance_consistency': 0.05,
    'qualifying_operational_efficiency': 0.04, 
    'strategy_consistency': 0.02, 
    'operational_reliability': 0.01 
}
tier_sensitive_metrics = ['performance_consistency', 'strategy_consistency', 'reliability_rate']
championship_metrics = ['points_per_race', 'pace_relative_to_leader', 'top_6_finish_rate']

for metric in championship_metrics:
    if metric in comprehensive_analysis.columns:
        min_val = comprehensive_analysis[metric].min()
        max_val = comprehensive_analysis[metric].max()
        if max_val > min_val:
            comprehensive_analysis[f'{metric}_normalized'] = (
                comprehensive_analysis[metric] - min_val
            ) / (max_val - min_val)
        else:
            comprehensive_analysis[f'{metric}_normalized'] = 0

for metric in tier_sensitive_metrics:
    if metric in comprehensive_analysis.columns:
        comprehensive_analysis[f'{metric}_normalized'] = 0
        for tier in ['top 4', 'midfield', 'backmarker']:
            tier_data = comprehensive_analysis[comprehensive_analysis['performance_tier'] == tier]
            if len(tier_data) > 0:
                min_val = tier_data[metric].min()
                max_val = tier_data[metric].max()
                if max_val > min_val:
                    mask = comprehensive_analysis['performance_tier'] == tier
                    comprehensive_analysis.loc[mask, f'{metric}_normalized'] = (
                        tier_data[metric] - min_val
                    ) / (max_val - min_val)
                else:
                    mask = comprehensive_analysis['performance_tier'] == tier
                    comprehensive_analysis.loc[mask, f'{metric}_normalized'] = 0.5
for metric in ['championship_points_threshold']:
    if metric in comprehensive_analysis.columns:
        comprehensive_analysis[f'{metric}_normalized'] = comprehensive_analysis[metric].astype(float)

comprehensive_analysis['team_efficiency_score'] = sum([
    comprehensive_analysis.get(f'{metric}_normalized', 0) * weight 
    for metric, weight in weights.items()])

comprehensive_analysis['championship_weighted_score'] = (
    comprehensive_analysis['points_per_race'] * 0.6 +
    comprehensive_analysis['pace_relative_to_leader'] * 0.4
)
correlation_metrics = [
    'points_per_race', 'reliability_rate', 'performance_consistency',
    'qualifying_efficiency', 'race_efficiency', 'position_improvement',
    'strategy_consistency', 'pit_efficiency', 'operational_reliability'
]

available_metrics = [col for col in correlation_metrics if col in comprehensive_analysis.columns]
correlation_matrix = comprehensive_analysis[available_metrics].corr()

active_constructors = comprehensive_analysis[comprehensive_analysis['raceId_count'] >= 10]
if len(active_constructors) >= 3:
    scaler = StandardScaler()
    scaled_features = scaler.fit_transform(active_constructors[available_metrics])
    pca = PCA(n_components=min(3, len(available_metrics)))
    pca_features = pca.fit_transform(scaled_features)
    
    for i in range(pca.n_components_):
        active_constructors[f'PC{i+1}'] = pca_features[:, i]
    n_clusters = min(3, len(active_constructors))
    kmeans = KMeans(n_clusters=n_clusters, random_state=42)
    active_constructors['cluster'] = kmeans.fit_predict(scaled_features)

print(f"Creating feature importance analysis...")
print(f"Comprehensive analysis shape: {comprehensive_analysis.shape}")
print(f"Available columns: {list(comprehensive_analysis.columns)}")

core_features = ['reliability_rate', 'position_numeric_mean', 'grid_mean', 'points_count']
feature_cols = [col for col in core_features if col in comprehensive_analysis.columns]

print(f"Selected features: {feature_cols}")

if len(feature_cols) >= 2 and len(comprehensive_analysis) >= 3:
    try:
        X = comprehensive_analysis[feature_cols].fillna(0)
        y = comprehensive_analysis['points_per_race'].fillna(0)
        
        print(f"X shape: {X.shape}, y shape: {y.shape}")
        rf_model = RandomForestRegressor(n_estimators=50, random_state=42)
        rf_model.fit(X, y)
        feature_importance = pd.DataFrame({
            'feature': feature_cols,
            'importance': rf_model.feature_importances_
        }).sort_values('importance', ascending=False)
        
        print(feature_importance)
        
    except Exception as e:
        feature_importance = None
else:
    feature_importance = None
fig = plt.figure(figsize=(18, 12))

# 1. Tier-Based Performance Analysis
plt.subplot(2, 3, 1)
tier_performance = comprehensive_analysis.groupby('performance_tier').agg({
 'points_per_race': 'mean',
 'reliability_rate': 'mean',
 'championship_weighted_score': 'mean'
}).round(3)

x = np.arange(len(tier_performance.index))
width = 0.25

bars1 = plt.bar(x - width, tier_performance['points_per_race'], width, label='Points/Race', color='#2E8B57')
bars2 = plt.bar(x, tier_performance['reliability_rate'], width, label='Reliability', color='#4682B4')
bars3 = plt.bar(x + width, tier_performance['championship_weighted_score'], width, label='Championship Score', color='#CD5C5C')

plt.xlabel('Performance Tier', fontsize=12)
plt.ylabel('Average Score', fontsize=12)
plt.title('Performance Metrics by Championship Tier', fontsize=16, fontweight='bold')
plt.xticks(x, tier_performance.index.str.title(), fontsize=11)
plt.yticks(fontsize=11)
plt.legend(fontsize=11)
plt.grid(True, alpha=0.3)

# 2. Feature Importance Analysis
plt.subplot(2, 3, 2)
backup_metrics = ['reliability_rate', 'position_numeric_mean', 'grid_mean', 'performance_consistency']
metric_display_names = ['Reliability', 'Avg Position', 'Avg Grid', 'Consistency']
correlations = []

for i, metric in enumerate(backup_metrics):
    if metric in comprehensive_analysis.columns:
        corr = abs(comprehensive_analysis[metric].corr(comprehensive_analysis['points_per_race']))
    if not pd.isna(corr):
        correlations.append({'metric': metric_display_names[i], 'correlation': corr})

if correlations:
    corr_df = pd.DataFrame(correlations).sort_values('correlation', ascending=False)
bars = plt.barh(range(len(corr_df)), corr_df['correlation'], color='#FF6B35')
plt.yticks(range(len(corr_df)), corr_df['metric'], fontsize=11)
plt.xlabel('Absolute Correlation with Points/Race', fontsize=12)
plt.title('Key Performance Predictors', fontsize=16, fontweight='bold')
plt.grid(True, alpha=0.3)

for i, (bar, corr) in enumerate(zip(bars, corr_df['correlation'])):
    plt.text(bar.get_width() + 0.01, bar.get_y() + bar.get_height()/2, 
             f'{corr:.3f}', ha='left', va='center', fontsize=10, fontweight='bold')

# 3. Operational Efficiency Breakdown
plt.subplot(2, 3, 3)
if len(active_constructors) > 0:
 metrics_for_radar = ['reliability_rate', 'performance_consistency', 
                     'qualifying_efficiency', 'race_efficiency']
 available_radar_metrics = [col for col in metrics_for_radar if col in active_constructors.columns]
 
 if len(available_radar_metrics) >= 3:
     top_3_teams = active_constructors.head(3)
     angles = np.linspace(0, 2*np.pi, len(available_radar_metrics), endpoint=False).tolist()
     angles += angles[:1]
     
     ax = plt.subplot(2, 3, 3, projection='polar')
     colors = ['#FF6B6B', '#4ECDC4', '#45B7D1']
     for i, (_, team) in enumerate(top_3_teams.iterrows()):
         values = [team[metric] for metric in available_radar_metrics]
         values += values[:1]
         
         ax.plot(angles, values, linewidth=1, label=team['name_constructor'], color=colors[i], markersize=8)
         ax.fill(angles, values, alpha=0.25, color=colors[i])
     
     clean_radar_labels = [label.replace('_', ' ').title() for label in available_radar_metrics]
     ax.set_thetagrids(np.degrees(angles[:-1]), clean_radar_labels, fontsize=10)
     plt.title('Top 3 Teams - Operational Efficiency', fontsize=16, fontweight='bold', pad=20)
     plt.legend(loc='upper right', bbox_to_anchor=(1.3, 1.0), fontsize=11)

# 4. Pit Stop Performance Distribution
plt.subplot(2, 3, 4)
if not strategy_summary.empty:
 pit_data_clean = strategy_summary.dropna(subset=['duration_seconds_mean'])
 plt.hist(pit_data_clean['duration_seconds_mean'], bins=10, color='#87CEEB', edgecolor='black', alpha=0.7)
 plt.axvline(pit_data_clean['duration_seconds_mean'].mean(), color='red', linestyle='--', linewidth=3,
             label=f'Mean: {pit_data_clean["duration_seconds_mean"].mean():.2f}s')
 plt.xlabel('Average Pit Stop Duration (seconds)', fontsize=12)
 plt.ylabel('Number of Constructors', fontsize=12)
 plt.title('Pit Stop Performance', fontsize=16, fontweight='bold')
 plt.xticks(fontsize=11)
 plt.yticks(fontsize=11)
 plt.legend(fontsize=11)
 plt.grid(True, alpha=0.3)

# 5. Principal Component Analysis
plt.subplot(2, 3, 5)
if len(active_constructors) >= 3 and 'PC1' in active_constructors.columns:
 cluster_colors = ['#E74C3C', '#3498DB', '#2ECC71']
 for cluster in range(n_clusters):
     cluster_data = active_constructors[active_constructors['cluster'] == cluster]
     plt.scatter(cluster_data['PC1'], cluster_data['PC2'], 
                label=f'Cluster {cluster+1}', s=120, color=cluster_colors[cluster], alpha=0.7)
 
 for _, row in active_constructors.iterrows():
     plt.annotate(row['name_constructor'][:8], (row['PC1'], row['PC2']),
                 xytext=(5, 5), textcoords='offset points', fontsize=10)
 
 plt.xlabel(f'PC1 ({pca.explained_variance_ratio_[0]:.1%} variance)', fontsize=12)
 plt.ylabel(f'PC2 ({pca.explained_variance_ratio_[1]:.1%} variance)', fontsize=12)
 plt.title('Constructor Performance Clustering (PCA)', fontsize=16, fontweight='bold')
 plt.xticks(fontsize=11)
 plt.yticks(fontsize=11)
 plt.legend(fontsize=11)
 plt.grid(True, alpha=0.3)

# 6. Position Improvement Analysis
plt.subplot(2, 3, 6)
improvement_data = comprehensive_analysis.dropna(subset=['position_improvement'])
colors = ['#E74C3C' if x < 0 else '#27AE60' for x in improvement_data['position_improvement']]
bars = plt.barh(range(len(improvement_data)), improvement_data['position_improvement'], color=colors)
clean_constructor_names = [name.replace('_', ' ') for name in improvement_data['name_constructor']]
plt.yticks(range(len(improvement_data)), clean_constructor_names, fontsize=10)
plt.xlabel('Average Position Improvement (Grid to Finish)', fontsize=12)
plt.title('Race Performance vs Qualifying', fontsize=16, fontweight='bold')
plt.xticks(fontsize=11)
plt.axvline(x=0, color='black', linestyle='-', linewidth=1)
plt.grid(True, alpha=0.3)

plt.tight_layout()
plt.show()
            </pre>
            </div>
<div class="zscore-placeholder" onclick="expandChart(this)">
                    <img src="2015/Images/teamperformancegraphs.png" alt="Australian Grand Prix 2015 Position Chart">
                </div>
                <br><small>This comprehensive F1 2015 performance analysis reveals sophisticated patterns in championship dynamics, operational excellence, and strategic execution that illuminate the fundamental drivers of success in Formula 1.</small>
                <h4><strong>Championship Tier Stratification and Performance Metrics</strong></h4>  
                <ul>
                    <li><strong>Hierarchical Performance Structure:</strong> The championship tier analysis demonstrates F1's stark competitive stratification. The Top 4 teams average 9.5 points per race with exceptional reliability scores approaching 0.8, while backmarkers struggle at 0.8 points per race with significantly compromised reliability around 0.9. This represents more than a 10x performance differential in scoring rate.</li>
                    <li><strong>Championship Score Dynamics:</strong> The championship score metric (combining points, consistency, and reliability) shows the Top 4 achieving ~5.5 compared to midfield teams at ~1.0. This suggests that championship success requires simultaneous excellence across multiple dimensions rather than strength in any single area. The gap between tiers indicates that incremental improvements aren't sufficient, teams need systematic operational transformation to move between competitive levels.</li>
                    <li><strong>Reliability Effect:</strong> The reliability differential between tiers (0.8 vs 0.9) might appear modest, but in F1's high-stakes environment, this 10% difference compounds across a season. With 20 races, this translates to 2 additional DNFs for lower-tier teams, potentially representing 25-50 lost championship points, equivalent to 2-5 race victories.</li>
                </ul>
                <h4><strong>Perdictive Performance Analytics</strong></h4>
                <ul>
                    <li><strong>Grid Position Supremacy:</strong> The 0.912 correlation between average grid position and points per race represents one of the strongest predictive relationships in motorsport analytics. This correlation is stronger than typical sports performance predictors, indicating that qualifying performance in F1 is more deterministic of race outcomes than equivalent metrics in other competitive domains.</li>
                    <li><strong>Position Management COrrelation:</strong> The 0.903 correlation with average race position reinforces that F1 success depends heavily on consistent front-running performance rather than dramatic comeback drives. This suggests that car performance differential, rather than strategic or tactical execution, remains the primary championship determinant.</li>
                    <li><strong>Reliability Moderate Impact:</strong> The 0.555 correlation for reliability, while significant, indicates that mechanical excellence alone cannot overcome fundamental pace deficits. However, among competitive teams, reliability becomes the decisive factor, explaining why Mercedes' combination of pace and reliability created such dominance.</li>
                    <li><strong>Consistency:</strong> The remarkably low 0.091 correlation for consistency reveals a counterintuitive insight: lap-to-lap consistency matters far less than peak performance capability. This suggests that F1 rewards teams that can extract maximum performance when it matters (qualifying, key race moments) rather than those delivering steady, predictable pace.</li>
                </ul>
                <h4><strong>Operational Excellence Comparative Analysis</strong></h4>
                <ul>
                    <li><strong>Mercedes' Multidimensional Dominance:</strong> The radar chart reveals Mercedes' operational profile as genuinely exceptional rather than simply fast. Their near-perfect scores across Performance Consistency (0.9), Race Efficiency (0.8), and Reliability Rate (0.9) create a compounding advantage. In statistical terms, Mercedes operates at approximately 2-3 standard deviations above the field mean across multiple operational dimensions.</li>
                    <li><strong>Ferrari Comparison:</strong> Ferrari's more variable radar signature, strong in some areas, weaker in others, suggests a team in transition. Their qualifying efficiency peaks around 0.6 while race efficiency drops to 0.4, indicating either setup compromises for qualifying or strategic execution challenges during races. This profile typically characterizes teams with strong technical capabilities but inconsistent operational delivery.</li>
                    <li><strong>Williams Comparison</strong>Williams shows a distinctive "spiky" profile with exceptional qualifying efficiency (0.7) but weaker race performance (0.3). This pattern suggests a car optimized for single-lap pace but compromised for race conditions, possibly due to tire degradation issues or aerodynamic characteristics that favor clean air running.</li>
                </ul>
                <h4><strong>Pit Stop Performance Distribution Analysis</strong></h4>
<ul>
    <li><strong>Statistical Distribution Insights:</strong> The pit stop histogram reveals a near-normal distribution centered around 53.86 seconds, but with crucial performance outliers. Teams consistently performing below 50 seconds gain significant strategic flexibility, while those above 56 seconds face compound strategic disadvantages.</li>
    <li><strong>Operational Consistency Patterns:</strong> The distribution shows most teams clustering within 2-3 seconds of the mean, but this seemingly small variance translates to massive strategic implications. A 3-second pit stop disadvantage can determine track position, especially at circuits with limited overtaking opportunities.</li>
    <li><strong>Performance Ceiling Effects:</strong> The histogram's left tail truncation around 48 seconds suggests physical/regulatory limits to pit stop speed, while the extended right tail indicates that poor pit performance can degrade significantly due to equipment failures, procedural errors, or training deficits.</li>
</ul>

<h4><strong>Principal Component Analysis of Team Clustering</strong></h4>
<ul>
    <li><strong>Cluster 1 Competitive Dynamics:</strong> The red cluster (Ferrari, Force India, Red Bull, Williams, Toro Rosso) represents the "established competitive tier"—teams with strong operational foundations but lacking Mercedes' systematic excellence. Their tight clustering in PCA space indicates similar operational maturity levels despite different championship positions.</li>
    <li><strong>Cluster 2 Developmental Challenges:</strong> The blue cluster (Manor Marussia, Sauber, McLaren, Lotus F1) occupies a distinct performance space characterized by systematic operational challenges. McLaren's presence in this cluster, despite their historical success, indicates that even top-tier teams can fall into operational inefficiency cycles due to technical regulation changes or organizational disruption.</li>
    <li><strong>Mercedes as Statistical Outlier:</strong> Mercedes' isolation in green (Cluster 3) reflects their operation at a fundamentally different performance level. In PCA terms, they represent an extreme outlier requiring separate analytical treatment—their performance exists outside normal competitive variance.</li>
    <li><strong>Variance Explanation:</strong> PC1 (54.0% variance) likely captures overall operational capability, while PC2 (18.3% variance) may represent strategic/tactical execution quality. The high PC1 variance indicates that fundamental operational capability explains most inter-team performance differences.</li>
</ul>

<h4><strong>Strategic Execution vs Qualifying Performance Analysis</strong></h4>
<ul>
    <li><strong>Overperformance Analysis:</strong> Manor Marussia's exceptional position improvement (+4.5) suggests either superior race strategy, better tire management, or opportunistic tactics during safety car periods. For backmarker teams, race-day execution becomes crucial for points-scoring opportunities.</li>
    <li><strong>McLaren's Race Craft:</strong> McLaren's significant positive improvement (+3.8) indicates strong race-day execution despite qualifying struggles, suggesting their operational challenges were primarily single-lap focused rather than race-pace related.</li>
    <li><strong>Mercedes' Negative Improvement:</strong> Mercedes' slight position loss (-0.5) reflects the mathematical ceiling effect of starting from pole position—they cannot improve grid position but can lose track position through strategic choices or rare execution errors.</li>
    <li><strong>Williams' Strategic Challenge:</strong> Williams' minimal negative improvement (-0.2) combined with their qualifying strength suggests missed strategic opportunities or tire management challenges that prevented them from maximizing race-day potential.</li>
</ul>

<h4><strong>Advanced Competitive Intelligence</strong></h4>
<ul>
    <li><strong>Resource Allocation Efficiency:</strong> The data suggests optimal competitive investment strategies differ by championship tier. Top teams benefit most from reliability and qualifying performance improvements, while midfield teams gain more from race execution and strategic innovation.</li>
    <li><strong>Developmental Pathways:</strong> Teams moving between clusters require different improvement focuses: Cluster 2→1 requires fundamental operational capability building, Cluster 1→3 demands systematic excellence across all operational dimensions, while within-cluster improvement focuses on specialized tactical/strategic advantages.</li>
    <li><strong>Competitive Moat Analysis:</strong> Mercedes' 2015 dominance created multiple defensive advantages: their operational excellence reduced strategic pressure, their reliability advantage compounded points accumulation, and their qualifying supremacy provided race control. This created a virtuous cycle where success enabled further success.</li>
    <li><strong>Market Efficiency Implications:</strong> The strong correlations between grid position and race results suggest F1's competitive market is highly efficient—superior car performance translates predictably to championship success, leaving limited room for tactical arbitrage or strategic innovation to overcome fundamental performance gaps.</li>
</ul>


</section>
        <!-- Verstappen Performance -->
        <section id="verstappen" class="section">
            <h2>Verstappen Rookie Performance</h2>
            
            <h3>Monte Carlo Simulation</h3>
            <button class="code-btn" onclick="toggleCodeSection('verstamontecarlo')">Show Python Code</button>
        <div id="verstamontecarlo" class="code-section">
            <div class="code-header">
                <span>Python Code for Constructors Standings</span>
                <button class="copy-btn" onclick="copyCode('verstamontecarlo')">Copy</button>
            </div>
            <pre>
distributions = {}
clean_rookies = rookie_df[
    (rookie_df['total_points'] >= 0) & 
    (rookie_df['avg_position'] <= 20) &
    (rookie_df['races_started'] >= 10) & 
    (rookie_df['rookie_year'] <= 2015)].copy(
metrics_to_model = [
    'total_points', 'avg_position', 'points_per_race', 
    'top_10_finishes', 'finish_rate', 'best_position']

for metric in metrics_to_model:
    data = clean_rookies[metric].dropna()
    if len(data) > 5:
        dist_fits = []
        try:
            params = stats.norm.fit(data)
            ks_stat, p_val = stats.kstest(data, lambda x: stats.norm.cdf(x, *params))
            dist_fits.append(('norm', params, p_val))
        except:
            pass
        if (data > 0).all():
            try:
                params = stats.lognorm.fit(data)
                ks_stat, p_val = stats.kstest(data, lambda x: stats.lognorm.cdf(x, *params))
                dist_fits.append(('lognorm', params, p_val))
            except:
                pass
        if (data > 0).all():
            try:
                params = stats.gamma.fit(data)
                ks_stat, p_val = stats.kstest(data, lambda x: stats.gamma.cdf(x, *params))
                dist_fits.append(('gamma', params, p_val))
            except:
                pass
        if dist_fits:
            best_dist = max(dist_fits, key=lambda x: x[2])  # Highest p-value
            distributions[metric] = {
                'distribution': best_dist[0],
                'params': best_dist[1],
                'p_value': best_dist[2]}
        else:
            distributions[metric] = {
                'distribution': 'empirical',
                'data': data.values}
n_simulations = 10000
simulated_seasons = []

for sim in range(n_simulations):
    season = {}
    for metric, dist_info in distributions.items():
        if dist_info['distribution'] == 'norm':
            value = np.random.normal(*dist_info['params'])
        elif dist_info['distribution'] == 'lognorm':
            value = stats.lognorm.rvs(*dist_info['params'])
        elif dist_info['distribution'] == 'gamma':
            value = stats.gamma.rvs(*dist_info['params'])
        elif dist_info['distribution'] == 'empirical':
            value = np.random.choice(dist_info['data'])
        else:
            value = np.nan
        if metric == 'avg_position':
            value = max(1, min(20, value))
        elif metric == 'best_position':
            value = max(1, min(20, value))
        elif metric == 'finish_rate':
            value = max(0, min(1, value))
        elif metric in ['total_points', 'points_per_race', 'top_10_finishes']:
            value = max(0, value)
        season[metric] = value
    simulated_seasons.append(season)
simulated_rookies = pd.DataFrame(simulated_seasons)

verstappen_percentiles = {}
key_metrics = ['total_points', 'avg_position', 'points_per_race', 'top_10_finishes', 'finish_rate']

for metric in key_metrics:
    if metric in max_data and metric in simulated_rookies.columns:
        max_value = max_data[metric]
        if metric == 'avg_position': 
            percentile = (simulated_rookies[metric] >= max_value).mean() * 100
        else: 
            percentile = (simulated_rookies[metric] <= max_value).mean() * 100
        verstappen_percentiles[metric] = percentile
for metric, percentile in verstappen_percentiles.items():
    metric_name = metric.replace('_', ' ').title()
    print(f"   {metric_name:<20}: {percentile:5.1f}th percentile")
historical_percentiles = {}
for metric in key_metrics:
    if metric in max_data:
        max_value = max_data[metric]
        historical_data = rookie_df[metric].dropna()
        if len(historical_data) > 0:
            if metric == 'avg_position':  
                percentile = (historical_data >= max_value).mean() * 100
            else: 
                percentile = (historical_data <= max_value).mean() * 100
            historical_percentiles[metric] = percentile

fig, axes = plt.subplots(2, 3, figsize=(18, 12))
fig.suptitle('F1 Rookie Performance: Monte Carlo Simulation vs Verstappen vs Historical Rookies', 
             fontsize=18, fontweight='bold', y=0.96)
verstappen_color = '#FF4500' 
simulation_color = '#4682B4' 
historical_color = '#228B22'
historical_rookies_filtered = rookie_df[rookie_df['rookie_year'] <= 2015]

# 1. Total Points Distribution
ax1 = axes[0, 0]
ax1.hist(simulated_rookies['total_points'], bins=25, alpha=0.5, color=simulation_color, 
         label='Monte Carlo Simulation', density=True, edgecolor='black', linewidth=0.5)
ax1.hist(historical_rookies_filtered['total_points'].dropna(), bins=20, alpha=0.5, color=historical_color, 
         label='Historical Rookies', density=True, edgecolor='black', linewidth=0.5)
if 'total_points' in max_data:
    ax1.axvline(max_data['total_points'], color=verstappen_color, linewidth=4, 
                label=f'Verstappen ({max_data["total_points"]:.0f} points)')
ax1.set_xlabel('Total Championship Points', fontsize=12)
ax1.set_ylabel('Probability Density', fontsize=12)
ax1.set_title('Total Points Distribution', fontsize=14, fontweight='bold', pad=15)
ax1.legend(fontsize=10)
ax1.grid(True, alpha=0.3)
ax1.tick_params(axis='both', which='major', labelsize=10)

# 2. Average Position Distribution
ax2 = axes[0, 1]
ax2.hist(simulated_rookies['avg_position'], bins=25, alpha=0.5, color=simulation_color, 
         label='Monte Carlo Simulation', density=True, edgecolor='black', linewidth=0.5)
ax2.hist(historical_rookies_filtered['avg_position'].dropna(), bins=20, alpha=0.5, color=historical_color, 
         label='Historical Rookies', density=True, edgecolor='black', linewidth=0.5)
if 'avg_position' in max_data:
    ax2.axvline(max_data['avg_position'], color=verstappen_color, linewidth=4, 
                label=f'Verstappen (P{max_data["avg_position"]:.1f} avg)')
ax2.set_xlabel('Average Finishing Position', fontsize=12)
ax2.set_ylabel('Probability Density', fontsize=12)
ax2.set_title('Average Position Distribution', fontsize=14, fontweight='bold', pad=15)
ax2.legend(fontsize=10)
ax2.grid(True, alpha=0.3)
ax2.tick_params(axis='both', which='major', labelsize=10)

# 3. Points Per Race
ax3 = axes[0, 2]
ax3.hist(simulated_rookies['points_per_race'], bins=25, alpha=0.5, color=simulation_color, 
         label='Monte Carlo Simulation', density=True, edgecolor='black', linewidth=0.5)
ax3.hist(historical_rookies_filtered['points_per_race'].dropna(), bins=20, alpha=0.5, color=historical_color, 
         label='Historical Rookies', density=True, edgecolor='black', linewidth=0.5)
if 'points_per_race' in max_data:
    ax3.axvline(max_data['points_per_race'], color=verstappen_color, linewidth=4, 
                label=f'Verstappen ({max_data["points_per_race"]:.2f} pts/race)')
ax3.set_xlabel('Points Per Race', fontsize=12)
ax3.set_ylabel('Probability Density', fontsize=12)
ax3.set_title('Points Per Race Distribution', fontsize=14, fontweight='bold', pad=15)
ax3.legend(fontsize=10)
ax3.grid(True, alpha=0.3)
ax3.tick_params(axis='both', which='major', labelsize=10)

# 4. Top 10 Finishes
ax4 = axes[1, 0]
ax4.hist(simulated_rookies['top_10_finishes'], bins=range(0, 21), alpha=0.5, 
         color=simulation_color, label='Monte Carlo Simulation', density=True, edgecolor='black', linewidth=0.5)
ax4.hist(historical_rookies_filtered['top_10_finishes'].dropna(), bins=range(0, 21), alpha=0.5, 
         color=historical_color, label='Historical Rookies', density=True, edgecolor='black', linewidth=0.5)
if 'top_10_finishes' in max_data:
    ax4.axvline(max_data['top_10_finishes'], color=verstappen_color, linewidth=4, 
                label=f'Verstappen ({max_data["top_10_finishes"]:.0f} top-10s)')
ax4.set_xlabel('Number of Top 10 Finishes', fontsize=12)
ax4.set_ylabel('Probability Density', fontsize=12)
ax4.set_title('Top 10 Finishes Distribution', fontsize=14, fontweight='bold', pad=15)
ax4.legend(fontsize=10)
ax4.grid(True, alpha=0.3)
ax4.tick_params(axis='both', which='major', labelsize=10)

# 5. Verstappen Percentile Rankings
ax5 = axes[1, 1]
metrics = list(verstappen_percentiles.keys())
percentiles = list(verstappen_percentiles.values())
metric_labels = [m.replace('_', ' ').title() for m in metrics]

bars = ax5.bar(range(len(metrics)), percentiles, color=verstappen_color, alpha=0.8, 
               edgecolor='black', linewidth=1.5)
ax5.set_xticks(range(len(metrics)))
ax5.set_xticklabels(metric_labels, rotation=45, ha='right', fontsize=11)
ax5.set_ylabel('Percentile Ranking', fontsize=12)
ax5.set_title('Verstappen vs Monte Carlo Simulation\n(Percentile Rankings)', 
              fontsize=14, fontweight='bold', pad=15)
ax5.set_ylim(0, 100)
ax5.axhline(y=90, color='red', linestyle='--', alpha=0.8, linewidth=2, label='90th Percentile')
ax5.axhline(y=95, color='darkred', linestyle='-', alpha=0.8, linewidth=2, label='95th Percentile')
for bar, pct in zip(bars, percentiles):
    height = bar.get_height()
    ax5.text(bar.get_x() + bar.get_width()/2., height + 1.5,
             f'{pct:.1f}%', ha='center', va='bottom', fontweight='bold', fontsize=11)

ax5.legend(fontsize=10)
ax5.grid(True, alpha=0.3)
ax5.tick_params(axis='both', which='major', labelsize=10)

# 6. Simulation Validation
ax6 = axes[1, 2]
historical_points = historical_rookies_filtered['total_points'].dropna().sort_values()
simulated_points = simulated_rookies['total_points'].sort_values()
if len(historical_points) != len(simulated_points):
    min_len = min(len(historical_points), len(simulated_points))
    historical_points = np.interp(np.linspace(0, 1, min_len), 
                                 np.linspace(0, 1, len(historical_points)), historical_points)
    simulated_points = np.interp(np.linspace(0, 1, min_len), 
                                np.linspace(0, 1, len(simulated_points)), simulated_points)

ax6.scatter(historical_points, simulated_points, alpha=0.7, s=30, 
           color=simulation_color, edgecolor='black', linewidth=0.5)
min_val = min(historical_points.min(), simulated_points.min())
max_val = max(historical_points.max(), simulated_points.max())
ax6.plot([min_val, max_val], [min_val, max_val], 'r--', lw=3, alpha=0.8, 
         label='Perfect Correlation')
correlation = np.corrcoef(historical_points, simulated_points)[0, 1]
ax6.text(0.05, 0.95, f'Correlation: {correlation:.3f}', 
         transform=ax6.transAxes, fontsize=11, fontweight='bold',
         bbox=dict(boxstyle='round', facecolor='white', alpha=0.8))

ax6.set_xlabel('Historical Points', fontsize=12)
ax6.set_ylabel('Simulated Points', fontsize=12)
ax6.set_title('Simulation Validation\n(Q-Q Plot)', fontsize=14, fontweight='bold', pad=15)
ax6.legend(fontsize=10)
ax6.grid(True, alpha=0.3)
ax6.tick_params(axis='both', which='major', labelsize=10)

plt.tight_layout(rect=[0, 0.02, 1, 0.94])
plt.subplots_adjust(hspace=0.35, wspace=0.25)
plt.show()
            </pre>
            </div>
            <div class="zscore-placeholder" onclick="expandChart(this)">
                    <img src="2015/Images/maxmontecarlo.png" alt="Australian Grand Prix 2015 Position Chart">
                </div>

            <b><small>This comprehensive visualization presents a sophisticated Monte Carlo simulation analysis of Formula 1 rookie performance, comparing Max Verstappen's actual 2015 rookie season against both simulated projections and historical rookie data. Here's an in-depth analysis of each component:</small></b>
            <h4><strong>Total Points Distribution (Top Left)</strong></h4>
                <p>This histogram reveals the probability distribution of total championship points across different performance scenarios. The historical rookies (green bars) show a heavily right-skewed distribution, with most rookies clustering near zero points and a long tail extending to higher values. This reflects the reality that most F1 rookies struggle to score consistently.
The Monte Carlo simulation (blue bars) displays a similar but slightly more optimistic distribution, suggesting the simulation accounts for improved modern car reliability and performance potential. Verstappen's actual performance (orange vertical line at 49 points) sits well into the upper tail of both distributions, immediately signaling exceptional rookie performance.
The stark contrast between the dense concentration of low-scoring rookies and Verstappen's position demonstrates how statistically unlikely his point total was for a first-year driver.</p>
        
<h4><strong>Average Position Distribution (Top Center)</strong></h4>
        <p>This chart examines finishing positions, where lower numbers indicate better performance. The historical data shows a roughly normal distribution centered around positions 12-13, which aligns with expectations for rookies typically driving midfield or backmarker cars.
Verstappen's average position of 9.8 (orange line) falls significantly to the left of both the historical and simulated distributions, indicating consistently stronger finishing positions. The simulation appears to slightly underestimate the potential for exceptional position-based performance, as evidenced by the gap between Verstappen's line and the simulation's left tail.</p>
       
<h4><strong>Points Per Race Distribution (Top Right)</strong></h4> 
            <p>This metric normalizes performance across different season lengths and race participation. The exponential decay pattern in both historical and simulated data reflects the rarity of high per-race scoring among rookies.
Verstappen's 2.58 points per race creates a dramatic separation from the bulk of the distributions, positioning him in what appears to be less than the 5th percentile of rookie performance expectations. This metric particularly highlights consistency, as it accounts for races where he failed to score while emphasizing his point-scoring achievements.</p>
        
<h4><strong>Top 10 Finishes Distribution (Bottom Left)</strong></h4>
        <p>This chart focuses on a key performance threshold in F1. The historical distribution shows most rookies achieving 0-3 top-10 finishes, with the probability declining sharply for higher counts.
Verstappen's 10 top-10 finishes place him at the extreme right tail of both distributions, representing a performance level achieved by virtually no other rookie in the historical sample. This suggests either exceptional natural talent, superior machinery, or both.</p>
        
<h4><strong>Verstappen vs Monte Carlo Simulation Percentile Rankings (Bottom Center)</strong></h4>
        <p>The 90th and 95th percentile reference lines (dashed red) emphasize how Verstappen exceeded even optimistic projections in most categories.</p>
        <div class="summary-tables">
    <table class="correlation-table">
        <thead>
            <tr><th colspan="2">Verstappen vs. Simulated Rookies</th></tr>
        </thead>
        <tbody>
            <tr><td>Total Points</td><td>98.6th percentile</td></tr>
            <tr><td>Avg Position</td><td>75.5th percentile</td></tr>
            <tr><td>Points Per Race</td><td>97.7th percentile</td></tr>
            <tr><td>Top 10 Finishes</td><td>94.6th percentile</td></tr>
            <tr><td>Finish Rate</td><td>72.4th percentile</td></tr>
        </tbody>
    </table>
    
    <table class="race-table">
        <thead>
            <tr><th colspan="2">Verstappen vs. Past Rookies</th></tr>
        </thead>
        <tbody>
            <tr><td>Total Points</td><td>95.2th percentile</td></tr>
            <tr><td>Avg Position</td><td>84.3th percentile</td></tr>
            <tr><td>Points Per Race</td><td>95.2th percentile</td></tr>
            <tr><td>Top 10 Finishes</td><td>92.8th percentile</td></tr>
            <tr><td>Finish Rate</td><td>62.7th percentile</td></tr>
        </tbody>
    </table>
    </div>
        <ul>
            <li><strong>Total Points (98.6th percentile):</strong> Verstappen outperformed 98.6% of simulated rookie seasons</li>
            <li><strong>Average Position (75.5th percentile):</strong> While excellent, this shows more moderate outperformance</li>
            <li><strong>Points Per Race (97.7th percentile):</strong> Demonstrates exceptional consistency</li>
            <li><strong>Top 10 Finishes (94.6th percentile):</strong> Shows strong race-by-race competitiveness</li>
            <li><strong>Finish Rate (72.4th percentile):</strong> The most modest ranking, suggesting reliability wasn't his strongest advantage</li>
        </ul>
        <h4><strong>Simulation Validation Q-Q Plot (Bottom Right)</strong></h4>
        <p>This quantile-quantile plot tests the simulation's accuracy by comparing its predictions against historical rookie performance. The strong correlation (0.918) and tight adherence to the diagonal line validate the simulation's methodology.
The slight deviation in the upper tail suggests the simulation may slightly underestimate the potential for truly exceptional rookie performances, which makes Verstappen's actual achievement even more remarkable relative to the model's expectations.</p>
<h4><strong>Overall Analysis</strong></h4>
<p>The data reveals that Verstappen's 2015 rookie season was statistically extraordinary, ranking in the 95th+ percentile across most key performance metrics when compared to both historical rookies and Monte Carlo simulations. His 49 championship points, 2.58 points per race, and 10 top-10 finishes placed him in the extreme upper tail of performance distributions, with the validated simulation model (correlation: 0.918) confirming these achievements occurred in less than 5% of projected rookie scenarios. This analysis demonstrates that Verstappen's debut wasn't merely impressive relative to typically low rookie expectations, but represented a genuine statistical outlier that combined exceptional natural talent with competitive machinery to produce performance levels rarely seen in Formula 1 history.</p>

<div class="chart-placeholder" onclick="expandChart(this)">
                    <img src="2015/Images/pastrookies2015.png" alt="Australian Grand Prix 2015 Position Chart">
                </div>
                <b><small>Verstappen ranks 3rd all-time in rookie points with 49 points, which is remarkable considering this list spans nearly two decades (2001-2015). Only Lewis Hamilton's legendary 2007 championship-contending season (109 points) and Kevin Magnussen's strong 2014 debut (55 points) surpass him.</small></b>
                <h4><strong>Key Performance Indicators</strong></h4>
                <p><strong>Points Achievement:</strong> Verstappen's 49 points represent a significant jump above the historical norm. There's a clear performance cliff after the top 3, with 4th place Montoya scoring just 31 points - a 37% drop from Verstappen's total.</p>
                <p><strong>Consistency vs. Peak Performance:</strong> While Verstappen's 9.8 average position ranks him 3rd (behind Hamilton's 3.0 and Montoya's 3.2), his 10 top-10 finishes demonstrate exceptional consistency. This ties him with Räikkönen despite Räikkönen having a much lower points total (9 vs 49), highlighting how Verstappen converted top-10s into points more effectively.</p>
                <p><strong>Era-Adjusted Excellence:</strong> Verstappen's performance becomes even more impressive when considering the competitive landscape. Unlike Hamilton, who joined McLaren as a title contender, or Magnussen, who benefited from a strong McLaren package, Verstappen drove for Toro Rosso - historically a midfield team.</p>
                <h4><strong>Historical Significance</strong></h4>
                <p>Based on the statistical analysis and research, Max Verstappen's 2015 rookie performance represents the most historically significant F1 debut ever recorded. At 17 years and 166 days, he became the youngest driver in F1 history by almost two years, delivering statistically extraordinary performance that ranked in the 95th+ percentile of rookie expectations with 49 points, 2.58 points per race, 9.8 average position, and 10 top-10 finishes - placing him 3rd all-time among rookies with a massive 37% performance gap above 4th place (31 points). The Monte Carlo simulation analysis revealed he outperformed 98.6% of projected rookie seasons in total points, 97.7% in points per race, and 94.6% in top-10 finishes, demonstrating performance levels that occur in less than 2% of scenarios even under optimistic modeling. His controversial promotion directly from F3 to F1, bypassing GP2 entirely, challenged conventional driver development wisdom and sparked massive criticism, with journalists calling Red Bull "totally stupid" for putting a 17-year-old without a driver's license in F1. Verstappen's debut triggered a cascade of "youngest ever" records - points scorer (14 days later), race winner, podium finisher, and race leader. This statistical evidence proves his rookie season wasn't just impressive for a young driver, but represented genuinely elite performance that would have been exceptional at any age, fundamentally transforming F1's approach to young talent and regulatory frameworks while establishing performance benchmarks that remain unmatched nearly a decade later.</p>
            </section>
    </div>

    <!-- HTML for Floating TOC Sidebar - Insert anywhere in body -->
<!-- Hover trigger area -->
<div class="toc-hover-trigger" id="tocHoverTrigger"></div>

<div class="floating-toc" id="floatingToc">
    <div class="floating-toc-header">Content</div>
    
    <div class="floating-toc-item">
        <a href="#overview">
            <span class="floating-toc-number">1</span>
            <span class="floating-toc-text">Season Overview</span>
        </a>
    </div>
    
    <div class="floating-toc-item">
        <a href="#driver">
            <span class="floating-toc-number">2</span>
            <span class="floating-toc-text">2015 F1 Drivers</span>
        </a>
    </div>
    
    <div class="floating-toc-item">
        <a href="#teams">
            <span class="floating-toc-number">3</span>
            <span class="floating-toc-text">Constructor Teams</span>
        </a>
    </div>
    
    <div class="floating-toc-item">
        <a href="#championship">
            <span class="floating-toc-number">4</span>
            <span class="floating-toc-text">Championship Standings</span>
        </a>
    </div>
    
    <div class="floating-toc-item">
        <a href="#quali">
            <span class="floating-toc-number">5</span>
            <span class="floating-toc-text">Qualifying vs Race</span>
        </a>
    </div>
    
    <div class="floating-toc-item">
        <a href="#race-slideshow">
            <span class="floating-toc-number">6</span>
            <span class="floating-toc-text">Race-by-Race</span>
        </a>
    </div>
   
    <div class="floating-toc-item">
        <a href="#analysis">
            <span class="floating-toc-number">7</span>
            <span class="floating-toc-text">Statistical Analysis</span>
        </a>
    </div>

    <div class="floating-toc-item">
        <a href="#driver-analysis">
            <span class="floating-toc-number">8</span>
            <span class="floating-toc-text">Driver Performance</span>
        </a>
    </div>
    
    <div class="floating-toc-item">
        <a href="#team-analysis">
            <span class="floating-toc-number">9</span>
            <span class="floating-toc-text">Constructor Performance</span>
        </a>
    </div>
    
    <div class="floating-toc-item">
        <a href="#verstappen">
            <span class="floating-toc-number">10</span>
            <span class="floating-toc-text">Verstappen Analysis</span>
        </a>
    </div>
</div>

<!-- TOC Toggle Button (Mobile) - Insert anywhere in body -->
<button class="toc-toggle" id="tocToggle">📋</button>


    <!-- Footer -->
    <footer class="ds-footer">
  <div class="ds-footer-container">
    <!-- Left side - Contact info -->
    <div class="ds-footer-left">
      <span>Contact</span>
      <p>05isabelchen@berkeley.edu</p>
    </div>
    
    <!-- Right side - Social links -->
    <div class="ds-footer-right">
      <div class="social-links">
        <a href="https://linkedin.com/in/05isabelchen" target="_blank" class="footer-link">LinkedIn</a>
        <a href="https://github.com/05isabelchen" target="_blank" class="footer-link">GitHub</a>
      </div>
    </div>
  </div>
  </footer>

  <div class="chart-expanded" id="chartExpanded" onclick="closeChart()">
    <div class="chart-expanded-content" onclick="event.stopPropagation()">
        <button class="chart-close" onclick="closeChart()">×</button>
        <div class="zoom-indicator" id="zoomIndicator">100%</div>
        <img id="expandedChartImg" src="" alt="Expanded Chart">
    </div>
</div>

    <!-- Back to Top Button -->
    <a href="#" class="back-to-top" onclick="scrollToTop(); return false;">↑</a>

    <script src = "2015/JS/2015.js"></script>
</body>
</html>